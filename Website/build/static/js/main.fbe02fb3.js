/*! For license information please see main.fbe02fb3.js.LICENSE.txt */
(()=>{"use strict";var e={534:(e,t,n)=>{var i=n(313),r=n(224);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,i,r,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function z(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case I:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=W(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=K(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function se(e,t){var n=K(t.value),i=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Se=null;function Ie(e){if(e=br(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=xr(t),_e(e.stateNode,e.type,t))}}function Te(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ee(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==ke||null!==Se)&&(Ae(),Ee())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var i=xr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Me=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Me=!1}function Oe(e,t,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,je=!1,Ve=null,ze={onError:function(e){Le=!0,Fe=e}};function Ue(e,t,n,i,r,s,o,a,l){Le=!1,Fe=null,Oe.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Ke(r),e;if(o===i)return Ke(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=r.unstable_scheduleCallback,Xe=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Qe=r.unstable_requestPaint,Je=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=ht(a):0!==(s&=o)&&(i=ht(s))}else 0!==(o=n&~r)?i=ht(o):0!==s&&(i=ht(s));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-ot(t)),i|=e[n],t&=~r;return i}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,kt,St,It,Tt=!1,Et=[],Ct=null,At=null,Nt=null,Dt=new Map,Pt=new Map,Mt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&_t(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ft(e){var t=yr(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&_t(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);we=i,n.target.dispatchEvent(i),we=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function zt(){Tt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Dt.forEach(Vt),Pt.forEach(Vt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var n=1;n<Et.length;n++){var i=Et[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==At&&Ut(At,e),null!==Nt&&Ut(Nt,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Mt.length;n++)(i=Mt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Mt.shift()}var qt=w.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,i){var r=bt,s=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,i)}finally{bt=r,qt.transition=s}}function Ht(e,t,n,i){var r=bt,s=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,i)}finally{bt=r,qt.transition=s}}function Gt(e,t,n,i){if(Kt){var r=Yt(e,t,n,i);if(null===r)Ki(e,t,i,Xt,n),Ot(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,i,r),!0;case"dragenter":return At=Lt(At,e,t,n,i,r),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Dt.set(s,Lt(Dt.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Ot(e,i),4&t&&-1<Rt.indexOf(e)){for(;null!==r;){var s=br(r);if(null!==s&&xt(s),null===(s=Yt(e,t,n,i))&&Ki(e,t,i,Xt,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Ki(e,t,i,null,n)}}var Xt=null;function Yt(e,t,n,i){if(Xt=null,null!==(e=yr(e=xe(i))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,i=n.length,r="value"in Jt?Jt.value:Jt.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[s-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,i,r,s){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),gn=sn(F({},fn,{dataTransfer:0})),mn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(F({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function In(){return Sn}var Tn=F({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(Tn),Cn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Nn=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Dn),Mn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Fn=u&&(!Rn||On&&8<On&&11>=On),jn=String.fromCharCode(32),Vn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,i){Te(i),0<(t=Hi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Xn(e){ji(e,0)}function Yn(e){if(G(wr(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),$n="function"===typeof ei.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function ti(){Hn&&(Hn.detachEvent("onpropertychange",ni),Gn=Hn=null)}function ni(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,xe(e)),De(Xn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Gn=n,(Hn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function si(e,t){if("click"===e)return Yn(t)}function oi(e,t){if("input"===e||"change"===e)return Yn(t)}var ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(ai(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!ai(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=di(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=ui(n,s);var o=ui(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,yi=null,bi=!1;function wi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==mi||mi!==X(i)||("selectionStart"in(i=mi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Hi(vi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _i={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},ki={},Si={};function Ii(e){if(ki[e])return ki[e];if(!_i[e])return e;var t,n=_i[e];for(t in n)if(n.hasOwnProperty(t)&&t in Si)return ki[e]=n[t];return e}u&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);var Ti=Ii("animationend"),Ei=Ii("animationiteration"),Ci=Ii("animationstart"),Ai=Ii("transitionend"),Ni=new Map,Di="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(e,t){Ni.set(e,t),l(t,[e])}for(var Mi=0;Mi<Di.length;Mi++){var Ri=Di[Mi];Pi(Ri.toLowerCase(),"on"+(Ri[0].toUpperCase()+Ri.slice(1)))}Pi(Ti,"onAnimationEnd"),Pi(Ei,"onAnimationIteration"),Pi(Ci,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Ai,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function Fi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,a,l,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Fe;Le=!1,Fe=null,je||(je=!0,Ve=u)}}(i,t,void 0,e),e.currentTarget=null}function ji(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Fi(r,a,c),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Fi(r,a,c),s=l}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vi(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var i=e+"__bubble";n.has(i)||(qi(t,e,2,!1),n.add(i))}function zi(e,t,n){var i=0;t&&(i|=4),qi(n,e,i,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[Ui]){e[Ui]=!0,o.forEach((function(t){"selectionchange"!==t&&(Li.has(t)||zi(t,!1,e),zi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ui]||(t[Ui]=!0,zi("selectionchange",!1,t))}}function qi(e,t,n,i){switch(Qt(t)){case 1:var r=Wt;break;case 4:r=Ht;break;default:r=Gt}n=r.bind(null,t,n,e),r=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ki(e,t,n,i,r){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=yr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue e}a=a.parentNode}}i=i.return}De((function(){var i=s,r=xe(n),o=[];e:{var a=Ni.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Ti:case Ei:case Ci:l=vn;break;case Ai:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=i;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Pe(p,d))&&u.push(Wi(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,r),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[pr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wr(l),f=null==c?a:wr(c),(a=new u(g,p+"leave",l,n,r)).target=h,a.relatedTarget=f,g=null,yr(r)===i&&((u=new u(d,p+"enter",c,n,r)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gi(f))p++;for(f=0,g=d;g;g=Gi(g))f++;for(;0<p-f;)u=Gi(u),p--;for(;0<f-p;)d=Gi(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gi(u),d=Gi(d)}u=null}else u=null;null!==l&&Xi(o,a,l,u,!1),null!==c&&null!==h&&Xi(o,h,c,u,!0)}if("select"===(l=(a=i?wr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Qn;else if(Kn(a))if(Jn)m=oi;else{m=ri;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=si);switch(m&&(m=m(e,i))?Wn(o,m,n,r):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=i?wr(i):window,e){case"focusin":(Kn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,yi=null);break;case"focusout":yi=vi=mi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,wi(o,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":wi(o,n,r)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Zt="value"in(Jt=r)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Hi(i,b)).length&&(b=new wn(b,e,null,n,r),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&zn(e,t)?(e=en(),$t=Zt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Hi(i,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}ji(o,t)}))}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Pe(e,n))&&i.unshift(Wi(e,s,r)),null!=(s=Pe(e,t))&&i.push(Wi(e,s,r))),e=e.return}return i}function Gi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xi(e,t,n,i,r){for(var s=t._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Pe(n,s))&&o.unshift(Wi(n,l,a)):r||null!=(l=Pe(n,s))&&o.push(Wi(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function Ji(e){return("string"===typeof e?e:""+e).replace(Yi,"\n").replace(Qi,"")}function Zi(e,t,n){if(t=Ji(t),Ji(e)!==t&&n)throw Error(s(425))}function $i(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(ar)}:ir;function ar(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Bt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Bt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,fr="__reactProps$"+hr,pr="__reactContainer$"+hr,gr="__reactEvents$"+hr,mr="__reactListeners$"+hr,vr="__reactHandles$"+hr;function yr(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[dr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[dr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xr(e){return e[fr]||null}var _r=[],kr=-1;function Sr(e){return{current:e}}function Ir(e){0>kr||(e.current=_r[kr],_r[kr]=null,kr--)}function Tr(e,t){kr++,_r[kr]=e.current,e.current=t}var Er={},Cr=Sr(Er),Ar=Sr(!1),Nr=Er;function Dr(e,t){var n=e.type.contextTypes;if(!n)return Er;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mr(){Ir(Ar),Ir(Cr)}function Rr(e,t,n){if(Cr.current!==Er)throw Error(s(168));Tr(Cr,t),Tr(Ar,n)}function Or(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(s(108,q(e)||"Unknown",r));return F({},n,i)}function Lr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Nr=Cr.current,Tr(Cr,e),Tr(Ar,Ar.current),!0}function Fr(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=Or(e,t,Nr),i.__reactInternalMemoizedMergedChildContext=e,Ir(Ar),Ir(Cr),Tr(Cr,e)):Ir(Ar),Tr(Ar,n)}var jr=null,Vr=!1,zr=!1;function Ur(e){null===jr?jr=[e]:jr.push(e)}function Br(){if(!zr&&null!==jr){zr=!0;var e=0,t=bt;try{var n=jr;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}jr=null,Vr=!1}catch(r){throw null!==jr&&(jr=jr.slice(e+1)),Ge($e,Br),r}finally{bt=t,zr=!1}}return null}var qr=[],Kr=0,Wr=null,Hr=0,Gr=[],Xr=0,Yr=null,Qr=1,Jr="";function Zr(e,t){qr[Kr++]=Hr,qr[Kr++]=Wr,Wr=e,Hr=t}function $r(e,t,n){Gr[Xr++]=Qr,Gr[Xr++]=Jr,Gr[Xr++]=Yr,Yr=e;var i=Qr;e=Jr;var r=32-ot(i)-1;i&=~(1<<r),n+=1;var s=32-ot(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Qr=1<<32-ot(t)+r|n<<r|i,Jr=s+e}else Qr=1<<s|n<<r|i,Jr=e}function es(e){null!==e.return&&(Zr(e,1),$r(e,1,0))}function ts(e){for(;e===Wr;)Wr=qr[--Kr],qr[Kr]=null,Hr=qr[--Kr],qr[Kr]=null;for(;e===Yr;)Yr=Gr[--Xr],Gr[Xr]=null,Jr=Gr[--Xr],Gr[Xr]=null,Qr=Gr[--Xr],Gr[Xr]=null}var ns=null,is=null,rs=!1,ss=null;function os(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,is=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Qr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,is=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=is;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=cr(n.nextSibling);var i=ns;t&&as(e,t)?os(i,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!rs)return us(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=is)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=cr(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=ns?cr(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=is;e;)e=cr(e.nextSibling)}function fs(){is=ns=null,rs=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var gs=w.ReactCurrentBatchConfig;function ms(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Sr(null),ys=null,bs=null,ws=null;function xs(){ws=bs=ys=null}function _s(e){var t=vs.current;Ir(vs),e._currentValue=t}function ks(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){ys=e,ws=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===ys)throw Error(s(308));bs=e,ys.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var Ts=null;function Es(e){null===Ts?Ts=[e]:Ts.push(e)}function Cs(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Es(t)):(n.next=r.next,r.next=n),t.interleaved=n,As(e,i)}function As(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ns=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Al)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,As(e,n)}return null===(r=i.interleaved)?(t.next=t,Es(i)):(t.next=r.next,r.next=t),i.interleaved=t,As(e,n)}function Os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ls(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,i){var r=e.updateQueue;Ns=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Ns=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=h}}function js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Vs=(new i.Component).refs;function zs(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Us={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),s=Ms(i,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,r))&&(ic(t,e,r,i),Os(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),s=Ms(i,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Rs(e,s,r))&&(ic(t,e,r,i),Os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),i=nc(e),r=Ms(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Rs(e,r,i))&&(ic(t,e,i,n),Os(t,e,i))}};function Bs(e,t,n,i,r,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function qs(e,t,n){var i=!1,r=Er,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(r=Pr(t)?Nr:Cr.current,s=(i=null!==(i=t.contextTypes)&&void 0!==i)?Dr(e,r):Er),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Us,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ks(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Us.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Vs,Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=Is(s):(s=Pr(t)?Nr:Cr.current,r.context=Dr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(zs(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Us.enqueueReplaceState(r,r.state,null),Fs(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Hs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===Vs&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=jc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var s=n.type;return s===k?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Xs(s)===t.type)?((i=r(t,n.props)).ref=Hs(e,t,n),i.return=e,i):((i=Oc(n.type,n.key,n.props,null,e.mode,i)).ref=Hs(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,i,s)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Hs(e,null,t),n.return=e,n;case _:return(t=Vc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?c(e,t,n,i):null;case _:return n.key===r?u(e,t,n,i):null;case P:return f(e,t,(r=n._init)(n._payload),i)}if(te(n)||O(n))return null!==r?null:h(e,t,n,i,null);Gs(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case _:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case P:return p(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||O(i))return h(t,e=e.get(n)||null,i,r,null);Gs(t,i)}return null}function g(r,s,a,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(r,h,a[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(r,h),s=o(v,s,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(r,h),rs&&Zr(r,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(r,a[g],l))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return rs&&Zr(r,g),c}for(h=i(r,h);g<a.length;g++)null!==(m=p(h,r,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(r,e)})),rs&&Zr(r,g),c}function m(r,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(r,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(r,g),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(r,g),rs&&Zr(r,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(r,y.value,c))&&(a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return rs&&Zr(r,m),u}for(g=i(r,g);!y.done;m++,y=l.next())null!==(y=p(g,r,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(r,e)})),rs&&Zr(r,m),u}return function e(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(i,u.sibling),(s=r(u,o.props.children)).return=i,i=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Xs(c)===u.type){n(i,u.sibling),(s=r(u,o.props)).ref=Hs(i,u,o),s.return=i,i=s;break e}n(i,u);break}t(i,u),u=u.sibling}o.type===k?((s=Lc(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=Oc(o.type,o.key,o.props,null,i.mode,l)).ref=Hs(i,s,o),l.return=i,i=l)}return a(i);case _:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break e}n(i,s);break}t(i,s),s=s.sibling}(s=Vc(o,i.mode,l)).return=i,i=s}return a(i);case P:return e(i,s,(u=o._init)(o._payload),l)}if(te(o))return g(i,s,o,l);if(O(o))return m(i,s,o,l);Gs(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=jc(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var Qs=Ys(!0),Js=Ys(!1),Zs={},$s=Sr(Zs),eo=Sr(Zs),to=Sr(Zs);function no(e){if(e===Zs)throw Error(s(174));return e}function io(e,t){switch(Tr(to,t),Tr(eo,e),Tr($s,Zs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ir($s),Tr($s,t)}function ro(){Ir($s),Ir(eo),Ir(to)}function so(e){no(to.current);var t=no($s.current),n=le(t,e.type);t!==n&&(Tr(eo,e),Tr($s,n))}function oo(e){eo.current===e&&(Ir($s),Ir(eo))}var ao=Sr(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=w.ReactCurrentDispatcher,fo=w.ReactCurrentBatchConfig,po=0,go=null,mo=null,vo=null,yo=!1,bo=!1,wo=0,xo=0;function _o(){throw Error(s(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function So(e,t,n,i,r,o){if(po=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(i,r),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(s(301));o+=1,vo=mo=null,t.updateQueue=null,ho.current=ca,e=n(i,r)}while(bo)}if(ho.current=oa,t=null!==mo&&null!==mo.next,po=0,vo=mo=go=null,yo=!1,t)throw Error(s(300));return e}function Io(){var e=0!==wo;return wo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?go.memoizedState=vo=e:vo=vo.next=e,vo}function Eo(){if(null===mo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===vo?go.memoizedState:vo.next;if(null!==t)vo=t,mo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===vo?go.memoizedState=vo=e:vo=vo.next=e}return vo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Eo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=mo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,go.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=i:c.next=l,ai(i,t.memoizedState)||(wa=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,go.lanes|=o,Fl|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Eo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);ai(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Do(){}function Po(e,t){var n=go,i=Eo(),r=t(),o=!ai(i.memoizedState,r);if(o&&(i.memoizedState=r,wa=!0),i=i.queue,Ko(Oo.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Vo(9,Ro.bind(null,n,i,r,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&po)||Mo(n,t,r)}return r}function Mo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,i){t.value=n,t.getSnapshot=i,Lo(t)&&Fo(e)}function Oo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(i){return!0}}function Fo(e){var t=As(e,1);null!==t&&ic(t,e,1,-1)}function jo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,go,e),[t.memoizedState,e]}function Vo(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function zo(){return Eo().memoizedState}function Uo(e,t,n,i){var r=To();go.flags|=e,r.memoizedState=Vo(1|t,n,void 0,void 0===i?null:i)}function Bo(e,t,n,i){var r=Eo();i=void 0===i?null:i;var s=void 0;if(null!==mo){var o=mo.memoizedState;if(s=o.destroy,null!==i&&ko(i,o.deps))return void(r.memoizedState=Vo(t,n,s,i))}go.flags|=e,r.memoizedState=Vo(1|t,n,s,i)}function qo(e,t){return Uo(8390656,8,e,t)}function Ko(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Qo(e,t){var n=Eo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ko(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Eo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ko(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ai(n,t)||(n=gt(),go.lanes|=n,Fl|=n,e.baseState=!0),t)}function $o(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=i}}function ea(){return Eo().memoizedState}function ta(e,t,n){var i=nc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ia(e))ra(t,n);else if(null!==(n=Cs(e,t,n,i))){ic(n,e,i,tc()),sa(n,t,i)}}function na(e,t,n){var i=nc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ia(e))ra(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,o)){var l=t.interleaved;return null===l?(r.next=r,Es(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Cs(e,t,r,i))&&(ic(n,e,i,r=tc()),sa(n,t,i))}}function ia(e){var t=e.alternate;return e===go||null!==t&&t===go}function ra(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:Is,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},aa={readContext:Is,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=To();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ta.bind(null,go,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=$o.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=go,r=To();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&po)||Mo(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,qo(Oo.bind(null,i,o,e),[e]),i.flags|=2048,Vo(9,Ro.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Nl.identifierPrefix;if(rs){var n=Jr;t=":"+t+"R"+(n=(Qr&~(1<<32-ot(Qr)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Is,useCallback:Qo,useContext:Is,useEffect:Ko,useImperativeHandle:Xo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Jo,useReducer:Ao,useRef:zo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(Eo(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Eo().memoizedState]},useMutableSource:Do,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Is,useCallback:Qo,useContext:Is,useEffect:Ko,useImperativeHandle:Xo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Jo,useReducer:No,useRef:zo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=Eo();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],Eo().memoizedState]},useMutableSource:Do,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",i=t;do{n+=U(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=i),da(0,t)},n}function ga(e,t,n){(n=Ms(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof i&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new fa;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,Rs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var ba=w.ReactCurrentOwner,wa=!1;function xa(e,t,n,i){t.child=null===e?Js(t,null,n,i):Qs(t,e.child,n,i)}function _a(e,t,n,i,r){n=n.render;var s=t.ref;return Ss(t,r),i=So(e,t,n,i,s,r),n=Io(),null===e||wa?(rs&&n&&es(t),t.flags|=1,xa(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wa(e,t,r))}function ka(e,t,n,i,r){if(null===e){var s=n.type;return"function"!==typeof s||Mc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,i,r))}if(s=e.child,0===(e.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&e.ref===t.ref)return Wa(e,t,r)}return t.flags|=1,(e=Rc(s,i)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(li(s,i)&&e.ref===t.ref){if(wa=!1,t.pendingProps=i=s,0===(e.lanes&r))return t.lanes=e.lanes,Wa(e,t,r);0!==(131072&e.flags)&&(wa=!0)}}return Ea(e,t,n,i,r)}function Ia(e,t,n){var i=t.pendingProps,r=i.children,s=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(Rl,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tr(Rl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Tr(Rl,Ml),Ml|=i}else null!==s?(i=s.baseLanes|n,t.memoizedState=null):i=n,Tr(Rl,Ml),Ml|=i;return xa(e,t,r,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,i,r){var s=Pr(n)?Nr:Cr.current;return s=Dr(t,s),Ss(t,r),n=So(e,t,n,i,s,r),i=Io(),null===e||wa?(rs&&i&&es(t),t.flags|=1,xa(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wa(e,t,r))}function Ca(e,t,n,i,r){if(Pr(n)){var s=!0;Lr(t)}else s=!1;if(Ss(t,r),null===t.stateNode)Ka(e,t),qs(t,n,i),Ws(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Is(c):c=Dr(t,c=Pr(n)?Nr:Cr.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&Ks(t,o,i,c),Ns=!1;var d=t.memoizedState;o.state=d,Fs(t,i,o,r),l=t.memoizedState,a!==i||d!==l||Ar.current||Ns?("function"===typeof u&&(zs(t,n,u,i),l=t.memoizedState),(a=Ns||Bs(t,n,a,i,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Ps(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ms(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Is(l):l=Dr(t,l=Pr(n)?Nr:Cr.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Ks(t,o,i,l),Ns=!1,d=t.memoizedState,o.state=d,Fs(t,i,o,r);var p=t.memoizedState;a!==h||d!==p||Ar.current||Ns?("function"===typeof f&&(zs(t,n,f,i),p=t.memoizedState),(c=Ns||Bs(t,n,c,i,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Aa(e,t,n,i,s,r)}function Aa(e,t,n,i,r,s){Ta(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&Fr(t,n,!1),Wa(e,t,s);i=t.stateNode,ba.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=Qs(t,e.child,null,s),t.child=Qs(t,null,a,s)):xa(e,t,a,s),t.memoizedState=i.state,r&&Fr(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Rr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rr(0,t.context,!1),io(e,t.containerInfo)}function Da(e,t,n,i,r){return fs(),ps(r),t.flags|=256,xa(e,t,n,i),t.child}var Pa,Ma,Ra,Oa,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var i,r=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Tr(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,r,0,null),e=Lc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=La,e):Va(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,r,o,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,i=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=Fc({mode:"visible",children:i.children},r,0,null),(o=Lc(o,r,a,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&Qs(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=La,o);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,za(e,t,a,i=ha(o=Error(s(419)),i,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(i=Nl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,As(e,r),ic(i,e,r,-1))}return mc(),za(e,t,a,i=ha(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,is=cr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&(Gr[Xr++]=Qr,Gr[Xr++]=Jr,Gr[Xr++]=Yr,Qr=e.id,Jr=e.overflow,Yr=t),t=Va(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,o,n);if(a){a=r.fallback,l=t.mode,i=(o=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Rc(i,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,r}return e=(a=e.child).sibling,r=Rc(a,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Va(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,i){return null!==i&&ps(i),Qs(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),ks(e.return,t,n)}function Ba(e,t,n,i,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function qa(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(xa(e,t,i.children,n),0!==(2&(i=ao.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Tr(ao,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ba(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===lo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Xa(e,t,n){var i=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Pr(t.type)&&Mr(),Ga(t),null;case 3:return i=t.stateNode,ro(),Ir(Ar),Ir(Cr),uo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Ma(e,t),Ga(t),null;case 5:oo(t);var r=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=no($s.current),hs(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[dr]=t,i[fr]=o,e=0!==(1&t.mode),n){case"dialog":Vi("cancel",i),Vi("close",i);break;case"iframe":case"object":case"embed":Vi("load",i);break;case"video":case"audio":for(r=0;r<Oi.length;r++)Vi(Oi[r],i);break;case"source":Vi("error",i);break;case"img":case"image":case"link":Vi("error",i),Vi("load",i);break;case"details":Vi("toggle",i);break;case"input":Q(i,o),Vi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Vi("invalid",i);break;case"textarea":re(i,o),Vi("invalid",i)}for(var l in ye(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zi(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zi(i.textContent,c,e),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vi("scroll",i)}switch(n){case"input":H(i),$(i,o,!0);break;case"textarea":H(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=$i)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[dr]=t,e[fr]=i,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":Vi("cancel",e),Vi("close",e),r=i;break;case"iframe":case"object":case"embed":Vi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Oi.length;r++)Vi(Oi[r],e);r=i;break;case"source":Vi("error",e),r=i;break;case"img":case"image":case"link":Vi("error",e),Vi("load",e),r=i;break;case"details":Vi("toggle",e),r=i;break;case"input":Q(e,i),r=Y(e,i),Vi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=F({},i,{value:void 0}),Vi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Vi("invalid",e)}for(o in ye(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vi("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":H(e),$(e,i,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+K(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no($s.current),hs(t)){if(i=t.stateNode,n=t.memoizedProps,i[dr]=t,(o=i.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zi(i.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=t,t.stateNode=i}return Ga(t),null;case 13:if(Ir(ao),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[dr]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return ro(),Ma(e,t),null===e&&Bi(t.stateNode.containerInfo),Ga(t),null;case 10:return _s(t.type._context),Ga(t),null;case 19:if(Ir(ao),null===(o=t.memoizedState))return Ga(t),null;if(i=0!==(128&t.flags),null===(l=o.rendering))if(i)Ha(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ha(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Tr(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>ql&&(t.flags|=128,i=!0,Ha(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=lo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return Ga(t),null}else 2*Je()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,i=!0,Ha(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=ao.current,Tr(ao,i?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Pr(t.type)&&Mr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ro(),Ir(Ar),Ir(Cr),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ir(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ir(ao),null;case 4:return ro(),null;case 10:return _s(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ma=function(){},Ra=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,no($s.current);var s,o=null;switch(n){case"input":r=Y(e,r),i=Y(e,i),o=[];break;case"select":r=F({},r,{value:void 0}),i=F({},i,{value:void 0}),o=[];break;case"textarea":r=ie(e,r),i=ie(e,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=$i)}for(u in ye(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vi("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,i){n!==i&&(t.flags|=4)};var Qa=!1,Ja=!1,Za="function"===typeof WeakSet?WeakSet:Set,$a=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Ic(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){Ic(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&tl(t,n,s)}r=r.next}while(r!==i)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[fr],delete t[gr],delete t[mr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$i));else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(a){}switch(n.tag){case 5:Ja||el(n,t);case 6:var i=hl,r=dl;hl=null,fl(e,t,n),dl=r,null!==(hl=i)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Bt(e)):lr(hl,n.stateNode));break;case 4:i=hl,r=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),r=r.next}while(r!==i)}fl(e,t,n);break;case 1:if(!Ja&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ic(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ja=(i=Ja)||null!==n.memoizedState,fl(e,t,n),Ja=i):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var i=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,r),hl=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Ic(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&i){try{il(3,e,e.return),rl(3,e)}catch(m){Ic(e,e.return,m)}try{il(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:ml(t,e),yl(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),yl(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(m){Ic(e,e.return,m)}}if(4&i&&null!=(r=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(r,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?me(r,d):"dangerouslySetInnerHTML"===h?he(r,d):"children"===h?de(r,d):b(r,h,d,u)}switch(l){case"input":Z(r,o);break;case"textarea":se(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(r,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(r,!!o.multiple,o.defaultValue,!0):ne(r,!!o.multiple,o.multiple?[]:"",!1))}r[fr]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(ml(t,e),yl(e),4&i){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(ml(t,e),yl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Bl=Je())),4&i&&gl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||h,ml(t,e),Ja=u):ml(t,e),yl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for($a=e,h=e.child;null!==h;){for(d=$a=h;null!==$a;){switch(p=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){i=f,n=f.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ic(i,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,$a=p):_l(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){Ic(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&i&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(de(r,""),i.flags&=-33),ul(e,ll(e),r);break;case 3:case 4:var o=i.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){Ic(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){$a=e,wl(e,t,n)}function wl(e,t,n){for(var i=0!==(1&e.mode);null!==$a;){var r=$a,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Qa;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Qa;var c=Ja;if(Qa=o,(Ja=l)&&!c)for($a=r;null!==$a;)l=(o=$a).child,22===o.tag&&null!==o.memoizedState?kl(r):null!==l?(l.return=o,$a=l):kl(r);for(;null!==s;)$a=s,wl(s,t,n),s=s.sibling;$a=r,Qa=a,Ja=c}xl(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,$a=s):xl(e)}}function xl(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||rl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ja)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ms(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&js(t,o,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}js(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&sl(t)}catch(f){Ic(t,t.return,f)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function _l(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function kl(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ic(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Ic(t,r,l)}}var s=t.return;try{sl(t)}catch(l){Ic(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Ic(t,o,l)}}}catch(l){Ic(t,t.return,l)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var Sl,Il=Math.ceil,Tl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Al=0,Nl=null,Dl=null,Pl=0,Ml=0,Rl=Sr(0),Ol=0,Ll=null,Fl=0,jl=0,Vl=0,zl=null,Ul=null,Bl=0,ql=1/0,Kl=null,Wl=!1,Hl=null,Gl=null,Xl=!1,Yl=null,Ql=0,Jl=0,Zl=null,$l=-1,ec=0;function tc(){return 0!==(6&Al)?Je():-1!==$l?$l:$l=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Pl?Pl&-Pl:null!==gs.transition?(0===ec&&(ec=gt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function ic(e,t,n,i){if(50<Jl)throw Jl=0,Zl=null,Error(s(185));vt(e,n,i),0!==(2&Al)&&e===Nl||(e===Nl&&(0===(2&Al)&&(jl|=n),4===Ol&&lc(e,Pl)),rc(e,i),1===n&&0===Al&&0===(1&t.mode)&&(ql=Je()+500,Vr&&Br()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var i=dt(e,e===Nl?Pl:0);if(0===i)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Vr=!0,Ur(e)}(cc.bind(null,e)):Ur(cc.bind(null,e)),or((function(){0===(6&Al)&&Br()})),n=null;else{switch(wt(i)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Nc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if($l=-1,ec=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var i=dt(e,e===Nl?Pl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=vc(e,i);else{t=i;var r=Al;Al|=2;var o=gc();for(Nl===e&&Pl===t||(Kl=null,ql=Je()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}xs(),Tl.current=o,Al=r,null!==Dl?t=0:(Nl=null,Pl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(i=r,t=oc(e,r))),1===t)throw n=Ll,fc(e,0),lc(e,i),rc(e,Je()),n;if(6===t)lc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,i))&&(0!==(o=pt(e))&&(i=o,t=oc(e,o))),1===t))throw n=Ll,fc(e,0),lc(e,i),rc(e,Je()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:case 5:_c(e,Ul,Kl);break;case 3:if(lc(e,i),(130023424&i)===i&&10<(t=Bl+500-Je())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(_c.bind(null,e,Ul,Kl),t);break}_c(e,Ul,Kl);break;case 4:if(lc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var a=31-ot(i);o=1<<a,(a=t[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=Je()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Il(i/1960))-i)){e.timeoutHandle=ir(_c.bind(null,e,Ul,Kl),i);break}_c(e,Ul,Kl);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~Vl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function cc(e){if(0!==(6&Al))throw Error(s(327));kc();var t=dt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=oc(e,i))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Ul,Kl),rc(e,Je()),null}function uc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(ql=Je()+500,Vr&&Br())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&kc();var t=Al;Al|=1;var n=Cl.transition,i=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=i,Cl.transition=n,0===(6&(Al=t))&&Br()}}function dc(){Ml=Rl.current,Ir(Rl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Dl)for(n=Dl.return;null!==n;){var i=n;switch(ts(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Mr();break;case 3:ro(),Ir(Ar),Ir(Cr),uo();break;case 5:oo(i);break;case 4:ro();break;case 13:case 19:Ir(ao);break;case 10:_s(i.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Dl=e=Rc(e.current,null),Pl=Ml=t,Ol=0,Ll=null,Vl=jl=Fl=0,Ul=zl=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(i=(n=Ts[t]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}Ts=null}return e}function pc(e,t){for(;;){var n=Dl;try{if(xs(),ho.current=oa,yo){for(var i=go.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}yo=!1}if(po=0,vo=mo=go=null,bo=!1,wo=0,El.current=null,null===n||null===n.return){Ol=1,Ll=t,Dl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(o,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ma(o,u,t),mc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Ol&&(Ol=2),null===zl?zl=[o]:zl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ls(o,pa(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ls(o,ga(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(w){t=w,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function gc(){var e=Tl.current;return Tl.current=oa,null===e?oa:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Nl||0===(268435455&Fl)&&0===(268435455&jl)||lc(Nl,Pl)}function vc(e,t){var n=Al;Al|=2;var i=gc();for(Nl===e&&Pl===t||(Kl=null,fc(e,t));;)try{yc();break}catch(r){pc(e,r)}if(xs(),Al=n,Tl.current=i,null!==Dl)throw Error(s(261));return Nl=null,Pl=0,Ol}function yc(){for(;null!==Dl;)wc(Dl)}function bc(){for(;null!==Dl&&!Ye();)wc(Dl)}function wc(e){var t=Sl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?xc(e):Dl=t,El.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xa(n,t,Ml)))return void(Dl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Ol=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Ol&&(Ol=5)}function _c(e,t,n){var i=bt,r=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,i){do{kc()}while(null!==Yl);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}(e,o),e===Nl&&(Dl=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Nc(tt,(function(){return kc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=bt;bt=1;var l=Al;Al|=4,El.current=null,function(e,t){if(er=Kt,fi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===r&&(l=a),f===o&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Kt=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ms(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){Ic(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}g=nl,nl=!1}(e,n),vl(n,e),pi(tr),Kt=!!er,tr=er=null,e.current=n,bl(n,e,r),Qe(),Al=l,bt=a,Cl.transition=o}else e.current=n;if(Xl&&(Xl=!1,Yl=e,Ql=r),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Ql)&&0!==e.tag&&kc(),o=e.pendingLanes,0!==(1&o)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,Br()}(e,t,n,i)}finally{Cl.transition=r,bt=i}return null}function kc(){if(null!==Yl){var e=wt(Ql),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Yl)var i=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Al))throw Error(s(331));var r=Al;for(Al|=4,$a=e.current;null!==$a;){var o=$a,a=o.child;if(0!==(16&$a.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($a=u;null!==$a;){var h=$a;switch(h.tag){case 0:case 11:case 15:il(8,h,o)}var d=h.child;if(null!==d)d.return=h,$a=d;else for(;null!==$a;){var f=(h=$a).sibling,p=h.return;if(ol(h),h===u){$a=null;break}if(null!==f){f.return=p,$a=f;break}$a=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}$a=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,$a=a;else e:for(;null!==$a;){if(0!==(2048&(o=$a).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$a=y;break e}$a=o.return}}var b=e.current;for($a=b;null!==$a;){var w=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,$a=w;else e:for(a=b;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Ic(l,l.return,_)}if(l===a){$a=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,$a=x;break e}$a=l.return}}if(Al=r,Br(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(_){}i=!0}return i}finally{bt=n,Cl.transition=t}}return!1}function Sc(e,t,n){e=Rs(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Gl||!Gl.has(i))){t=Rs(t,e=ga(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Ol||3===Ol&&(130023424&Pl)===Pl&&500>Je()-Bl?fc(e,0):Vl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=As(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(t),Ec(e,n)}function Nc(e,t){return Ge(e,t)}function Dc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,i){return new Dc(e,t,n,i)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,i,r,o){var a=2;if(i=e,"function"===typeof e)Mc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Lc(n.children,r,o,t);case S:a=8,r|=8;break;case I:return(e=Pc(12,n,t,2|r)).elementType=I,e.lanes=o,e;case A:return(e=Pc(13,n,t,r)).elementType=A,e.lanes=o,e;case N:return(e=Pc(19,n,t,r)).elementType=N,e.lanes=o,e;case M:return Fc(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case E:a=9;break e;case C:a=11;break e;case D:a=14;break e;case P:a=16,i=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Lc(e,t,n,i){return(e=Pc(7,e,i,t)).lanes=n,e}function Fc(e,t,n,i){return(e=Pc(22,e,i,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,i,r,s,o,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function Bc(e){if(!e)return Er;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pr(n))return Or(e,n,t)}return t}function qc(e,t,n,i,r,s,o,a,l){return(e=Uc(n,i,!0,e,0,s,0,a,l)).context=Bc(null),n=e.current,(s=Ms(i=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Rs(n,s,r),e.current.lanes=r,vt(e,r,i),rc(e,i),e}function Kc(e,t,n,i){var r=t.current,s=tc(),o=nc(r);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Rs(r,t,o))&&(ic(e,r,o,s),Os(e,r,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ar.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fs();break;case 5:so(t);break;case 1:Pr(t.type)&&Lr(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Tr(vs,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Tr(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Tr(ao,1&ao.current),null!==(e=Wa(e,t,n))?e.sibling:null);Tr(ao,1&ao.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return qa(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Tr(ao,ao.current),i)break;return null;case 22:case 23:return t.lanes=0,Ia(e,t,n)}return Wa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,rs&&0!==(1048576&t.flags)&&$r(t,Hr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ka(e,t),e=t.pendingProps;var r=Dr(t,Cr.current);Ss(t,n),r=So(null,t,i,e,r,n);var o=Io();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(i)?(o=!0,Lr(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ds(t),r.updater=Us,t.stateNode=r,r._reactInternals=t,Ws(t,i,e,n),t=Aa(null,t,i,!0,o,n)):(t.tag=0,rs&&o&&es(t),xa(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ka(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(i),e=ms(i,e),r){case 0:t=Ea(null,t,i,e,n);break e;case 1:t=Ca(null,t,i,e,n);break e;case 11:t=_a(null,t,i,e,n);break e;case 14:t=ka(null,t,i,ms(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ea(e,t,i,r=t.elementType===i?r:ms(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ca(e,t,i,r=t.elementType===i?r:ms(i,r),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));i=t.pendingProps,r=(o=t.memoizedState).element,Ps(e,t),Fs(t,i,null,n);var a=t.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Da(e,t,i,n,r=ua(Error(s(423)),t));break e}if(i!==r){t=Da(e,t,i,n,r=ua(Error(s(424)),t));break e}for(is=cr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=Js(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),i===r){t=Wa(e,t,n);break e}xa(e,t,i,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==o&&nr(i,o)&&(t.flags|=32),Ta(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return ja(e,t,n);case 4:return io(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Qs(t,null,i,n):xa(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,_a(e,t,i,r=t.elementType===i?r:ms(i,r),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,a=r.value,Tr(vs,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===r.children&&!Ar.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=Ms(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ks(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ks(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Ss(t,n),i=i(r=Is(r)),t.flags|=1,xa(e,t,i,n),t.child;case 14:return r=ms(i=t.type,t.pendingProps),ka(e,t,i,r=ms(i.type,r),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ms(i,r),Ka(e,t),t.tag=1,Pr(i)?(e=!0,Lr(t)):e=!1,Ss(t,n),qs(t,i,r),Ws(t,i,r,n),Aa(null,t,i,!0,e,n);case 19:return qa(e,t,n);case 22:return Ia(e,t,n)}throw Error(s(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}Kc(t,o,e,r)}else o=function(e,t,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}var o=qc(t,i,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pr]=o.current,Bi(8===e.nodeType?e.parentNode:e),hc(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var a=i;i=function(){var e=Wc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pr]=l.current,Bi(8===e.nodeType?e.parentNode:e),hc((function(){Kc(t,l,n,i)})),l}(n,t,e,r,i);return Wc(o)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Kc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Kc(null,e,null,null)})),t[pr]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&Al)&&(ql=Je()+500,Br()))}break;case 13:hc((function(){var t=As(e,1);if(null!==t){var n=tc();ic(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=As(e,134217728);if(null!==t)ic(t,e,134217728,tc());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=As(e,t);if(null!==n)ic(n,e,t,tc());Gc(e,t)}},St=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=xr(i);if(!r)throw Error(s(90));G(i),Z(i,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ae=hc;var tu={usingClientEntryPoint:!1,Events:[br,wr,xr,Te,Ee,uc]},nu={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(iu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,i="",r=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,i,r),e[pr]=t.current,Bi(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,r,0,o,a),e[pr]=t.current,Bi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Qc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},739:(e,t,n)=>{var i=n(168);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},168:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},918:(e,t,n)=>{var i=n(313),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},306:(e,t)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,i){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!S.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:k.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,r,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===s?"."+C(l,0):s,x(o)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),A(o,t,r,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+C(a=e[c],c);l+=A(a,t,r,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=A(a=a.value,t,r,u=s+C(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var i=[],r=0;return A(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},M={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},313:(e,t,n)=>{e.exports=n(306)},417:(e,t,n)=>{e.exports=n(918)},95:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<r&&0>s(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>s(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function x(e){if(m=!1,w(e),!g)if(null!==i(c))g=!0,M(_);else{var t=i(u);null!==t&&R(x,t.startTime-e)}}function _(e,n){g=!1,m&&(m=!1,y(T),T=-1),p=!0;var s=f;try{for(w(n),d=i(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),w(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&R(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,I=null,T=-1,E=5,C=-1;function A(){return!(t.unstable_now()-C<E)}function N(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?k():(S=!1,I=null)}}else S=!1}if("function"===typeof b)k=function(){b(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=N,k=function(){P.postMessage(null)}}else k=function(){v(N,0)};function M(e){I=e,S||(S=!0,k())}function R(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,M(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===i(c)&&e===i(u)&&(m?(y(T),T=-1):m=!0,R(x,s-o))):(e.sortIndex=a,n(c,e),g||p||(g=!0,M(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},224:(e,t,n)=>{e.exports=n(95)}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>i[e]));return o.default=()=>i,n.d(s,o),s}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[])),n.u=e=>"static/js/"+e+".4316526b.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="k1418-site:";n.l=(i,r,s,o)=>{if(e[i])e[i].push(r);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=i),e[i]=[r];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var r=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={179:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var s=new Promise(((n,i)=>r=e[t]=[n,i]));i.push(r[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,r[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var r,s,o=i[0],a=i[1],l=i[2],c=0;if(o.some((t=>0!==e[t]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(t&&t(i);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunkk1418_site=self.webpackChunkk1418_site||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{var e={};n.r(e),n.d(e,{FirebaseError:()=>Ue,SDK_VERSION:()=>Kt,_DEFAULT_ENTRY_NAME:()=>Pt,_addComponent:()=>Lt,_addOrOverwriteComponent:()=>Ft,_apps:()=>Rt,_clearComponents:()=>Ut,_components:()=>Ot,_getProvider:()=>Vt,_registerComponent:()=>jt,_removeServiceInstance:()=>zt,deleteApp:()=>Xt,getApp:()=>Ht,getApps:()=>Gt,initializeApp:()=>Wt,onLog:()=>Qt,registerVersion:()=>Yt,setLogLevel:()=>Jt});var t,i=n(313),r=n.t(i,2),s=n(739);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const a="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,i){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function p(e,n,i,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:c=!1}=r,f=s.history,p=t.Pop,g=null,m=v();function v(){return(f.state||{idx:null}).idx}function y(){p=t.Pop;let e=v(),n=null==e?null:e-m;m=e,g&&g({action:p,location:w.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:d(e);return l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,f.replaceState(o({},f.state,{idx:m}),""));let w={get action(){return p},get location(){return e(s,f)},listen(e){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(a,y),g=e,()=>{s.removeEventListener(a,y),g=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let r=h(w.location,e,n);i&&i(r,e),m=v()+1;let o=u(r,m),a=w.createHref(r);try{f.pushState(o,"",a)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;s.location.assign(a)}c&&g&&g({action:p,location:w.location,delta:1})},replace:function(e,n){p=t.Replace;let r=h(w.location,e,n);i&&i(r,e),m=v();let s=u(r,m),o=w.createHref(r);f.replaceState(s,"",o),c&&g&&g({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let i=N(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let r=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let s=null;for(let o=0;null==s&&o<r.length;++o)s=E(r[o],A(i));return s}function v(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(l(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let a=R([i,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),v(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:T(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of y(e.path))r(e,t,i);else r(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let o=y(i.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),r&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:\w+$/,w=3,x=2,_=1,k=10,S=-2,I=e=>"*"===e;function T(e,t){let n=e.split("/"),i=n.length;return n.some(I)&&(i+=S),t&&(i+=x),n.filter((e=>!I(e))).reduce(((e,t)=>e+(b.test(t)?w:""===t?_:k)),i)}function E(e,t){let{routesMeta:n}=e,i={},r="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(i,c.params);let u=e.route;s.push({params:i,pathname:R([r,c.pathname]),pathnameBase:O(R([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=R([r,c.pathnameBase]))}return s}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(i.push(t),"/([^\\/]+)")));e.endsWith("*")?(i.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1),l=i.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return c(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(a[n]||"",t),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function A(e){try{return decodeURI(e)}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function D(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=f(e):(r=o({},e),l(!r.pathname||!r.pathname.includes("?"),D("?","pathname","search",r)),l(!r.pathname||!r.pathname.includes("#"),D("#","pathname","hash",r)),l(!r.search||!r.search.includes("#"),D("#","search","hash",r)));let s,a=""===e||""===r.pathname,c=a?"/":r.pathname;if(i||null==c)s=n;else{let e=t.length-1;if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?f(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:L(i),hash:F(r)}}(r,s),h=c&&"/"!==c&&c.endsWith("/"),d=(a||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const R=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function j(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],z=(new Set(V),["get",...V]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},U.apply(this,arguments)}const B=i.createContext(null);const q=i.createContext(null);const K=i.createContext(null);const W=i.createContext(null);const H=i.createContext({outlet:null,matches:[],isDataRoute:!1});const G=i.createContext(null);function X(){return null!=i.useContext(W)}function Y(){return X()||l(!1),i.useContext(W).location}function Q(e){i.useContext(K).static||i.useLayoutEffect(e)}function J(){let{isDataRoute:e}=i.useContext(H);return e?function(){let{router:e}=ae(se.UseNavigateStable),t=ce(oe.UseNavigateStable),n=i.useRef(!1);Q((()=>{n.current=!0}));let r=i.useCallback((function(i,r){void 0===r&&(r={}),n.current&&("number"===typeof i?e.navigate(i):e.navigate(i,U({fromRouteId:t},r)))}),[e,t]);return r}():function(){X()||l(!1);let e=i.useContext(B),{basename:t,navigator:n}=i.useContext(K),{matches:r}=i.useContext(H),{pathname:s}=Y(),o=JSON.stringify(P(r).map((e=>e.pathnameBase))),a=i.useRef(!1);Q((()=>{a.current=!0}));let c=i.useCallback((function(i,r){if(void 0===r&&(r={}),!a.current)return;if("number"===typeof i)return void n.go(i);let l=M(i,JSON.parse(o),s,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:R([t,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)}),[t,n,o,s,e]);return c}()}function Z(e,t){let{relative:n}=void 0===t?{}:t,{matches:r}=i.useContext(H),{pathname:s}=Y(),o=JSON.stringify(P(r).map((e=>e.pathnameBase)));return i.useMemo((()=>M(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function $(e,n,r){X()||l(!1);let{navigator:s}=i.useContext(K),{matches:o}=i.useContext(H),a=o[o.length-1],c=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let h,d=Y();if(n){var p;let e="string"===typeof n?f(n):n;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||l(!1),h=e}else h=d;let g=h.pathname||"/",v=m(e,{pathname:"/"===u?g:g.slice(u.length)||"/"});let y=re(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:R([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:R([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r);return n&&y?i.createElement(W.Provider,{value:{location:U({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},y):y}function ee(){let e=function(){var e;let t=i.useContext(G),n=le(oe.UseRouteError),r=ce(oe.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=j(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const te=i.createElement(ee,null);class ne extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?i.createElement(H.Provider,{value:this.props.routeContext},i.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(B);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(H.Provider,{value:t},r)}function re(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let o=e,a=null==(r=n)?void 0:r.errors;if(null!=a){let e=o.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||l(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,r,s)=>{let l=r.route.id?null==a?void 0:a[r.route.id]:null,c=null;n&&(c=r.route.errorElement||te);let u=t.concat(o.slice(0,s+1)),h=()=>{let t;return t=l?c:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ie,{match:r,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(ne,{location:n.location,revalidation:n.revalidation,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var se,oe;function ae(e){let t=i.useContext(B);return t||l(!1),t}function le(e){let t=i.useContext(q);return t||l(!1),t}function ce(e){let t=function(e){let t=i.useContext(H);return t||l(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(se||(se={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(oe||(oe={}));r.startTransition;function ue(e){l(!1)}function he(e){let{basename:n="/",children:r=null,location:s,navigationType:o=t.Pop,navigator:a,static:c=!1}=e;X()&&l(!1);let u=n.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:u,navigator:a,static:c})),[u,a,c]);"string"===typeof s&&(s=f(s));let{pathname:d="/",search:p="",hash:g="",state:m=null,key:v="default"}=s,y=i.useMemo((()=>{let e=N(d,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:m,key:v},navigationType:o}}),[u,d,p,g,m,v,o]);return null==y?null:i.createElement(K.Provider,{value:h},i.createElement(W.Provider,{children:r,value:y}))}function de(e){let{children:t,location:n}=e;return $(pe(t),n)}var fe;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(fe||(fe={}));new Promise((()=>{}));i.Component;function pe(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,pe(e.props.children,s));e.type!==ue&&l(!1),e.props.index&&e.props.children&&l(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=pe(e.props.children,s)),n.push(o)})),n}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ge.apply(this,arguments)}function me(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ve=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];const ye=r.startTransition;function be(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),p((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return h("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,a)));let l=o.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},g=i.useCallback((e=>{f&&ye?ye((()=>u(e))):u(e)}),[u,f]);return i.useLayoutEffect((()=>l.listen(g)),[l,g]),i.createElement(he,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l})}const we="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:a,state:c,target:u,to:h,preventScrollReset:f}=e,p=me(e,ve),{basename:g}=i.useContext(K),m=!1;if("string"===typeof h&&xe.test(h)&&(n=h,we))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=N(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:m=!0}catch(b){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;X()||l(!1);let{basename:r,navigator:s}=i.useContext(K),{hash:o,pathname:a,search:c}=Z(e,{relative:n}),u=a;return"/"!==r&&(u="/"===a?r:R([r,a])),s.createHref({pathname:u,search:c,hash:o})}(h,{relative:s}),y=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a}=void 0===t?{}:t,l=J(),c=Y(),u=Z(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:d(c)===d(u);l(e,{replace:n,state:s,preventScrollReset:o,relative:a})}}),[c,l,u,r,s,n,e,o,a])}(h,{replace:a,state:c,target:u,preventScrollReset:f,relative:s});return i.createElement("a",ge({},p,{href:n||v,onClick:m||o?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:u}))}));var ke,Se;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(ke||(ke={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Se||(Se={}));const Ie=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,o=s?e[r+1]:0,a=r+2<e.length,l=a?e[r+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ie(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const o=r<e.length?n[e.charAt(r)]:64;++r;const a=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==o||null==a)throw new Ee;const l=t<<2|s>>4;if(i.push(l),64!==o){const e=s<<4&240|o>>2;if(i.push(e),64!==a){const e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(e){return function(e){const t=Ie(e);return Te.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ae=function(e){try{return Te.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ne(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ne(e[n],t[n]));return e}const De=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Pe=()=>{try{return De()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ae(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Me=()=>{var e;return null===(e=Pe())||void 0===e?void 0:e.config};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Oe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Le(){var e;const t=null===(e=Pe())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(i){return!1}}function Fe(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function je(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ve(){const e=Oe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ze(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Ue extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],r=i?function(e,t){return e.replace(qe,((e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,t):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new Ue(n,s,t)}}const qe=/\{\$([^}]+)}/g;function Ke(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function We(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(He(n)&&He(s)){if(!We(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function He(e){return null!==e&&"object"===typeof e}function Ge(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Xe(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function Ye(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Qe(e,t){const n=new Je(e,t);return n.subscribe.bind(n)}class Je{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=Ze),void 0===i.error&&(i.error=Ze),void 0===i.complete&&(i.complete=Ze);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ze(){}function $e(e){return e&&e._delegate?e._delegate:e}class et{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const tt="[DEFAULT]";class nt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Re;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tt})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch($w){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===tt?void 0:r),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch($w){}var r;return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.component?this.component.multipleInstances?e:tt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class it{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const rt=[];var st;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(st||(st={}));const ot={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},at=st.INFO,lt={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},ct=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=lt[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];console[i]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ut{constructor(e){this.name=e,this._logLevel=at,this._logHandler=ct,this._userLogHandler=null,rt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ot[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...t),this._logHandler(this,st.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...t),this._logHandler(this,st.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.INFO,...t),this._logHandler(this,st.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.WARN,...t),this._logHandler(this,st.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,st.ERROR,...t),this._logHandler(this,st.ERROR,...t)}}const ht=(e,t)=>t.some((t=>e instanceof t));let dt,ft;const pt=new WeakMap,gt=new WeakMap,mt=new WeakMap,vt=new WeakMap,yt=new WeakMap;let bt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return gt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||mt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _t(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function wt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ft||(ft=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(kt(this),n),_t(pt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return _t(e.apply(kt(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=e.call(kt(this),t,...i);return mt.set(s,t.sort?t.sort():[t]),_t(s)}}function xt(e){return"function"===typeof e?wt(e):(e instanceof IDBTransaction&&function(e){if(gt.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)}));gt.set(e,t)}(e),ht(e,dt||(dt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,bt):e)}function _t(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(_t(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&pt.set(t,e)})).catch((()=>{})),yt.set(t,e),t}(e);if(vt.has(e))return vt.get(e);const t=xt(e);return t!==e&&(vt.set(e,t),yt.set(t,e)),t}const kt=e=>yt.get(e);const St=["get","getKey","getAll","getAllKeys","count"],It=["put","add","delete","clear"],Tt=new Map;function Et(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Tt.get(t))return Tt.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=It.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!St.includes(n))return;const s=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),r&&t.done]))[0]};return Tt.set(t,s),s}!function(e){bt=e(bt)}((e=>({...e,get:(t,n,i)=>Et(t,n)||e.get(t,n,i),has:(t,n)=>!!Et(t,n)||e.has(t,n)})));class Ct{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const At="@firebase/app",Nt="0.9.13",Dt=new ut("@firebase/app"),Pt="[DEFAULT]",Mt={[At]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rt=new Map,Ot=new Map;function Lt(e,t){try{e.container.addComponent(t)}catch(n){Dt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ft(e,t){e.container.addOrOverwriteComponent(t)}function jt(e){const t=e.name;if(Ot.has(t))return Dt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ot.set(t,e);for(const n of Rt.values())Lt(n,e);return!0}function Vt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pt;Vt(e,t).clearInstance(n)}function Ut(){Ot.clear()}const Bt=new Be("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new et("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}const Kt="9.23.0";function Wt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!==typeof r||!r)throw Bt.create("bad-app-name",{appName:String(r)});if(n||(n=Me()),!n)throw Bt.create("no-options");const s=Rt.get(r);if(s){if(We(n,s.options)&&We(i,s.config))return s;throw Bt.create("duplicate-app",{appName:r})}const o=new it(r);for(const l of Ot.values())o.addComponent(l);const a=new qt(n,i,o);return Rt.set(r,a),a}function Ht(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;const t=Rt.get(e);if(!t&&e===Pt&&Me())return Wt();if(!t)throw Bt.create("no-app",{appName:e});return t}function Gt(){return Array.from(Rt.values())}async function Xt(e){const t=e.name;Rt.has(t)&&(Rt.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Yt(e,t,n){var i;let r=null!==(i=Mt[e])&&void 0!==i?i:e;n&&(r+="-".concat(n));const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Dt.warn(e.join(" "))}jt(new et("".concat(r,"-version"),(()=>({library:r,version:t})),"VERSION"))}function Qt(e,t){if(null!==e&&"function"!==typeof e)throw Bt.create("invalid-log-argument");!function(e,t){for(const n of rt){let i=null;t&&t.level&&(i=ot[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:st[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Jt(e){var t;t=e,rt.forEach((e=>{e.setLogLevel(t)}))}const Zt="firebase-heartbeat-database",$t=1,en="firebase-heartbeat-store";let tn=null;function nn(){return tn||(tn=function(e,t){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=_t(o);return i&&o.addEventListener("upgradeneeded",(e=>{i(_t(o.result),e.oldVersion,e.newVersion,_t(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Zt,$t,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(en)}}).catch((e=>{throw Bt.create("idb-open",{originalErrorMessage:e.message})}))),tn}async function rn(e,t){try{const n=(await nn()).transaction(en,"readwrite"),i=n.objectStore(en);await i.put(t,sn(e)),await n.done}catch(n){if(n instanceof Ue)Dt.warn(n.message);else{const e=Bt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Dt.warn(e.message)}}}function sn(e){return"".concat(e.name,"!").concat(e.options.appId)}class on{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ln(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=an();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=an(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),cn(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),cn(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=Ce(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function an(){return(new Date).toISOString().substring(0,10)}class ln{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ze()&&new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await nn();return await t.transaction(en).objectStore(en).get(sn(e))}catch(t){if(t instanceof Ue)Dt.warn(t.message);else{const e=Bt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Dt.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return rn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return rn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function cn(e){return Ce(JSON.stringify({version:2,heartbeats:e})).length}var un;un="",jt(new et("platform-logger",(e=>new Ct(e)),"PRIVATE")),jt(new et("heartbeat",(e=>new on(e)),"PRIVATE")),Yt(At,Nt,un),Yt(At,Nt,"esm2017"),Yt("fire-js","");class hn{constructor(e,t){this._delegate=e,this.firebase=t,Lt(e,new et("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Xt(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt;var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Lt(this._delegate,e)}_addOrOverwriteComponent(e){Ft(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const dn=new Be("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const fn=function t(){const n=function(t){const n={},i={__esModule:!0,initializeApp:function(e){const r=Wt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ke(n,r.name))return n[r.name];const s=new t(r,i);return n[r.name]=s,s},app:r,registerVersion:Yt,setLogLevel:Jt,onLog:Qt,apps:null,SDK_VERSION:Kt,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(jt(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[s])throw dn.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Ne(o,e.serviceProps),i[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t.apply(this,e.multipleInstances?r:[])}}return"PUBLIC"===e.type?i[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function r(e){if(!Ke(n,e=e||Pt))throw dn.create("no-app",{appName:e});return n[e]}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),r.App=t,i}(hn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ne(n,e)},createSubscribe:Qe,ErrorFactory:Be,deepExtend:Ne}),n}(),pn=new ut("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){pn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&pn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const gn=fn;!function(e){Yt("@firebase/app-compat","0.2.13",e)}();gn.registerVersion("firebase","9.23.0","app-compat");function mn(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const vn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},yn="EMAIL_SIGNIN",bn="PASSWORD_RESET",wn="RECOVER_EMAIL",xn="REVERT_SECOND_FACTOR_ADDITION",_n="VERIFY_AND_CHANGE_EMAIL",kn="VERIFY_EMAIL";function Sn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const In=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Tn=Sn,En=new Be("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cn=new ut("@firebase/auth");function An(e){if(Cn.logLevel<=st.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Cn.error("Auth (".concat(Kt,"): ").concat(e),...n)}}function Nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Rn(e,...n)}function Dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Rn(e,...n)}function Pn(e,t,n){const i=Object.assign(Object.assign({},Tn()),{[t]:n});return new Be("auth","Firebase",i).create(t,{appName:e.name})}function Mn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Nn(e,"argument-error"),Pn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Rn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if("string"!==typeof e){const t=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(t,...i)}return En.create(e,...n)}function On(e,t){if(!e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw Rn(t,...i)}}function Ln(e){const t="INTERNAL ASSERTION FAILED: "+e;throw An(t),new Error(t)}function Fn(e,t){e||Ln(t)}function jn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Vn(){return"http:"===zn()||"https:"===zn()}function zn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Un{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())||je()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Vn()||Fe()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Bn(e,t){Fn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class qn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Wn=new Un(3e4,6e4);function Hn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Gn(e,t,n,i){return Xn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},s={};i&&("GET"===t?s=i:r={body:JSON.stringify(i)});const o=Ge(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),qn.fetch()(Qn(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},r))}))}async function Xn(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},Kn),t);try{const t=new Jn(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw Zn(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Zn(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Zn(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Zn(e,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Pn(e,a,o);Nn(e,a)}}catch(r){if(r instanceof Ue)throw r;Nn(e,"network-request-failed",{message:String(r)})}}async function Yn(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Gn(e,t,n,i,r);return"mfaPendingCredential"in s&&Nn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Qn(e,t,n,i){const r="".concat(t).concat(n,"?").concat(i);return e.config.emulator?Bn(e.config,r):"".concat(e.config.apiScheme,"://").concat(r)}class Jn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Dn(this.auth,"network-request-failed"))),Wn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zn(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Dn(e,t,i);return r.customData._tokenResponse=n,r}function $n(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function ei(e){return 1e3*Number(e)}function ti(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return An("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ae(n);return e?JSON.parse(e):(An("Failed to decode base64 JWT payload"),null)}catch(r){return An("Caught error parsing JWT payload as JSON",null===r||void 0===r?void 0:r.toString()),null}}async function ni(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Ue&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class ii{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ri{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$n(this.lastLoginAt),this.creationTime=$n(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function si(e){var t;const n=e.auth,i=await e.getIdToken(),r=await ni(e,async function(e,t){return Gn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));On(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=mn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ri(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class oi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){On(e.idToken,"internal-error"),On("undefined"!==typeof e.idToken,"internal-error"),On("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=ti(e);return On(t,"internal-error"),On("undefined"!==typeof t.exp,"internal-error"),On("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return On(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await Xn(e,{},(async()=>{const n=Ge({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,s=Qn(e,i,"/v1/token","key=".concat(r)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",qn.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new oi;return n&&(On("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(On("string"===typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(On("number"===typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oi,this.toJSON())}_performRefresh(){return Ln("not implemented")}}function ai(e,t){On("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class li{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=mn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ri(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await ni(this,this.stsTokenManager.getToken(this.auth,e));return On(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=$e(e),i=await n.getIdToken(t),r=ti(i);On(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:$n(ei(r.auth_time)),issuedAtTime:$n(ei(r.iat)),expirationTime:$n(ei(r.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=$e(e);await si(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(On(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){On(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await si(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ni(this,async function(e,t){return Gn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:_}=t;On(y&&_,e,"internal-error");const k=oi.fromJSON(this.name,_);On("string"===typeof y,e,"internal-error"),ai(u,e.name),ai(h,e.name),On("boolean"===typeof b,e,"internal-error"),On("boolean"===typeof w,e,"internal-error"),ai(d,e.name),ai(f,e.name),ai(p,e.name),ai(g,e.name),ai(m,e.name),ai(v,e.name);const S=new li({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:v});return x&&Array.isArray(x)&&(S.providerData=x.map((e=>Object.assign({},e)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new oi;i.updateFromServerResponse(t);const r=new li({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await si(r),r}}const ci=new Map;function ui(e){Fn(e instanceof Function,"Expected a class definition");let t=ci.get(e);return t?(Fn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ci.set(e,t),t)}class hi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}hi.type="NONE";const di=hi;function fi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class pi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=fi(this.userKey,i.apiKey,r),this.fullPersistenceKey=fi("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new pi(ui(di),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||ui(di);const s=fi(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=li._fromJSON(e,t);l!==r&&(o=n),r=l;break}}catch($w){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch($w){}}))),new pi(r,e,n)):new pi(r,e,n)}}function gi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xi(t))return"Blackberry";if(_i(t))return"Webos";if(vi(t))return"Safari";if((t.includes("chrome/")||yi(t))&&!t.includes("edge/"))return"Chrome";if(wi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/firefox\//i.test(e)}function vi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/crios\//i.test(e)}function bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/iemobile/i.test(e)}function wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/android/i.test(e)}function xi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/blackberry/i.test(e)}function _i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/webos/i.test(e)}function ki(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Si(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return ki(e)||wi(e)||_i(e)||xi(e)||/windows phone/i.test(e)||bi(e)}function Ii(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=gi(Oe());break;case"Worker":t="".concat(gi(Oe()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Kt,"/").concat(i)}async function Ti(e,t){return Gn(e,"GET","/v2/recaptchaConfig",Hn(e,t))}function Ei(e){return void 0!==e&&void 0!==e.getResponse}function Ci(e){return void 0!==e&&void 0!==e.enterprise}class Ai{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Ni(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=Dn("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)}))}function Di(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Pi{constructor(e){this.type="recaptcha-enterprise",this.auth=Li(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,i){const r=window.grecaptcha;Ci(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ti(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new Ai(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&Ci(window.grecaptcha))n(r,e,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));Ni("https://www.google.com/recaptcha/enterprise.js?render="+r).then((()=>{n(r,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function Mi(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new Pi(e);let s;try{s=await r.verify(n)}catch(a){s=await r.verify(n,!0)}const o=Object.assign({},t);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class Ri{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(r){i(r)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Oi{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fi(this),this.idTokenSubscription=new Fi(this),this.beforeStateQueue=new Ri(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=En,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ui(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await pi.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return On(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await si(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?$e(e):null;return t&&On(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&On(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ui(e))}))}async initializeRecaptchaConfig(){const e=await Ti(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Ai(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Pi(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Be("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ui(e)||this._popupRedirectResolver;On(t,this,"argument-error"),this.redirectPersistenceManager=await pi.create(this,[ui(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return On(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"===typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return On(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ii(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Cn.logLevel<=st.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Cn.warn("Auth (".concat(Kt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Li(e){return $e(e)}class Fi{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qe((e=>this.observer=e))}get next(){return On(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ji(e,t,n){const i=Li(e);On(i._canInitEmulator,i,"emulator-config-failed"),On(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Vi(t),{host:o,port:a}=function(e){const t=Vi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:zi(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:zi(t)}}}(t),l=null===a?"":":".concat(a);i.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Vi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ui{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,t){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}}async function Bi(e,t){return Gn(e,"POST","/v1/accounts:resetPassword",Hn(e,t))}async function qi(e,t){return Gn(e,"POST","/v1/accounts:update",t)}async function Ki(e,t){return Yn(e,"POST","/v1/accounts:signInWithPassword",Hn(e,t))}async function Wi(e,t){return Gn(e,"POST","/v1/accounts:sendOobCode",Hn(e,t))}async function Hi(e,t){return Wi(e,t)}async function Gi(e,t){return Wi(e,t)}class Xi extends Ui{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Xi(e,t,"password")}static _fromEmailAndCode(e,t){return new Xi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Mi(e,n,"signInWithPassword");return Ki(e,t)}return Ki(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Mi(e,n,"signInWithPassword");return Ki(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return Yn(e,"POST","/v1/accounts:signInWithEmailLink",Hn(e,t))}(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return qi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Yn(e,"POST","/v1/accounts:signInWithEmailLink",Hn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Yi(e,t){return Yn(e,"POST","/v1/accounts:signInWithIdp",Hn(e,t))}class Qi extends Ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=mn(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Qi(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return Yi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Yi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ge(t)}return e}}const Ji={USER_NOT_FOUND:"user-not-found"};class Zi extends Ui{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Zi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Zi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Yn(e,"POST","/v1/accounts:signInWithPhoneNumber",Hn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Yn(e,"POST","/v1/accounts:signInWithPhoneNumber",Hn(e,t));if(n.temporaryProof)throw Zn(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Yn(e,"POST","/v1/accounts:signInWithPhoneNumber",Hn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ji)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new Zi({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class $i{constructor(e){var t,n,i,r,s,o;const a=Xe(Ye(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);On(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Xe(Ye(e)).link,n=t?Xe(Ye(t)).deep_link_id:null,i=Xe(Ye(e)).deep_link_id;return(i?Xe(Ye(i)).link:null)||i||n||t||e}(e);try{return new $i(t)}catch($w){return null}}}class er{constructor(){this.providerId=er.PROVIDER_ID}static credential(e,t){return Xi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=$i.parseLink(t);return On(n,"argument-error"),Xi._fromEmailAndCode(e,n.code,n.tenantId)}}er.PROVIDER_ID="password",er.EMAIL_PASSWORD_SIGN_IN_METHOD="password",er.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class tr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nr extends tr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ir extends nr{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return On("providerId"in t&&"signInMethod"in t,"argument-error"),Qi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return On(e.idToken||e.accessToken,"argument-error"),Qi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ir.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ir.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:s,nonce:o,providerId:a}=t;if(!i&&!r&&!n&&!s)return null;if(!a)return null;try{return new ir(a)._credential({idToken:n,accessToken:i,nonce:o,pendingToken:s})}catch(l){return null}}}class rr extends nr{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch($w){return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com",rr.PROVIDER_ID="facebook.com";class sr extends nr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qi._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return sr.credential(n,i)}catch($w){return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com",sr.PROVIDER_ID="google.com";class or extends nr{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return or.credential(t.oauthAccessToken)}catch($w){return null}}}or.GITHUB_SIGN_IN_METHOD="github.com",or.PROVIDER_ID="github.com";class ar extends Ui{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Yi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Yi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yi(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:r}=t;return n&&i&&r&&n===i?new ar(n,r):null}static _create(e,t){return new ar(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class lr extends tr{constructor(e){On(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return lr.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return lr.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ar.fromJSON(e);return On(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:i}=t;if(!n||!i)return null;try{return ar._create(i,n)}catch(r){return null}}}class cr extends nr{constructor(){super("twitter.com")}static credential(e,t){return Qi._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return cr.credential(n,i)}catch($w){return null}}}async function ur(e,t){return Yn(e,"POST","/v1/accounts:signUp",Hn(e,t))}cr.TWITTER_SIGN_IN_METHOD="twitter.com",cr.PROVIDER_ID="twitter.com";class hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await li._fromIdTokenResponse(e,n,i),s=dr(n);return new hr({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=dr(n);return new hr({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function dr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class fr extends Ue{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,fr.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new fr(e,t,n,i)}}function pr(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw fr._fromErrorAndOperation(e,n,t,i);throw n}))}function gr(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function mr(e,t){const n=$e(e);await yr(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return Gn(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),r=gr(i||[]);return n.providerData=n.providerData.filter((e=>r.has(e.providerId))),r.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function vr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await ni(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return hr._forOperation(e,"link",i)}async function yr(e,t,n){await si(t);const i=!1===e?"provider-already-linked":"no-such-provider";On(gr(t.providerData).has(n)===e,t.auth,i)}async function br(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e,r="reauthenticate";try{const s=await ni(e,pr(i,r,t,e),n);On(s.idToken,i,"internal-error");const o=ti(s.idToken);On(o,i,"internal-error");const{sub:a}=o;return On(e.uid===a,i,"user-mismatch"),hr._forOperation(e,r,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Nn(i,"user-mismatch"),s}}async function wr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i="signIn",r=await pr(e,i,t),s=await hr._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function xr(e,t){return wr(Li(e),t)}async function _r(e,t){const n=$e(e);return await yr(!1,n,t.providerId),vr(n,t)}async function kr(e,t){return br($e(e),t)}async function Sr(e,t){const n=Li(e),i=await async function(e,t){return Yn(e,"POST","/v1/accounts:signInWithCustomToken",Hn(e,t))}(n,{token:t,returnSecureToken:!0}),r=await hr._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}class Ir{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Tr._fromServerResponse(e,t):"totpInfo"in t?Er._fromServerResponse(e,t):Nn(e,"internal-error")}}class Tr extends Ir{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Tr(t)}}class Er extends Ir{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Er(t)}}function Cr(e,t,n){var i;On((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),On("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(On(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(On(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ar(e,t){await async function(e,t){return Gn(e,"POST","/v1/accounts:update",Hn(e,t))}($e(e),{oobCode:t})}async function Nr(e,t){const n=$e(e),i=await Bi(n,{oobCode:t}),r=i.requestType;switch(On(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":On(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":On(i.mfaInfo,n,"internal-error");default:On(i.email,n,"internal-error")}let s=null;return i.mfaInfo&&(s=Ir._fromServerResponse(Li(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:r}}async function Dr(e,t){const n={identifier:t,continueUri:Vn()?jn():"http://localhost"},{signinMethods:i}=await async function(e,t){return Gn(e,"POST","/v1/accounts:createAuthUri",Hn(e,t))}($e(e),n);return i||[]}async function Pr(e,t){const n=$e(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Cr(n.auth,i,t);const{email:r}=await async function(e,t){return Wi(e,t)}(n.auth,i);r!==e.email&&await e.reload()}async function Mr(e,t,n){const i=$e(e),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Cr(i.auth,r,n);const{email:s}=await async function(e,t){return Wi(e,t)}(i.auth,r);s!==e.email&&await e.reload()}async function Rr(e,t){let{displayName:n,photoURL:i}=t;if(void 0===n&&void 0===i)return;const r=$e(e),s={idToken:await r.getIdToken(),displayName:n,photoUrl:i,returnSecureToken:!0},o=await ni(r,async function(e,t){return Gn(e,"POST","/v1/accounts:update",t)}(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}async function Or(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const s=await ni(e,qi(i,r));await e._updateTokensIfNecessary(s,!0)}class Lr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Fr extends Lr{constructor(e,t,n,i){super(e,t,n),this.username=i}}class jr extends Lr{constructor(e,t){super(e,"facebook.com",t)}}class Vr extends Fr{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class zr extends Lr{constructor(e,t){super(e,"google.com",t)}}class Ur extends Fr{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Br(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null===e||void 0===e?void 0:e.idToken)){const i=null===(n=null===(t=ti(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new Lr(s,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new jr(s,r);case"github.com":return new Vr(s,r);case"google.com":return new zr(s,r);case"twitter.com":return new Ur(s,r,e.screenName||null);case"custom":case"anonymous":return new Lr(s,null);default:return new Lr(s,i,r)}}(n)}class qr{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new qr("enroll",e,t)}static _fromMfaPendingCredential(e){return new qr("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return qr._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return qr._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Kr{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Li(e),i=t.customData._serverResponse,r=(i.mfaInfo||[]).map((e=>Ir._fromServerResponse(n,e)));On(i.mfaPendingCredential,n,"internal-error");const s=qr._fromMfaPendingCredential(i.mfaPendingCredential);return new Kr(s,r,(async e=>{const r=await e._process(n,s);delete i.mfaInfo,delete i.mfaPendingCredential;const o=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await hr._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return On(t.user,n,"internal-error"),hr._forOperation(t.user,t.operationType,o);default:Nn(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Wr{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Ir._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Wr(e)}async getSession(){return qr._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,i=await this.getSession(),r=await ni(this.user,n._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await ni(this.user,(i=this.user.auth,r={idToken:n,mfaEnrollmentId:t},Gn(i,"POST","/v2/accounts/mfaEnrollment:withdraw",Hn(i,r))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(s){throw s}var i,r}}const Hr=new WeakMap;const Gr="__sak";class Xr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gr,"1"),this.storage.removeItem(Gr),Promise.resolve(!0)):Promise.resolve(!1)}catch($w){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Yr extends Xr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Oe();return vi(e)||ki(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Si(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Ve()&&10===document.documentMode&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yr.type="LOCAL";const Qr=Yr;class Jr extends Xr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jr.type="SESSION";const Zr=Jr;class $r{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new $r(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}$r.receivers=[];class ts{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const l=es("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(t.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ns(){return window}function is(){return"undefined"!==typeof ns().WorkerGlobalScope&&"function"===typeof ns().importScripts}const rs="firebaseLocalStorageDb",ss="firebaseLocalStorage",os="fbase_key";class as{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ls(e,t){return e.transaction([ss],t?"readwrite":"readonly").objectStore(ss)}function cs(){const e=indexedDB.open(rs,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ss,{keyPath:os})}catch(i){n(i)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ss)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(rs);return new as(e).toPromise()}(),t(await cs()))}))}))}async function us(e,t,n){const i=ls(e,!0).put({[os]:t,value:n});return new as(i).toPromise()}function hs(e,t){const n=ls(e,!0).delete(t);return new as(n).toPromise()}class ds{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await cs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return is()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$r._getInstance(is()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ts(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch($w){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cs();return await us(e,Gr,"1"),await hs(e,Gr),!0}catch($w){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>us(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ls(e,!1).get(t),i=await new as(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>hs(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ls(e,!1).getAll();return new as(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ds.type="LOCAL";const fs=ds;const ps=1e12;class gs{constructor(e){this.auth=e,this.counter=ps,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new ms(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||ps;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||ps;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||ps;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class ms{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"===typeof e?document.getElementById(e):e;On(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vs=Di("rcb"),ys=new Un(3e4,6e4);class bs{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ns().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return On(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Ei(ns().grecaptcha)?Promise.resolve(ns().grecaptcha):new Promise(((n,i)=>{const r=ns().setTimeout((()=>{i(Dn(e,"network-request-failed"))}),ys.get());ns()[vs]=()=>{ns().clearTimeout(r),delete ns()[vs];const s=ns().grecaptcha;if(!s||!Ei(s))return void i(Dn(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Ni("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Ge({onload:vs,render:"explicit",hl:t}))).catch((()=>{clearTimeout(r),i(Dn(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ns().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ws{async load(e){return new gs(e)}clearedOneInstance(){}}const xs="recaptcha",_s={theme:"light",type:"image"};class ks{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},_s),n=arguments.length>2?arguments[2]:void 0;this.parameters=t,this.type=xs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Li(n),this.isInvisible="invisible"===this.parameters.size,On("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"===typeof e?document.getElementById(e):e;On(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ws:new bs,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){On(!this.parameters.sitekey,this.auth,"argument-error"),On(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),On("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=ns()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){On(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){On(Vn()&&!is(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Gn(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);On(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return On(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ss{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Zi._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Is(e,t,n){var i;const r=await n.verify();try{let s;if(On("string"===typeof r,e,"argument-error"),On(n.type===xs,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){On("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Gn(e,"POST","/v2/accounts/mfaEnrollment:start",Hn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{On("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;On(n,e,"missing-multi-factor-info");const o=await function(e,t){return Gn(e,"POST","/v2/accounts/mfaSignIn:start",Hn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Gn(e,"POST","/v1/accounts:sendVerificationCode",Hn(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class Ts{constructor(e){this.providerId=Ts.PROVIDER_ID,this.auth=Li(e)}verifyPhoneNumber(e,t){return Is(this.auth,e,$e(t))}static credential(e,t){return Zi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ts.credentialFromTaggedObject(t)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?Zi._fromTokenResponse(n,i):null}}function Es(e,t){return t?ui(t):(On(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ts.PROVIDER_ID="phone",Ts.PHONE_SIGN_IN_METHOD="phone";class Cs extends Ui{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function As(e){return wr(e.auth,new Cs(e),e.bypassAuthState)}function Ns(e){const{auth:t,user:n}=e;return On(n,t,"internal-error"),br(n,new Cs(e),e.bypassAuthState)}async function Ds(e){const{auth:t,user:n}=e;return On(n,t,"internal-error"),vr(n,new Cs(e),e.bypassAuthState)}class Ps{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return As;case"linkViaPopup":case"linkViaRedirect":return Ds;case"reauthViaPopup":case"reauthViaRedirect":return Ns;default:Nn(this.auth,"internal-error")}}resolve(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ms=new Un(2e3,1e4);class Rs extends Ps{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return On(e,this.auth,"internal-error"),e}async onExecution(){Fn(1===this.filter.length,"Popup operations only handle one event");const e=es();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Dn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ms.get())};e()}}Rs.currentPopupAction=null;const Os="pendingRedirect",Ls=new Map;class Fs extends Ps{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ls.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Us(t),i=zs(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Ls.set(this.auth._key(),e)}return this.bypassAuthState||Ls.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function js(e,t){return zs(e)._set(Us(t),"true")}function Vs(e,t){Ls.set(e._key(),t)}function zs(e){return ui(e._redirectPersistence)}function Us(e){return fi(Os,e.config.apiKey,e.name)}function Bs(e,t,n){return async function(e,t,n){const i=Li(e);Mn(e,t,tr),await i._initializationPromise;const r=Es(i,n);return await js(r,i),r._openRedirect(i,t,"signInViaRedirect")}(e,t,n)}function qs(e,t,n){return async function(e,t,n){const i=$e(e);Mn(i.auth,t,tr),await i.auth._initializationPromise;const r=Es(i.auth,n);await js(r,i.auth);const s=await Hs(i);return r._openRedirect(i.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Ks(e,t,n){return async function(e,t,n){const i=$e(e);Mn(i.auth,t,tr),await i.auth._initializationPromise;const r=Es(i.auth,n);await yr(!1,i,t.providerId),await js(r,i.auth);const s=await Hs(i);return r._openRedirect(i.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Ws(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=Li(e),r=Es(i,t),s=new Fs(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}async function Hs(e){const t=es("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Gs{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ys(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ys(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Dn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xs(e))}saveEventToCache(e){this.cachedEventUids.add(Xs(e)),this.lastProcessedEventTime=Date.now()}}function Xs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ys(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Qs(e){return Gn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Js=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zs=/^https?/;function $s(e){const t=jn(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Zs.test(n))return!1;if(Js.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const eo=new Un(3e4,6e4);function to(){const e=ns().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let no=null;function io(e){return no=no||function(e){return new Promise(((t,n)=>{var i,r,s;function o(){to(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{to(),n(Dn(e,"network-request-failed"))},timeout:eo.get()})}if(null===(r=null===(i=ns().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ns().gapi)||void 0===s?void 0:s.load)){const t=Di("iframefcb");return ns()[t]=()=>{gapi.load?o():n(Dn(e,"network-request-failed"))},Ni("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw no=null,e}))}(e),no}const ro=new Un(5e3,15e3),so="__/auth/iframe",oo="emulator/auth/iframe",ao={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function co(e){const t=e.config;On(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Bn(t,oo):"https://".concat(e.config.authDomain,"/").concat(so),i={apiKey:t.apiKey,appName:e.name,v:Kt},r=lo.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(Ge(i).slice(1))}const uo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ho{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function fo(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},uo),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Oe().toLowerCase();n&&(a=yi(c)?"_blank":n),mi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,i]=t;return"".concat(e).concat(n,"=").concat(i,",")}),"");if(function(){var e;return ki(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",a),new ho(null);const h=window.open(t||"",a,u);On(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ho(h)}const po="__/auth/handler",go="emulator/auth/handler",mo=encodeURIComponent("fac");async function vo(e,t,n,i,r,s){On(e.config.authDomain,e,"auth-domain-config-required"),On(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Kt,eventId:r};if(t instanceof tr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof nr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(mo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(po);return Bn(t,go)}(e),"?").concat(Ge(a).slice(1)).concat(c)}const yo="webStorageSupport";const bo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zr,this._completeRedirectFn=Ws,this._overrideRedirectResult=Vs}async _openPopup(e,t,n,i){var r;Fn(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return fo(e,await vo(e,t,n,jn(),i),es())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){ns().location.href=e}(await vo(e,t,n,jn(),i)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Fn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await io(e),n=ns().gapi;return On(n,e,"internal-error"),t.open({where:document.body,url:co(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ao,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=Dn(e,"network-request-failed"),s=ns().setTimeout((()=>{i(r)}),ro.get());function o(){ns().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{i(r)}))}))))}(e),n=new Gs(e);return t.register("authEvent",(t=>{On(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yo,{type:yo},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[yo];void 0!==r&&t(!!r),Nn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Qs(e);for(const n of t)try{if($s(n))return}catch($w){}Nn(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Si()||vi()||ki()}};class wo{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ln("unexpected MultiFactorSessionType")}}}class xo extends wo{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new xo(e)}_finalizeEnroll(e,t,n){return function(e,t){return Gn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Hn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Gn(e,"POST","/v2/accounts/mfaSignIn:finalize",Hn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class _o{constructor(){}static assertion(e){return xo._fromCredential(e)}}_o.FACTOR_ID="phone";var ko="@firebase/auth",So="0.23.2";class Io{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){On(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Pe())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var To;function Eo(){return window}To="Browser",jt(new et("auth",((e,t)=>{let{options:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;On(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:To,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ii(To)},c=new Oi(i,r,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ui);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),jt(new et("auth-internal",(e=>(e=>new Io(e))(Li(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Yt(ko,So,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(To)),Yt(ko,So,"esm2017");async function Co(e,t,n){var i;const{BuildInfo:r}=Eo();Fn(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Fn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return ki()?o.ibi=r.packageName:wi()?o.apn=r.packageName:Nn(e,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,vo(e,n,t.type,void 0,null!==(i=t.eventId)&&void 0!==i?i:void 0,o)}function Ao(e){const{cordova:t}=Eo();return new Promise((n=>{t.plugins.browsertab.isAvailable((i=>{let r=null;i?t.plugins.browsertab.openUrl(e):r=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(r)}))}))}const No=20;class Do extends Gs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Po(e){const t=await Oo()._get(Lo(e));return t&&await Oo()._remove(Lo(e)),t}function Mo(e,t){var n,i;const r=function(e){const t=Fo(e),n=t.link?decodeURIComponent(t.link):void 0,i=Fo(n).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Fo(r).link||r||i||n||e}(t);if(r.includes("/__/auth/callback")){const t=Fo(r),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(i=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],a=o?Dn(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:r,postBody:null}}return null}function Ro(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<No;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Oo(){return ui(Qr)}function Lo(e){return fi("authEvent",e.config.apiKey,e.name)}function Fo(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Xe(n.join("?"))}const jo=class{constructor(){this._redirectPersistence=Zr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ws,this._overrideRedirectResult=Vs}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Do(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Nn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,i){!function(e){var t,n,i,r,s,o,a,l,c,u;const h=Eo();On("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),On("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),On("function"===typeof(null===(s=null===(r=null===(i=null===h||void 0===h?void 0:h.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),On("function"===typeof(null===(l=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),On("function"===typeof(null===(u=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=await this._initialize(e);await r.initialized(),r.resetRedirect(),Ls.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Ro(),postBody:null,tenantId:e.tenantId,error:Dn(e,"no-auth-event")}}(e,n,i);await function(e,t){return Oo()._set(Lo(e),t)}(e,s);const o=await Co(e,s,t);return async function(e,t,n){const{cordova:i}=Eo();let r=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=i.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{o(Dn(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),wi()&&document.addEventListener("visibilitychange",u,!1),r=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{r()}}(e,r,await Ao(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Eo(),n={};ki()?n.iosBundleId=t.packageName:wi()?n.androidPackageName=t.packageName:Nn(e,"operation-not-supported-in-this-environment"),await Qs(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:r}=Eo(),s=setTimeout((async()=>{await Po(e),t.onEvent(Vo())}),500),o=async n=>{clearTimeout(s);const i=await Po(e);let r=null;i&&(null===n||void 0===n?void 0:n.url)&&(r=Mo(i,n.url)),t.onEvent(r||Vo())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=i,l="".concat(r.packageName.toLowerCase(),"://");Eo().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function Vo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Dn("no-auth-event")}}function zo(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Uo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return!("file:"!==zo()&&"ionic:"!==zo()&&"capacitor:"!==zo()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return Ve()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/Edge\/\d+/.test(e)}(e)}function qo(){try{const e=self.localStorage,t=es();if(e)return e.setItem(t,"1"),e.removeItem(t),!Bo()||ze()}catch(e){return Ko()&&ze()}return!1}function Ko(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Wo(){return("http:"===zo()||"https:"===zo()||Fe()||Uo())&&!(je()||Le())&&qo()&&!Ko()}function Ho(){return Uo()&&"undefined"!==typeof document}const Go={LOCAL:"local",NONE:"none",SESSION:"session"},Xo=On,Yo="persistence";async function Qo(e){await e._initializationPromise;const t=Jo(),n=fi(Yo,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Jo(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Zo=On;class $o{constructor(){this.browserResolver=ui(bo),this.cordovaResolver=ui(jo),this.underlyingResolver=null,this._redirectPersistence=Zr,this._completeRedirectFn=Ws,this._overrideRedirectResult=Vs}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,i)}async _openRedirect(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Ho()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zo(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Ho()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function ea(e){return e.unwrap()}function ta(e,t){var n;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new sa(e,function(e,t){var n;const i=$e(e),r=t;return On(t.customData.operationType,i,"argument-error"),On(null===(n=r.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),Kr._fromError(i,r)}(e,t))}else if(i){const e=na(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}function na(e){const{_tokenResponse:t}=e instanceof Ue?e.customData:e;if(!t)return null;if(!(e instanceof Ue)&&"temporaryProof"in t&&"phoneNumber"in t)return Ts.credentialFromResult(e);const n=t.providerId;if(!n||n===vn.PASSWORD)return null;let i;switch(n){case vn.GOOGLE:i=sr;break;case vn.FACEBOOK:i=rr;break;case vn.GITHUB:i=or;break;case vn.TWITTER:i=cr;break;default:const{oauthIdToken:e,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return r||s||e||o?o?n.startsWith("saml.")?ar._create(n,o):Qi._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:r}):new ir(n).credential({idToken:e,accessToken:r,rawNonce:a}):null}return e instanceof Ue?i.credentialFromError(e):i.credentialFromResult(e)}function ia(e,t){return t.catch((t=>{throw t instanceof Ue&&ta(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(i=e,na(i)),additionalUserInfo:Br(e),user:oa.getOrCreate(n)};var i}))}async function ra(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ia(e,n.confirm(t))}}class sa{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ia(ea(this.auth),this.resolver.resolveSignIn(e))}}class oa{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=$e(e);return Hr.has(t)||Hr.set(t,Wr._fromUser(t)),Hr.get(t)}(e)}static getOrCreate(e){return oa.USER_MAP.has(e)||oa.USER_MAP.set(e,new oa(e)),oa.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ia(this.auth,_r(this._delegate,e))}async linkWithPhoneNumber(e,t){return ra(this.auth,async function(e,t,n){const i=$e(e);await yr(!1,i,"phone");const r=await Is(i.auth,t,$e(n));return new Ss(r,(e=>_r(i,e)))}(this._delegate,e,t))}async linkWithPopup(e){return ia(this.auth,async function(e,t,n){const i=$e(e);Mn(i.auth,t,tr);const r=Es(i.auth,n);return new Rs(i.auth,"linkViaPopup",t,r,i).executeNotNull()}(this._delegate,e,$o))}async linkWithRedirect(e){return await Qo(Li(this.auth)),Ks(this._delegate,e,$o)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ia(this.auth,kr(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ra(this.auth,async function(e,t,n){const i=$e(e),r=await Is(i.auth,t,$e(n));return new Ss(r,(e=>kr(i,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ia(this.auth,async function(e,t,n){const i=$e(e);Mn(i.auth,t,tr);const r=Es(i.auth,n);return new Rs(i.auth,"reauthViaPopup",t,r,i).executeNotNull()}(this._delegate,e,$o))}async reauthenticateWithRedirect(e){return await Qo(Li(this.auth)),qs(this._delegate,e,$o)}sendEmailVerification(e){return Pr(this._delegate,e)}async unlink(e){return await mr(this._delegate,e),this}updateEmail(e){return function(e,t){return Or($e(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Or($e(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await vr($e(e),t)}(this._delegate,e)}updateProfile(e){return Rr(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Mr(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}oa.USER_MAP=new WeakMap;const aa=On;class la{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;aa(n,"invalid-api-key",{appName:e.name}),aa(n,"invalid-api-key",{appName:e.name});const i="undefined"!==typeof window?$o:void 0;this._delegate=t.initialize({options:{persistence:ua(n,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(In),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?oa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){ji(this._delegate,e,t)}applyActionCode(e){return Ar(this._delegate,e)}checkActionCode(e){return Nr(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Bi($e(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ia(this._delegate,async function(e,t,n){var i;const r=Li(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Mi(r,s,"signUpPassword");o=ur(r,e)}else o=ur(r,s).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Mi(r,s,"signUpPassword");return ur(r,e)}return Promise.reject(e)}));const a=await o.catch((e=>Promise.reject(e))),l=await hr._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Dr(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=$i.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){aa(Wo(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Li(e)._initializationPromise,Ws(e,t,!1)}(this._delegate,$o);return e?ia(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Li(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:i,error:r,complete:s}=ca(e,t,n);return this._delegate.onAuthStateChanged(i,r,s)}onIdTokenChanged(e,t,n){const{next:i,error:r,complete:s}=ca(e,t,n);return this._delegate.onIdTokenChanged(i,r,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var i;const r=Li(e),s={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function o(e,t){On(t.handleCodeInApp,r,"argument-error"),t&&Cr(r,e,t)}if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Mi(r,s,"getOobCode",!0);o(e,n),await Gi(r,e)}else o(s,n),await Gi(r,s).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await Mi(r,s,"getOobCode",!0);o(e,n),await Gi(r,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var i;const r=Li(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await Mi(r,s,"getOobCode",!0);n&&Cr(r,e,n),await Hi(r,e)}else n&&Cr(r,s,n),await Hi(r,s).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Mi(r,s,"getOobCode",!0);n&&Cr(r,e,n),await Hi(r,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Xo(Object.values(Go).includes(t),e,"invalid-persistence-type"),je()?Xo(t!==Go.SESSION,e,"unsupported-persistence-type"):Le()?Xo(t===Go.NONE,e,"unsupported-persistence-type"):Ko()?Xo(t===Go.NONE||t===Go.LOCAL&&ze(),e,"unsupported-persistence-type"):Xo(t===Go.NONE||qo(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Go.SESSION:t=Zr;break;case Go.LOCAL:t=await ui(fs)._isAvailable()?fs:Qr;break;case Go.NONE:t=di;break;default:return Nn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ia(this._delegate,async function(e){var t;const n=Li(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new hr({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await ur(n,{returnSecureToken:!0}),r=await hr._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}(this._delegate))}signInWithCredential(e){return ia(this._delegate,xr(this._delegate,e))}signInWithCustomToken(e){return ia(this._delegate,Sr(this._delegate,e))}signInWithEmailAndPassword(e,t){return ia(this._delegate,function(e,t,n){return xr($e(e),er.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return ia(this._delegate,async function(e,t,n){const i=$e(e),r=er.credentialWithLink(t,n||jn());return On(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),xr(i,r)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ra(this._delegate,async function(e,t,n){const i=Li(e),r=await Is(i,t,$e(n));return new Ss(r,(e=>xr(i,e)))}(this._delegate,e,t))}async signInWithPopup(e){return aa(Wo(),this._delegate,"operation-not-supported-in-this-environment"),ia(this._delegate,async function(e,t,n){const i=Li(e);Mn(e,t,tr);const r=Es(i,n);return new Rs(i,"signInViaPopup",t,r).executeNotNull()}(this._delegate,e,$o))}async signInWithRedirect(e){return aa(Wo(),this._delegate,"operation-not-supported-in-this-environment"),await Qo(this._delegate),Bs(this._delegate,e,$o)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Nr($e(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function ca(e,t,n){let i=e;"function"!==typeof e&&({next:i,error:t,complete:n}=e);const r=i;return{next:e=>r(e&&oa.getOrCreate(e)),error:t,complete:n}}function ua(e,t){const n=function(e,t){const n=Jo();if(!n)return[];const i=fi(Yo,e,t);switch(n.getItem(i)){case Go.NONE:return[di];case Go.LOCAL:return[fs,Zr];case Go.SESSION:return[Zr];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(fs)||n.push(fs),"undefined"!==typeof window)for(const i of[Qr,Zr])n.includes(i)||n.push(i);return n.includes(di)||n.push(di),n}la.Persistence=Go;class ha{constructor(){this.providerId="phone",this._delegate=new Ts(ea(gn.auth()))}static credential(e,t){return Ts.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ha.PHONE_SIGN_IN_METHOD=Ts.PHONE_SIGN_IN_METHOD,ha.PROVIDER_ID=Ts.PROVIDER_ID;const da=On;class fa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gn.app();var i;da(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new ks(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var pa;(pa=gn).INTERNAL.registerComponent(new et("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new la(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:yn,PASSWORD_RESET:bn,RECOVER_EMAIL:wn,REVERT_SECOND_FACTOR_ADDITION:xn,VERIFY_AND_CHANGE_EMAIL:_n,VERIFY_EMAIL:kn}},EmailAuthProvider:er,FacebookAuthProvider:rr,GithubAuthProvider:or,GoogleAuthProvider:sr,OAuthProvider:ir,SAMLAuthProvider:lr,PhoneAuthProvider:ha,PhoneMultiFactorGenerator:_o,RecaptchaVerifier:fa,TwitterAuthProvider:cr,Auth:la,AuthCredential:Ui,Error:Ue}).setInstantiationMode("LAZY").setMultipleInstances(!1)),pa.registerVersion("@firebase/auth-compat","0.4.2");var ga,ma="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},va={},ya=ya||{},ba=ma||self;function wa(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function xa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var _a="closure_uid_"+(1e9*Math.random()>>>0),ka=0;function Sa(e,t,n){return e.call.apply(e.bind,arguments)}function Ia(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ta(e,t,n){return(Ta=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sa:Ia).apply(null,arguments)}function Ea(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ca(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function Aa(){this.s=this.s,this.o=this.o}Aa.prototype.s=!1,Aa.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,_a)&&e[_a]||(e[_a]=++ka))},Aa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Na=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Da(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function Pa(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(wa(t)){const n=e.length||0,i=t.length||0;e.length=n+i;for(let r=0;r<i;r++)e[n+r]=t[r]}else e.push(t)}}function Ma(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ma.prototype.h=function(){this.defaultPrevented=!0};var Ra=function(){if(!ba.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ba.addEventListener("test",(()=>{}),t),ba.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function Oa(e){return/^[\s\xa0]*$/.test(e)}function La(){var e=ba.navigator;return e&&(e=e.userAgent)?e:""}function Fa(e){return-1!=La().indexOf(e)}function ja(e){return ja[" "](e),e}ja[" "]=function(){};var Va,za,Ua=Fa("Opera"),Ba=Fa("Trident")||Fa("MSIE"),qa=Fa("Edge"),Ka=qa||Ba,Wa=Fa("Gecko")&&!(-1!=La().toLowerCase().indexOf("webkit")&&!Fa("Edge"))&&!(Fa("Trident")||Fa("MSIE"))&&!Fa("Edge"),Ha=-1!=La().toLowerCase().indexOf("webkit")&&!Fa("Edge");function Ga(){var e=ba.document;return e?e.documentMode:void 0}e:{var Xa="",Ya=function(){var e=La();return Wa?/rv:([^\);]+)(\)|;)/.exec(e):qa?/Edge\/([\d\.]+)/.exec(e):Ba?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ha?/WebKit\/(\S+)/.exec(e):Ua?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ya&&(Xa=Ya?Ya[1]:""),Ba){var Qa=Ga();if(null!=Qa&&Qa>parseFloat(Xa)){Va=String(Qa);break e}}Va=Xa}if(ba.document&&Ba){var Ja=Ga();za=Ja||(parseInt(Va,10)||void 0)}else za=void 0;var Za=za;function $a(e,t){if(Ma.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Wa){e:{try{ja(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:el[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$a.$.h.call(this)}}Ca($a,Ma);var el={2:"touch",3:"pen",4:"mouse"};$a.prototype.h=function(){$a.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var tl="closure_listenable_"+(1e6*Math.random()|0),nl=0;function il(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=r,this.key=++nl,this.fa=this.ia=!1}function rl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function sl(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function ol(e){const t={};for(const n in e)t[n]=e[n];return t}const al="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ll(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<al.length;t++)n=al[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function cl(e){this.src=e,this.g={},this.h=0}function ul(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],s=Na(r,t);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(rl(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function hl(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==i)return r}return-1}cl.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=hl(e,t,i,r);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new il(t,this.src,s,!!i,r)).ia=n,e.push(t)),t};var dl="closure_lm_"+(1e6*Math.random()|0),fl={};function pl(e,t,n,i,r){if(i&&i.once)return ml(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)pl(e,t[s],n,i,r);return null}return n=kl(n),e&&e[tl]?e.O(t,n,xa(i)?!!i.capture:!!i,r):gl(e,t,n,!1,i,r)}function gl(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=xa(r)?!!r.capture:!!r,a=xl(e);if(a||(e[dl]=a=new cl(e)),(n=a.add(t,n,i,o,s)).proxy)return n;if(i=function(){function e(n){return t.call(e.src,e.listener,n)}const t=wl;return e}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)Ra||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(bl(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function ml(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ml(e,t[s],n,i,r);return null}return n=kl(n),e&&e[tl]?e.P(t,n,xa(i)?!!i.capture:!!i,r):gl(e,t,n,!0,i,r)}function vl(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)vl(e,t[s],n,i,r);else i=xa(i)?!!i.capture:!!i,n=kl(n),e&&e[tl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=hl(s=e.g[t],n,i,r))&&(rl(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=xl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=hl(t,n,i,r)),(n=-1<e?t[e]:null)&&yl(n))}function yl(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[tl])ul(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(bl(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=xl(t))?(ul(n,e),0==n.h&&(n.src=null,t[dl]=null)):rl(e)}}}function bl(e){return e in fl?fl[e]:fl[e]="on"+e}function wl(e,t){if(e.fa)e=!0;else{t=new $a(t,this);var n=e.listener,i=e.la||e.src;e.ia&&yl(e),e=n.call(i,t)}return e}function xl(e){return(e=e[dl])instanceof cl?e:null}var _l="__closure_events_fn_"+(1e9*Math.random()>>>0);function kl(e){return"function"===typeof e?e:(e[_l]||(e[_l]=function(t){return e.handleEvent(t)}),e[_l])}function Sl(){Aa.call(this),this.i=new cl(this),this.S=this,this.J=null}function Il(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,"string"===typeof t)t=new Ma(t,e);else if(t instanceof Ma)t.target=t.target||e;else{var r=t;ll(t=new Ma(i,e),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=Tl(o,i,!0,t)&&r}if(r=Tl(o=t.g=e,i,!0,t)&&r,r=Tl(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)r=Tl(o=t.g=n[s],i,!1,t)&&r}function Tl(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ul(e.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Ca(Sl,Aa),Sl.prototype[tl]=!0,Sl.prototype.removeEventListener=function(e,t,n,i){vl(this,e,t,n,i)},Sl.prototype.N=function(){if(Sl.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)rl(n[i]);delete t.g[e],t.h--}}this.J=null},Sl.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},Sl.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var El=ba.JSON.stringify;function Cl(){var e=Ol;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Al=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Nl),(e=>e.reset()));class Nl{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Dl(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Pl(e){ba.setTimeout((()=>{throw e}),0)}let Ml,Rl=!1,Ol=new class{constructor(){this.h=this.g=null}add(e,t){const n=Al.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ll=()=>{const e=ba.Promise.resolve(void 0);Ml=()=>{e.then(Fl)}};var Fl=()=>{for(var e;e=Cl();){try{e.h.call(e.g)}catch(n){Pl(n)}var t=Al;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Rl=!1};function jl(e,t){Sl.call(this),this.h=e||1,this.g=t||ba,this.j=Ta(this.qb,this),this.l=Date.now()}function Vl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function zl(e,t,n){if("function"===typeof e)n&&(e=Ta(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ta(e.handleEvent,e)}return 2147483647<Number(t)?-1:ba.setTimeout(e,t||0)}function Ul(e){e.g=zl((()=>{e.g=null,e.i&&(e.i=!1,Ul(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ca(jl,Sl),(ga=jl.prototype).ga=!1,ga.T=null,ga.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Il(this,"tick"),this.ga&&(Vl(this),this.start()))}},ga.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ga.N=function(){jl.$.N.call(this),Vl(this),delete this.g};class Bl extends Aa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ul(this)}N(){super.N(),this.g&&(ba.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ql(e){Aa.call(this),this.h=e,this.g={}}Ca(ql,Aa);var Kl=[];function Wl(e,t,n,i){Array.isArray(n)||(n&&(Kl[0]=n.toString()),n=Kl);for(var r=0;r<n.length;r++){var s=pl(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Hl(e){sl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&yl(e)}),e),e.g={}}function Gl(){this.g=!0}function Xl(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return El(n)}catch(a){return t}}(e,n)+(i?" "+i:"")}))}ql.prototype.N=function(){ql.$.N.call(this),Hl(this)},ql.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gl.prototype.Ea=function(){this.g=!1},Gl.prototype.info=function(){};var Yl={},Ql=null;function Jl(){return Ql=Ql||new Sl}function Zl(e){Ma.call(this,Yl.Ta,e)}function $l(e){const t=Jl();Il(t,new Zl(t))}function ec(e,t){Ma.call(this,Yl.STAT_EVENT,e),this.stat=t}function tc(e){const t=Jl();Il(t,new ec(t,e))}function nc(e,t){Ma.call(this,Yl.Ua,e),this.size=t}function ic(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ba.setTimeout((function(){e()}),t)}Yl.Ta="serverreachability",Ca(Zl,Ma),Yl.STAT_EVENT="statevent",Ca(ec,Ma),Yl.Ua="timingevent",Ca(nc,Ma);var rc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function oc(){}function ac(e){return e.h||(e.h=e.i())}function lc(){}oc.prototype.h=null;var cc,uc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hc(){Ma.call(this,"d")}function dc(){Ma.call(this,"c")}function fc(){}function pc(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new ql(this),this.P=mc,e=Ka?125:void 0,this.V=new jl(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gc}function gc(){this.i=null,this.g="",this.h=!1}Ca(hc,Ma),Ca(dc,Ma),Ca(fc,oc),fc.prototype.g=function(){return new XMLHttpRequest},fc.prototype.i=function(){return{}},cc=new fc;var mc=45e3,vc={},yc={};function bc(e,t,n){e.L=1,e.v=jc(Mc(t)),e.s=n,e.S=!0,wc(e,null)}function wc(e,t){e.G=Date.now(),Sc(e),e.A=Mc(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),Jc(n.i,"t",i),e.C=0,n=e.l.J,e.h=new gc,e.g=Ju(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Bl(Ta(e.Pa,e,e.g),e.O)),Wl(e.U,e.g,"readystatechange",e.nb),t=e.I?ol(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),$l(),function(e,t,n,i,r,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function xc(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function _c(e,t,n){let i,r=!0;for(;!e.J&&e.C<n.length;){if(i=kc(e,n),i==yc){4==t&&(e.o=4,tc(14),r=!1),Xl(e.j,e.m,null,"[Incomplete Response]");break}if(i==vc){e.o=4,tc(15),Xl(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}Xl(e.j,e.m,i,null),Ac(e,i)}xc(e)&&i!=yc&&i!=vc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,tc(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),qu(t),t.M=!0,tc(11))):(Xl(e.j,e.m,n,"[Invalid Chunked Response]"),Cc(e),Ec(e))}function kc(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?yc:(n=Number(t.substring(n,i)),isNaN(n)?vc:(i+=1)+n>t.length?yc:(t=t.slice(i,i+n),e.C=i+n,t))}function Sc(e){e.Y=Date.now()+e.P,Ic(e,e.P)}function Ic(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ic(Ta(e.lb,e),t)}function Tc(e){e.B&&(ba.clearTimeout(e.B),e.B=null)}function Ec(e){0==e.l.H||e.J||Hu(e.l,e)}function Cc(e){Tc(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Vl(e.V),Hl(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ac(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||iu(n.i,e)))if(!e.K&&iu(n.i,e)&&3==n.H){try{var i=n.Ja.g.parse(t)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Wu(n),Ou(n)}Bu(n),tc(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=ic(Ta(n.ib,n),6e3));if(1>=nu(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Xu(n,11)}else if((e.K||n.g==e)&&Wu(n),!Oa(t))for(r=n.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const r=c[4];null!=r&&(n.Ga=r,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ru(s,s.h),s.h=null))}if(i.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.Da=e,Fc(i.I,i.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((i=n).wa=Qu(i,i.J?i.pa:null,i.Y),o.K){su(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(Tc(a),Sc(a)),i.g=o}else Uu(i);0<n.j.length&&Fu(n)}else"stop"!=c[0]&&"close"!=c[0]||Xu(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Xu(n,7):Ru(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}$l()}catch(c){}}function Nc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(wa(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(wa(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}(e),i=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(wa(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}(ga=pc.prototype).setTimeout=function(e){this.P=e},ga.nb=function(e){e=e.target;const t=this.M;t&&3==Cu(e)?t.l():this.Pa(e)},ga.Pa=function(e){try{if(e==this.g)e:{const u=Cu(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Ka||this.g&&(this.h.h||this.g.ja()||Au(this.g)))){this.J||4!=u||7==t||$l(),Tc(this);var n=this.g.da();this.ca=n;t:if(xc(this)){var i=Au(this.g);e="";var r=i.length,s=4==Cu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Cc(this),Ec(this);var o="";break t}this.h.i=new ba.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,i,r,s,o){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oa(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,tc(12),Cc(this),Ec(this);break e}Xl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ac(this,n)}this.S?(_c(this,u,o),Ka&&this.i&&3==u&&(Wl(this.U,this.V,"tick",this.mb),this.V.start())):(Xl(this.j,this.m,o,null),Ac(this,o)),4==u&&Cc(this),this.i&&!this.J&&(4==u?Hu(this.l,this):(this.i=!1,Sc(this)))}else(function(e){const t={};e=(e.g&&2<=Cu(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(Oa(e[i]))continue;var n=Dl(e[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[r]||[];t[r]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,tc(12)):(this.o=0,tc(13)),Cc(this),Ec(this)}}}catch(u){}},ga.mb=function(){if(this.g){var e=Cu(this.g),t=this.g.ja();this.C<t.length&&(Tc(this),_c(this,e,t),this.i&&4!=e&&Sc(this))}},ga.cancel=function(){this.J=!0,Cc(this)},ga.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&($l(),tc(17)),Cc(this),this.o=2,Ec(this)):Ic(this,this.Y-e)};var Dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pc(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Pc){this.h=e.h,Rc(this,e.j),this.s=e.s,this.g=e.g,Oc(this,e.m),this.l=e.l;var t=e.i,n=new Gc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Lc(this,n),this.o=e.o}else e&&(t=String(e).match(Dc))?(this.h=!1,Rc(this,t[1]||"",!0),this.s=Vc(t[2]||""),this.g=Vc(t[3]||"",!0),Oc(this,t[4]),this.l=Vc(t[5]||"",!0),Lc(this,t[6]||"",!0),this.o=Vc(t[7]||"")):(this.h=!1,this.i=new Gc(null,this.h))}function Mc(e){return new Pc(e)}function Rc(e,t,n){e.j=n?Vc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Oc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Lc(e,t,n){t instanceof Gc?(e.i=t,function(e,t){t&&!e.j&&(Xc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yc(this,t),Jc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=zc(t,Wc)),e.i=new Gc(t,e.h))}function Fc(e,t,n){e.i.set(t,n)}function jc(e){return Fc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Vc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Uc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Uc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zc(t,Bc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zc(t,Bc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(zc(n,"/"==n.charAt(0)?Kc:qc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zc(n,Hc)),e.join("")};var Bc=/[#\/\?@]/g,qc=/[#\?:]/g,Kc=/[#\?]/g,Wc=/[#\?@]/g,Hc=/#/g;function Gc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yc(e,t){Xc(e),t=Zc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Qc(e,t){return Xc(e),t=Zc(e,t),e.g.has(t)}function Jc(e,t,n){Yc(e,t),0<n.length&&(e.i=null,e.g.set(Zc(e,t),Da(n)),e.h+=n.length)}function Zc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ga=Gc.prototype).add=function(e,t){Xc(this),this.i=null,e=Zc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ga.forEach=function(e,t){Xc(this),this.g.forEach((function(n,i){n.forEach((function(n){e.call(t,n,i,this)}),this)}),this)},ga.ta=function(){Xc(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let e=0;e<r.length;e++)n.push(t[i])}return n},ga.Z=function(e){Xc(this);let t=[];if("string"===typeof e)Qc(this,e)&&(t=t.concat(this.g.get(Zc(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},ga.set=function(e,t){return Xc(this),this.i=null,Qc(this,e=Zc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ga.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ga.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),e.push(r)}}return this.i=e.join("&")};function $c(e){this.l=e||eu,ba.PerformanceNavigationTiming?e=0<(e=ba.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ba.g&&ba.g.Ka&&ba.g.Ka()&&ba.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var eu=10;function tu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function nu(e){return e.h?1:e.g?e.g.size:0}function iu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ru(e,t){e.g?e.g.add(t):e.h=t}function su(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ou(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Da(e.i)}$c.prototype.cancel=function(){if(this.i=ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var au,lu=class{stringify(e){return ba.JSON.stringify(e,void 0)}parse(e){return ba.JSON.parse(e,void 0)}};function cu(){this.g=new lu}function uu(e,t,n){const i=n||"";try{Nc(e,(function(e,n){let r=e;xa(e)&&(r=El(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function hu(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function du(e){this.l=e.fc||null,this.j=e.ob||!1}function fu(e,t){Sl.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=pu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ca(du,oc),du.prototype.g=function(){return new fu(this.l,this.j)},du.prototype.i=(au={},function(){return au}),Ca(fu,Sl);var pu=0;function gu(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function mu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vu(e)}function vu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ga=fu.prototype).open=function(e,t){if(this.readyState!=pu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vu(this)},ga.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ba).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ga.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mu(this)),this.readyState=pu},ga.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vu(this)),this.g&&(this.readyState=3,vu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ba.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gu(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ga.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mu(this):vu(this),3==this.readyState&&gu(this)}},ga.Za=function(e){this.g&&(this.response=this.responseText=e,mu(this))},ga.Ya=function(e){this.g&&(this.response=e,mu(this))},ga.ka=function(){this.g&&mu(this)},ga.setRequestHeader=function(e,t){this.v.append(e,t)},ga.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ga.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(fu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var yu=ba.JSON.parse;function bu(e){Sl.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wu,this.L=this.M=!1}Ca(bu,Sl);var wu="",xu=/^https?$/i,_u=["POST","PUT"];function ku(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Su(e),Tu(e)}function Su(e){e.F||(e.F=!0,Il(e,"complete"),Il(e,"error"))}function Iu(e){if(e.h&&"undefined"!=typeof ya&&(!e.C[1]||4!=Cu(e)||2!=e.da()))if(e.v&&4==Cu(e))zl(e.La,0,e);else if(Il(e,"readystatechange"),4==Cu(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===a){var r=String(e.I).match(Dc)[1]||null;!r&&ba.self&&ba.self.location&&(r=ba.self.location.protocol.slice(0,-1)),i=!xu.test(r?r.toLowerCase():"")}n=i}if(n)Il(e,"complete"),Il(e,"success");else{e.m=6;try{var s=2<Cu(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Su(e)}}finally{Tu(e)}}}function Tu(e,t){if(e.g){Eu(e);const i=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Il(e,"ready");try{i.onreadystatechange=r}catch(n){}}}function Eu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ba.clearTimeout(e.A),e.A=null)}function Cu(e){return e.g?e.g.readyState:0}function Au(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case wu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Rh){return null}}function Nu(e){let t="";return sl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Du(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Nu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Fc(e,t,n))}function Pu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Mu(e){this.Ga=0,this.j=[],this.l=new Gl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pu("baseRetryDelayMs",5e3,e),this.hb=Pu("retryDelaySeedMs",1e4,e),this.eb=Pu("forwardChannelMaxRetries",2,e),this.xa=Pu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new $c(e&&e.concurrentRequestLimit),this.Ja=new cu,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ru(e){if(Lu(e),3==e.H){var t=e.W++,n=Mc(e.I);if(Fc(n,"SID",e.K),Fc(n,"RID",t),Fc(n,"TYPE","terminate"),Vu(e,n),(t=new pc(e,e.l,t)).L=2,t.v=jc(Mc(n)),n=!1,ba.navigator&&ba.navigator.sendBeacon)try{n=ba.navigator.sendBeacon(t.v.toString(),"")}catch(i){}!n&&ba.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ju(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Sc(t)}Yu(e)}function Ou(e){e.g&&(qu(e),e.g.cancel(),e.g=null)}function Lu(e){Ou(e),e.u&&(ba.clearTimeout(e.u),e.u=null),Wu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ba.clearTimeout(e.m),e.m=null)}function Fu(e){if(!tu(e.i)&&!e.m){e.m=!0;var t=e.Na;Ml||Ll(),Rl||(Ml(),Rl=!0),Ol.add(t,e),e.C=0}}function ju(e,t){var n;n=t?t.m:e.W++;const i=Mc(e.I);Fc(i,"SID",e.K),Fc(i,"RID",n),Fc(i,"AID",e.V),Vu(e,i),e.o&&e.s&&Du(i,e.o,e.s),n=new pc(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=zu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ru(e.i,n),bc(n,i,t)}function Vu(e,t){e.na&&sl(e.na,(function(e,n){Fc(t,n,e)})),e.h&&Nc({},(function(e,n){Fc(t,n,e)}))}function zu(e,t,n){n=Math.min(e.j.length,n);var i=e.h?Ta(e.h.Va,e.h,e):null;e:{var r=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=r[o].g;const a=r[o].map;if(n-=t,0>n)t=Math.max(0,r[o].g-100),s=!1;else try{uu(a,e,"req"+n+"_")}catch(Wh){i&&i(a)}}if(s){i=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,i}function Uu(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ml||Ll(),Rl||(Ml(),Rl=!0),Ol.add(t,e),e.A=0}}function Bu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ic(Ta(e.Ma,e),Gu(e,e.A)),e.A++,!0)}function qu(e){null!=e.B&&(ba.clearTimeout(e.B),e.B=null)}function Ku(e){e.g=new pc(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Mc(e.wa);Fc(t,"RID","rpc"),Fc(t,"SID",e.K),Fc(t,"AID",e.V),Fc(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Fc(t,"TO",e.qa),Fc(t,"TYPE","xmlhttp"),Vu(e,t),e.o&&e.s&&Du(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=jc(Mc(t)),n.s=null,n.S=!0,wc(n,e)}function Wu(e){null!=e.v&&(ba.clearTimeout(e.v),e.v=null)}function Hu(e,t){var n=null;if(e.g==t){Wu(e),qu(e),e.g=null;var i=2}else{if(!iu(e.i,t))return;n=t.F,su(e.i,t),i=1}if(0!=e.H)if(t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.G;var r=e.C;Il(i=Jl(),new nc(i,n)),Fu(e)}else Uu(e);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function(e,t){return!(nu(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ic(Ta(e.Na,e,t),Gu(e,e.C)),e.C++,!0))}(e,t)||2==i&&Bu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:Xu(e,5);break;case 4:Xu(e,10);break;case 3:Xu(e,6);break;default:Xu(e,2)}}function Gu(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Xu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var i=Ta(e.pb,e);n||(n=new Pc("//www.google.com/images/cleardot.gif"),ba.location&&"http"==ba.location.protocol||Rc(n,"https"),jc(n)),function(e,t){const n=new Gl;if(ba.Image){const i=new Image;i.onload=Ea(hu,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Ea(hu,n,i,"TestLoadImage: error",!1,t),i.onabort=Ea(hu,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Ea(hu,n,i,"TestLoadImage: timeout",!1,t),ba.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(n.toString(),i)}else tc(2);e.H=0,e.h&&e.h.za(t),Yu(e),Lu(e)}function Yu(e){if(e.H=0,e.ma=[],e.h){const t=ou(e.i);0==t.length&&0==e.j.length||(Pa(e.ma,t),Pa(e.ma,e.j),e.i.i.length=0,Da(e.j),e.j.length=0),e.h.ya()}}function Qu(e,t,n){var i=n instanceof Pc?Mc(n):new Pc(n);if(""!=i.g)t&&(i.g=t+"."+i.g),Oc(i,i.m);else{var r=ba.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Pc(null);i&&Rc(s,i),t&&(s.g=t),r&&Oc(s,r),n&&(s.l=n),i=s}return n=e.F,t=e.Da,n&&t&&Fc(i,n,t),Fc(i,"VER",e.ra),Vu(e,i),i}function Ju(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new bu(new du({ob:!0})):new bu(e.va)).Oa(e.J),t}function Zu(){}function $u(){if(Ba&&!(10<=Number(Za)))throw Error("Environmental error: no available transport.")}function eh(e,t){Sl.call(this),this.g=new Mu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Oa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Oa(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ih(this)}function th(e){hc.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function nh(){dc.call(this),this.status=1}function ih(e){this.g=e}function rh(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function sh(e,t,n){n||(n=0);var i=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var s=e.g[3],o=t+(s^n&(r^s))+i[0]+3614090360&4294967295;o=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+s&4294967295}function oh(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var s=0|e[r];i&&s==t||(n[r]=s,i=!1)}this.g=n}(ga=bu.prototype).Oa=function(e){this.M=e},ga.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cc.g(),this.C=this.u?ac(this.u):ac(cc),this.g.onreadystatechange=Ta(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void ku(this,s)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),r=ba.FormData&&e instanceof ba.FormData,!(0<=Na(_u,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Eu(this),0<this.B&&((this.L=function(e){return Ba&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ta(this.ua,this)):this.A=zl(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ku(this,s)}},ga.ua=function(){"undefined"!=typeof ya&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Il(this,"timeout"),this.abort(8))},ga.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Il(this,"complete"),Il(this,"abort"),Tu(this))},ga.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tu(this,!0)),bu.$.N.call(this)},ga.La=function(){this.s||(this.G||this.v||this.l?Iu(this):this.kb())},ga.kb=function(){Iu(this)},ga.isActive=function(){return!!this.g},ga.da=function(){try{return 2<Cu(this)?this.g.status:-1}catch(au){return-1}},ga.ja=function(){try{return this.g?this.g.responseText:""}catch(au){return""}},ga.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),yu(t)}},ga.Ia=function(){return this.m},ga.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ga=Mu.prototype).ra=8,ga.H=1,ga.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const r=new pc(this,this.l,e);let s=this.s;if(this.U&&(s?(s=ol(s),ll(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=zu(this,r,t),Fc(n=Mc(this.I),"RID",e),Fc(n,"CVER",22),this.F&&Fc(n,"X-HTTP-Session-Id",this.F),Vu(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Nu(s)))+"&"+t:this.o&&Du(n,this.o,s)),ru(this.i,r),this.bb&&Fc(n,"TYPE","init"),this.P?(Fc(n,"$req",t),Fc(n,"SID","null"),r.aa=!0,bc(r,n,null)):bc(r,n,t),this.H=2}}else 3==this.H&&(e?ju(this,e):0==this.j.length||tu(this.i)||ju(this))},ga.Ma=function(){if(this.u=null,Ku(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ic(Ta(this.jb,this),e)}},ga.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tc(10),Ou(this),Ku(this))},ga.ib=function(){null!=this.v&&(this.v=null,Ou(this),Bu(this),tc(19))},ga.pb=function(e){e?(this.l.info("Successfully pinged google.com"),tc(2)):(this.l.info("Failed to ping google.com"),tc(1))},ga.isActive=function(){return!!this.h&&this.h.isActive(this)},(ga=Zu.prototype).Ba=function(){},ga.Aa=function(){},ga.za=function(){},ga.ya=function(){},ga.isActive=function(){return!0},ga.Va=function(){},$u.prototype.g=function(e,t){return new eh(e,t)},Ca(eh,Sl),eh.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;tc(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Qu(e,null,e.Y),Fu(e)},eh.prototype.close=function(){Ru(this.g)},eh.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=El(e),e=n);t.j.push(new class{constructor(e,t){this.g=e,this.map=t}}(t.fb++,e)),3==t.H&&Fu(t)},eh.prototype.N=function(){this.g.h=null,delete this.j,Ru(this.g),delete this.g,eh.$.N.call(this)},Ca(th,hc),Ca(nh,dc),Ca(ih,Zu),ih.prototype.Ba=function(){Il(this.g,"a")},ih.prototype.Aa=function(e){Il(this.g,new th(e))},ih.prototype.za=function(e){Il(this.g,new nh)},ih.prototype.ya=function(){Il(this.g,"b")},Ca(rh,(function(){this.blockSize=-1})),rh.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},rh.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=n;)sh(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[r++]=e.charCodeAt(s++),r==this.blockSize){sh(this,i),r=0;break}}else for(;s<t;)if(i[r++]=e[s++],r==this.blockSize){sh(this,i),r=0;break}}this.h=r,this.i+=t},rh.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};var ah={};function lh(e){return-128<=e&&128>e?function(e,t){var n=ah;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new oh([0|e],0>e?-1:0)})):new oh([0|e],0>e?-1:0)}function ch(e){if(isNaN(e)||!isFinite(e))return hh;if(0>e)return mh(ch(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=uh;return new oh(t,0)}var uh=4294967296,hh=lh(0),dh=lh(1),fh=lh(16777216);function ph(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function gh(e){return-1==e.h}function mh(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new oh(n,~e.h).add(dh)}function vh(e,t){return e.add(mh(t))}function yh(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function bh(e,t){this.g=e,this.h=t}function wh(e,t){if(ph(t))throw Error("division by zero");if(ph(e))return new bh(hh,hh);if(gh(e))return t=wh(mh(e),t),new bh(mh(t.g),mh(t.h));if(gh(t))return t=wh(e,mh(t)),new bh(mh(t.g),t.h);if(30<e.g.length){if(gh(e)||gh(t))throw Error("slowDivide_ only works with positive integers.");for(var n=dh,i=t;0>=i.X(e);)n=xh(n),i=xh(i);var r=_h(n,1),s=_h(i,1);for(i=_h(i,2),n=_h(n,2);!ph(i);){var o=s.add(i);0>=o.X(e)&&(r=r.add(n),s=o),i=_h(i,1),n=_h(n,1)}return t=vh(e,r.R(t)),new bh(r,t)}for(r=hh;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),o=(s=ch(n)).R(t);gh(o)||0<o.X(e);)o=(s=ch(n-=i)).R(t);ph(s)&&(s=dh),r=r.add(s),e=vh(e,o)}return new bh(r,e)}function xh(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new oh(n,e.h)}function _h(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,r=[],s=0;s<i;s++)r[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new oh(r,e.h)}(ga=oh.prototype).ea=function(){if(gh(this))return-mh(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:uh+i)*t,t*=uh}return e},ga.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ph(this))return"0";if(gh(this))return"-"+mh(this).toString(e);for(var t=ch(Math.pow(e,6)),n=this,i="";;){var r=wh(n,t).g,s=((0<(n=vh(n,r.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ph(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},ga.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ga.X=function(e){return gh(e=vh(this,e))?-1:ph(e)?0:1},ga.abs=function(){return gh(this)?mh(this):this},ga.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&e.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(e.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new oh(n,-2147483648&n[n.length-1]?-1:0)},ga.R=function(e){if(ph(this)||ph(e))return hh;if(gh(this))return gh(e)?mh(this).R(mh(e)):mh(mh(this).R(e));if(gh(e))return mh(this.R(mh(e)));if(0>this.X(fh)&&0>e.X(fh))return ch(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<e.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=e.D(r)>>>16,l=65535&e.D(r);n[2*i+2*r]+=o*l,yh(n,2*i+2*r),n[2*i+2*r+1]+=s*l,yh(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,yh(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,yh(n,2*i+2*r+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new oh(n,0)},ga.gb=function(e){return wh(this,e).h},ga.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new oh(n,this.h&e.h)},ga.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new oh(n,this.h|e.h)},ga.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new oh(n,this.h^e.h)},$u.prototype.createWebChannel=$u.prototype.g,eh.prototype.send=eh.prototype.u,eh.prototype.open=eh.prototype.m,eh.prototype.close=eh.prototype.close,rc.NO_ERROR=0,rc.TIMEOUT=8,rc.HTTP_ERROR=6,sc.COMPLETE="complete",lc.EventType=uc,uc.OPEN="a",uc.CLOSE="b",uc.ERROR="c",uc.MESSAGE="d",Sl.prototype.listen=Sl.prototype.O,bu.prototype.listenOnce=bu.prototype.P,bu.prototype.getLastError=bu.prototype.Sa,bu.prototype.getLastErrorCode=bu.prototype.Ia,bu.prototype.getStatus=bu.prototype.da,bu.prototype.getResponseJson=bu.prototype.Wa,bu.prototype.getResponseText=bu.prototype.ja,bu.prototype.send=bu.prototype.ha,bu.prototype.setWithCredentials=bu.prototype.Oa,rh.prototype.digest=rh.prototype.l,rh.prototype.reset=rh.prototype.reset,rh.prototype.update=rh.prototype.j,oh.prototype.add=oh.prototype.add,oh.prototype.multiply=oh.prototype.R,oh.prototype.modulo=oh.prototype.gb,oh.prototype.compare=oh.prototype.X,oh.prototype.toNumber=oh.prototype.ea,oh.prototype.toString=oh.prototype.toString,oh.prototype.getBits=oh.prototype.D,oh.fromNumber=ch,oh.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return mh(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=ch(Math.pow(n,8)),r=hh,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=ch(Math.pow(n,o)),r=r.R(o).add(ch(a))):r=(r=r.R(i)).add(ch(a))}return r};var kh=va.createWebChannelTransport=function(){return new $u},Sh=va.getStatEventTarget=function(){return Jl()},Ih=va.ErrorCode=rc,Th=va.EventType=sc,Eh=va.Event=Yl,Ch=va.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ah=va.FetchXmlHttpFactory=du,Nh=va.WebChannel=lc,Dh=va.XhrIo=bu,Ph=va.Md5=rh,Mh=va.Integer=oh;const Rh="@firebase/firestore";class Oh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oh.UNAUTHENTICATED=new Oh(null),Oh.GOOGLE_CREDENTIALS=new Oh("google-credentials-uid"),Oh.FIRST_PARTY=new Oh("first-party-uid"),Oh.MOCK_USER=new Oh("mock-user");let Lh="9.23.0";const Fh=new ut("@firebase/firestore");function jh(){return Fh.logLevel}function Vh(e){if(Fh.logLevel<=st.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(Bh);Fh.debug("Firestore (".concat(Lh,"): ").concat(e),...r)}}function zh(e){if(Fh.logLevel<=st.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(Bh);Fh.error("Firestore (".concat(Lh,"): ").concat(e),...r)}}function Uh(e){if(Fh.logLevel<=st.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(Bh);Fh.warn("Firestore (".concat(Lh,"): ").concat(e),...r)}}function Bh(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function qh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Lh,") INTERNAL ASSERTION FAILED: ")+e;throw zh(t),new Error(t)}function Kh(e,t){e||qh()}function Wh(e,t){return e}const Hh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gh extends Ue{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Xh{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Yh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Qh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Oh.UNAUTHENTICATED)))}shutdown(){}}class Jh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Zh{constructor(e){this.t=e,this.currentUser=Oh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new Xh;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Xh,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},o=e=>{Vh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Vh("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Xh)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Vh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Kh("string"==typeof t.accessToken),new Yh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Kh(null===e||"string"==typeof e),new Oh(e)}}class $h{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Oh.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ed{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new $h(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Oh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class td{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nd{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Vh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Vh("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{Vh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?i(e):Vh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Kh("string"==typeof e.token),this.T=e.token,new td(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function id(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}class rd{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=id(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%62))}return n}}function sd(e,t){return e<t?-1:e>t?1:0}function od(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}function ad(e){return e+"\0"}class ld{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Gh(Hh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Gh(Hh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Gh(Hh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Gh(Hh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ld.fromMillis(Date.now())}static fromDate(e){return ld.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ld(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sd(this.nanoseconds,e.nanoseconds):sd(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class cd{constructor(e){this.timestamp=e}static fromTimestamp(e){return new cd(e)}static min(){return new cd(new ld(0,0))}static max(){return new cd(new ld(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ud{constructor(e,t,n){void 0===t?t=0:t>e.length&&qh(),void 0===n?n=e.length-t:n>e.length-t&&qh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ud.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ud?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hd extends ud{construct(e,t,n){return new hd(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new Gh(Hh.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter((e=>e.length>0)))}return new hd(e)}static emptyPath(){return new hd([])}}const dd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fd extends ud{construct(e,t,n){return new fd(e,t,n)}static isValidIdentifier(e){return dd.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fd.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fd(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Gh(Hh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new Gh(Hh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Gh(Hh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(s=!s,i++):"."!==t||s?(n+=t,i++):(r(),i++)}if(r(),s)throw new Gh(Hh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fd(t)}static emptyPath(){return new fd([])}}class pd{constructor(e){this.path=e}static fromPath(e){return new pd(hd.fromString(e))}static fromName(e){return new pd(hd.fromString(e).popFirst(5))}static empty(){return new pd(hd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hd.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hd.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pd(new hd(e.slice()))}}class gd{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}function md(e){return e.fields.find((e=>2===e.kind))}function vd(e){return e.fields.filter((e=>2!==e.kind))}gd.UNKNOWN_ID=-1;class yd{constructor(e,t){this.fieldPath=e,this.kind=t}}class bd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new bd(0,_d.min())}}function wd(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=cd.fromTimestamp(1e9===i?new ld(n+1,0):new ld(n,i));return new _d(r,pd.empty(),t)}function xd(e){return new _d(e.readTime,e.key,-1)}class _d{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new _d(cd.min(),pd.empty(),-1)}static max(){return new _d(cd.max(),pd.empty(),-1)}}function kd(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=pd.comparator(e.documentKey,t.documentKey),0!==n?n:sd(e.largestBatchId,t.largestBatchId))}const Sd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Id{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Td(e){if(e.code!==Hh.FAILED_PRECONDITION||e.message!==Sd)throw e;Vh("LocalStore","Unexpectedly lost primary lease")}class Ed{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ed(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ed?t:Ed.resolve(t)}catch(e){return Ed.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ed.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ed.reject(t)}static resolve(e){return new Ed(((t,n)=>{t(e)}))}static reject(e){return new Ed(((t,n)=>{n(e)}))}static waitFor(e){return new Ed(((t,n)=>{let i=0,r=0,s=!1;e.forEach((e=>{++i,e.next((()=>{++r,s&&r===i&&t()}),(e=>n(e)))})),s=!0,r===i&&t()}))}static or(e){let t=Ed.resolve(!1);for(const n of e)t=t.next((e=>e?Ed.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}static mapArray(e,t){return new Ed(((n,i)=>{const r=e.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===r&&n(s)}),(e=>i(e)))}}))}static doWhile(e,t){return new Ed(((n,i)=>{const r=()=>{!0===e()?t().next((()=>{r()}),i):n()};r()}))}}class Cd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Xh,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Dd(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=Ld(t.target.error);this.v.reject(new Dd(e,n))}}static open(e,t,n,i){try{return new Cd(t,e.transaction(i,n))}catch(e){throw new Dd(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Vh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Md(t)}}class Ad{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===Ad.S(Oe())&&zh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vh("SimpleDb","Removing database:",e),Rd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ze())return!1;if(Ad.C())return!0;const e=Oe(),t=Ad.S(e),n=0<t&&t<10,i=Ad.N(e),r=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||r)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(Vh("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=e=>{const n=e.target.result;t(n)},i.onblocked=()=>{n(new Dd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const i=t.target.error;"VersionError"===i.name?n(new Gh(Hh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new Gh(Hh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new Dd(e,i))},i.onupgradeneeded=e=>{Vh("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,i.transaction,e.oldVersion,this.version).next((()=>{Vh("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,i){const r="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.$(e);const t=Cd.open(this.db,e,r?"readonly":"readwrite",n),s=i(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),Ed.reject(e)))).toPromise();return s.catch((()=>{})),await t.R,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Vh("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Nd{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Rd(this.L.delete())}}class Dd extends Gh{constructor(e,t){super(Hh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Pd(e){return"IndexedDbTransactionError"===e.name}class Md{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Vh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Vh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Rd(n)}add(e){return Vh("SimpleDb","ADD",this.store.name,e,e),Rd(this.store.add(e))}get(e){return Rd(this.store.get(e)).next((t=>(void 0===t&&(t=null),Vh("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Vh("SimpleDb","DELETE",this.store.name,e),Rd(this.store.delete(e))}count(){return Vh("SimpleDb","COUNT",this.store.name),Rd(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Ed(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Ed(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){Vh("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const i=this.cursor(n);return this.W(i,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.W(i,t)}Z(e){const t=this.cursor({});return new Ed(((n,i)=>{t.onerror=e=>{const t=Ld(e.target.error);i(t)},t.onsuccess=t=>{const i=t.target.result;i?e(i.primaryKey,i.value).next((e=>{e?i.continue():n()})):n()}}))}W(e,t){const n=[];return new Ed(((i,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{const r=e.target.result;if(!r)return void i();const s=new Nd(r),o=t(r.primaryKey,r.value,s);if(o instanceof Ed){const e=o.catch((e=>(s.done(),Ed.reject(e))));n.push(e)}s.isDone?i():null===s.K?r.continue():r.continue(s.K)}})).next((()=>Ed.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rd(e){return new Ed(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ld(e.target.error);n(t)}}))}let Od=!1;function Ld(e){const t=Ad.S(Oe());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Gh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Od||(Od=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Fd{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){Vh("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Vh("IndexBackiller","Documents written: ".concat(await this.tt.nt()))}catch(e){Pd(e)?Vh("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Td(e)}await this.et(6e4)}))}}class jd{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let i=t,r=!0;return Ed.doWhile((()=>!0===r&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Vh("IndexBackiller","Processing collection: ".concat(t)),this.it(e,t,i).next((e=>{i-=e,n.add(t)}));r=!1})))).next((()=>t-i))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,n).next((n=>{const r=n.changes;return this.localStore.indexManager.updateIndexEntries(e,r).next((()=>this.rt(i,n))).next((n=>(Vh("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>r.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const i=xd(t);kd(i,n)>0&&(n=i)})),new _d(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Vd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function zd(e){return null==e}function Ud(e){return 0===e&&1/e==-1/0}function Bd(e){return"number"==typeof e&&Number.isInteger(e)&&!Ud(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function qd(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Wd(t)),t=Kd(e.get(n),t);return Wd(t)}function Kd(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const t=e.charAt(r);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Wd(e){return e+"\x01\x01"}function Hd(e){const t=e.length;if(Kh(t>=2),2===t)return Kh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),hd.emptyPath();const n=t-2,i=[];let r="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&qh(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===r.length?o=n:(r+=n,o=r,r=""),i.push(o);break;case"\x10":r+=e.substring(s,t),r+="\0";break;case"\x11":r+=e.substring(s,t+1);break;default:qh()}s=t+2}return new hd(i)}Vd.ct=-1;const Gd=["userId","batchId"];function Xd(e,t){return[e,qd(t)]}function Yd(e,t,n){return[e,qd(t),n]}const Qd={},Jd=["prefixPath","collectionGroup","readTime","documentId"],Zd=["prefixPath","collectionGroup","documentId"],$d=["collectionGroup","readTime","prefixPath","documentId"],ef=["canonicalId","targetId"],tf=["targetId","path"],nf=["path","targetId"],rf=["collectionId","parent"],sf=["indexId","uid"],of=["uid","sequenceNumber"],af=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lf=["indexId","uid","orderedDocumentKey"],cf=["userId","collectionPath","documentId"],uf=["userId","collectionPath","largestBatchId"],hf=["userId","collectionGroup","largestBatchId"],df=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ff=[...df,"documentOverlays"],pf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gf=pf,mf=[...gf,"indexConfiguration","indexState","indexEntries"];class vf extends Id{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function yf(e,t){const n=Wh(e);return Ad.M(n.ht,t)}function bf(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wf(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class _f{constructor(e,t){this.comparator=e,this.root=t||Sf.EMPTY}insert(e,t){return new _f(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sf.BLACK,null,null))}remove(e){return new _f(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sf.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kf(this.root,e,this.comparator,!1)}getReverseIterator(){return new kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kf(this.root,e,this.comparator,!0)}}class kf{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sf{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:Sf.RED,this.left=null!=i?i:Sf.EMPTY,this.right=null!=r?r:Sf.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new Sf(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sf.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Sf.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sf.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sf.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qh();if(this.right.isRed())throw qh();const e=this.left.check();if(e!==this.right.check())throw qh();return e+(this.isRed()?0:1)}}Sf.EMPTY=null,Sf.RED=!0,Sf.BLACK=!1,Sf.EMPTY=new class{constructor(){this.size=0}get key(){throw qh()}get value(){throw qh()}get color(){throw qh()}get left(){throw qh()}get right(){throw qh()}copy(e,t,n,i,r){return this}insert(e,t,n){return new Sf(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class If{constructor(e){this.comparator=e,this.data=new _f(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tf(this.data.getIterator())}getIteratorFrom(e){return new Tf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof If))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new If(this.comparator);return t.data=e,t}}class Tf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ef(e){return e.hasNext()?e.getNext():void 0}class Cf{constructor(e){this.fields=e,e.sort(fd.comparator)}static empty(){return new Cf([])}unionWith(e){let t=new If(fd.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Cf(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return od(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Af extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nf{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Af("Invalid base64 string: "+e):e}}(e);return new Nf(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Nf(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sd(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nf.EMPTY_BYTE_STRING=new Nf("");const Df=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pf(e){if(Kh(!!e),"string"==typeof e){let t=0;const n=Df.exec(e);if(Kh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Mf(e.seconds),nanos:Mf(e.nanos)}}function Mf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rf(e){return"string"==typeof e?Nf.fromBase64String(e):Nf.fromUint8Array(e)}function Of(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lf(e){const t=e.mapValue.fields.__previous_value__;return Of(t)?Lf(t):t}function Ff(e){const t=Pf(e.mapValue.fields.__local_write_time__.timestampValue);return new ld(t.seconds,t.nanos)}class jf{constructor(e,t,n,i,r,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Vf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vf&&e.projectId===this.projectId&&e.database===this.database}}const zf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Uf={nullValue:"NULL_VALUE"};function Bf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Of(e)?4:np(e)?9007199254740991:10:qh()}function qf(e,t){if(e===t)return!0;const n=Bf(e);if(n!==Bf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ff(e).isEqual(Ff(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Pf(e.timestampValue),i=Pf(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rf(e.bytesValue).isEqual(Rf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Mf(e.geoPointValue.latitude)===Mf(t.geoPointValue.latitude)&&Mf(e.geoPointValue.longitude)===Mf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Mf(e.integerValue)===Mf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Mf(e.doubleValue),i=Mf(t.doubleValue);return n===i?Ud(n)===Ud(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return od(e.arrayValue.values||[],t.arrayValue.values||[],qf);case 10:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(bf(n)!==bf(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!qf(n[r],i[r])))return!1;return!0}(e,t);default:return qh()}}function Kf(e,t){return void 0!==(e.values||[]).find((e=>qf(e,t)))}function Wf(e,t){if(e===t)return 0;const n=Bf(e),i=Bf(t);if(n!==i)return sd(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return sd(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Mf(e.integerValue||e.doubleValue),i=Mf(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return Hf(e.timestampValue,t.timestampValue);case 4:return Hf(Ff(e),Ff(t));case 5:return sd(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Rf(e),i=Rf(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=sd(n[r],i[r]);if(0!==e)return e}return sd(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=sd(Mf(e.latitude),Mf(t.latitude));return 0!==n?n:sd(Mf(e.longitude),Mf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=Wf(n[r],i[r]);if(e)return e}return sd(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===zf.mapValue&&t===zf.mapValue)return 0;if(e===zf.mapValue)return 1;if(t===zf.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const e=sd(i[o],s[o]);if(0!==e)return e;const t=Wf(n[i[o]],r[s[o]]);if(0!==t)return t}return sd(i.length,s.length)}(e.mapValue,t.mapValue);default:throw qh()}}function Hf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return sd(e,t);const n=Pf(e),i=Pf(t),r=sd(n.seconds,i.seconds);return 0!==r?r:sd(n.nanos,i.nanos)}function Gf(e){return Xf(e)}function Xf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Pf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rf(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pd.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=Xf(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+="".concat(r,":").concat(Xf(e.fields[r]));return n+"}"}(e.mapValue):qh();var t,n}function Yf(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Qf(e){return!!e&&"integerValue"in e}function Jf(e){return!!e&&"arrayValue"in e}function Zf(e){return!!e&&"nullValue"in e}function $f(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ep(e){return!!e&&"mapValue"in e}function tp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wf(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=tp(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tp(e.arrayValue.values[n]);return t}return Object.assign({},e)}function np(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ip(e){return"nullValue"in e?Uf:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Yf(Vf.empty(),pd.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:qh()}function rp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Yf(Vf.empty(),pd.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?zf:qh()}function sp(e,t){const n=Wf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function op(e,t){const n=Wf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class ap{constructor(e){this.value=e}static empty(){return new ap({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ep(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tp(t)}setAll(e){let t=fd.emptyPath(),n={},i=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=tp(e):i.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());ep(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];ep(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){wf(t,((t,n)=>e[t]=n));for(const i of n)delete e[i]}clone(){return new ap(tp(this.value))}}function lp(e){const t=[];return wf(e.fields,((e,n)=>{const i=new fd([e]);if(ep(n)){const e=lp(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new Cf(t)}class cp{constructor(e,t,n,i,r,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(e){return new cp(e,0,cd.min(),cd.min(),cd.min(),ap.empty(),0)}static newFoundDocument(e,t,n,i){return new cp(e,1,t,cd.min(),n,i,0)}static newNoDocument(e,t){return new cp(e,2,t,cd.min(),cd.min(),ap.empty(),0)}static newUnknownDocument(e,t){return new cp(e,3,t,cd.min(),cd.min(),ap.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(cd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ap.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ap.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cd.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cp&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cp(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class up{constructor(e,t){this.position=e,this.inclusive=t}}function hp(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(i=s.field.isKeyField()?pd.comparator(pd.fromName(o.referenceValue),n.key):Wf(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function dp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qf(e.position[n],t.position[n]))return!1;return!0}class fp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function pp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class gp{}class mp extends gp{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Tp(e,t,n):"array-contains"===t?new Np(e,n):"in"===t?new Dp(e,n):"not-in"===t?new Pp(e,n):"array-contains-any"===t?new Mp(e,n):new mp(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ep(e,n):new Cp(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Wf(t,this.value)):null!==t&&Bf(this.value)===Bf(t)&&this.matchesComparison(Wf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vp extends gp{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new vp(e,t)}matches(e){return yp(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function yp(e){return"and"===e.op}function bp(e){return"or"===e.op}function wp(e){return xp(e)&&yp(e)}function xp(e){for(const t of e.filters)if(t instanceof vp)return!1;return!0}function _p(e){if(e instanceof mp)return e.field.canonicalString()+e.op.toString()+Gf(e.value);if(wp(e))return e.filters.map((e=>_p(e))).join(",");{const t=e.filters.map((e=>_p(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function kp(e,t){return e instanceof mp?function(e,t){return t instanceof mp&&e.op===t.op&&e.field.isEqual(t.field)&&qf(e.value,t.value)}(e,t):e instanceof vp?function(e,t){return t instanceof vp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,i)=>e&&kp(n,t.filters[i])),!0)}(e,t):void qh()}function Sp(e,t){const n=e.filters.concat(t);return vp.create(n,e.op)}function Ip(e){return e instanceof mp?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Gf(e.value))}(e):e instanceof vp?function(e){return e.op.toString()+" {"+e.getFilters().map(Ip).join(" ,")+"}"}(e):"Filter"}class Tp extends mp{constructor(e,t,n){super(e,t,n),this.key=pd.fromName(n.referenceValue)}matches(e){const t=pd.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ep extends mp{constructor(e,t){super(e,"in",t),this.keys=Ap("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Cp extends mp{constructor(e,t){super(e,"not-in",t),this.keys=Ap("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ap(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>pd.fromName(e.referenceValue)))}class Np extends mp{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jf(t)&&Kf(t.arrayValue,this.value)}}class Dp extends mp{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Kf(this.value.arrayValue,t)}}class Pp extends mp{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Kf(this.value.arrayValue,t)}}class Mp extends mp{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Kf(this.value.arrayValue,e)))}}class Rp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.dt=null}}function Op(e){return new Rp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Lp(e){const t=Wh(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>_p(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),zd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Gf(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Gf(e))).join(",")),t.dt=e}return t.dt}function Fp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!pp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!kp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!dp(e.startAt,t.startAt)&&dp(e.endAt,t.endAt)}function jp(e){return pd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Vp(e,t){return e.filters.filter((e=>e instanceof mp&&e.field.isEqual(t)))}function zp(e,t,n){let i=Uf,r=!0;for(const s of Vp(e,t)){let e=Uf,t=!0;switch(s.op){case"<":case"<=":e=ip(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Uf}sp({value:i,inclusive:r},{value:e,inclusive:t})<0&&(i=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];sp({value:i,inclusive:r},{value:e,inclusive:n.inclusive})<0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}function Up(e,t,n){let i=zf,r=!0;for(const s of Vp(e,t)){let e=zf,t=!0;switch(s.op){case">=":case">":e=rp(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=zf}op({value:i,inclusive:r},{value:e,inclusive:t})>0&&(i=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];op({value:i,inclusive:r},{value:e,inclusive:n.inclusive})>0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}class Bp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function qp(e,t,n,i,r,s,o,a){return new Bp(e,t,n,i,r,s,o,a)}function Kp(e){return new Bp(e)}function Wp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gp(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Xp(e){return null!==e.collectionGroup}function Yp(e){const t=Wh(e);if(null===t.wt){t.wt=[];const e=Gp(t),n=Hp(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new fp(e)),t.wt.push(new fp(fd.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new fp(fd.keyField(),e))}}}return t.wt}function Qp(e){const t=Wh(e);if(!t._t)if("F"===t.limitType)t._t=Op(t.path,t.collectionGroup,Yp(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const r of Yp(t)){const t="desc"===r.dir?"asc":"desc";e.push(new fp(r.field,t))}const n=t.endAt?new up(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new up(t.startAt.position,t.startAt.inclusive):null;t._t=Op(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}return t._t}function Jp(e,t){t.getFirstInequalityField(),Gp(e);const n=e.filters.concat([t]);return new Bp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Zp(e,t,n){return new Bp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $p(e,t){return Fp(Qp(e),Qp(t))&&e.limitType===t.limitType}function eg(e){return"".concat(Lp(Qp(e)),"|lt:").concat(e.limitType)}function tg(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Ip(e))).join(", "),"]")),zd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Gf(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Gf(e))).join(",")),"Target(".concat(t,")")}(Qp(e)),"; limitType=").concat(e.limitType,")")}function ng(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Yp(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=hp(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,Yp(e),t))&&!(e.endAt&&!function(e,t,n){const i=hp(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,Yp(e),t))}(e,t)}function ig(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function rg(e){return(t,n)=>{let i=!1;for(const r of Yp(e)){const e=sg(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function sg(e,t,n){const i=e.field.isKeyField()?pd.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?Wf(i,r):qh()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return qh()}}class og{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wf(this.inner,((t,n)=>{for(const[i,r]of n)e(i,r)}))}isEmpty(){return xf(this.inner)}size(){return this.innerSize}}const ag=new _f(pd.comparator);function lg(){return ag}const cg=new _f(pd.comparator);function ug(){let e=cg;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.insert(r.key,r);return e}function hg(e){let t=cg;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function dg(){return pg()}function fg(){return pg()}function pg(){return new og((e=>e.toString()),((e,t)=>e.isEqual(t)))}const gg=new _f(pd.comparator),mg=new If(pd.comparator);function vg(){let e=mg;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.add(r);return e}const yg=new If(sd);function bg(){return yg}function wg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(t)?"-0":t}}function xg(e){return{integerValue:""+e}}function _g(e,t){return Bd(t)?xg(t):wg(e,t)}class kg{constructor(){this._=void 0}}function Sg(e,t,n){return e instanceof Eg?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Of(t)&&(t=Lf(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cg?Ag(e,t):e instanceof Ng?Dg(e,t):function(e,t){const n=Tg(e,t),i=Mg(n)+Mg(e.gt);return Qf(n)&&Qf(e.gt)?xg(i):wg(e.serializer,i)}(e,t)}function Ig(e,t,n){return e instanceof Cg?Ag(e,t):e instanceof Ng?Dg(e,t):n}function Tg(e,t){return e instanceof Pg?Qf(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Eg extends kg{}class Cg extends kg{constructor(e){super(),this.elements=e}}function Ag(e,t){const n=Rg(t);for(const i of e.elements)n.some((e=>qf(e,i)))||n.push(i);return{arrayValue:{values:n}}}class Ng extends kg{constructor(e){super(),this.elements=e}}function Dg(e,t){let n=Rg(t);for(const i of e.elements)n=n.filter((e=>!qf(e,i)));return{arrayValue:{values:n}}}class Pg extends kg{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Mg(e){return Mf(e.integerValue||e.doubleValue)}function Rg(e){return Jf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Og{constructor(e,t){this.field=e,this.transform=t}}class Lg{constructor(e,t){this.version=e,this.transformResults=t}}class Fg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fg}static exists(e){return new Fg(void 0,e)}static updateTime(e){return new Fg(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Vg{}function zg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Qg(e.key,Fg.none()):new Wg(e.key,e.data,Fg.none());{const n=e.data,i=ap.empty();let r=new If(fd.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),r=r.add(e)}return new Hg(e.key,i,new Cf(r.toArray()),Fg.none())}}function Ug(e,t,n){e instanceof Wg?function(e,t,n){const i=e.value.clone(),r=Xg(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof Hg?function(e,t,n){if(!jg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=Xg(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Gg(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bg(e,t,n,i){return e instanceof Wg?function(e,t,n,i){if(!jg(e.precondition,t))return n;const r=e.value.clone(),s=Yg(e.fieldTransforms,i,t);return r.setAll(s),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,i):e instanceof Hg?function(e,t,n,i){if(!jg(e.precondition,t))return n;const r=Yg(e.fieldTransforms,i,t),s=t.data;return s.setAll(Gg(e)),s.setAll(r),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,i):function(e,t,n){return jg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function qg(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=Tg(i.transform,e||null);null!=r&&(null===n&&(n=ap.empty()),n.set(i.field,r))}return n||null}function Kg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&od(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cg&&t instanceof Cg||e instanceof Ng&&t instanceof Ng?od(e.elements,t.elements,qf):e instanceof Pg&&t instanceof Pg?qf(e.gt,t.gt):e instanceof Eg&&t instanceof Eg}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wg extends Vg{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hg extends Vg{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Gg(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function Xg(e,t,n){const i=new Map;Kh(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,Ig(o,a,n[r]))}return i}function Yg(e,t,n){const i=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);i.set(r.field,Sg(e,s,t))}return i}class Qg extends Vg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jg extends Vg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zg{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&Ug(t,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Bg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Bg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=fg();return this.mutations.forEach((i=>{const r=e.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=t.has(i.key)?null:o;const a=zg(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(cd.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),vg())}isEqual(e){return this.batchId===e.batchId&&od(this.mutations,e.mutations,((e,t)=>Kg(e,t)))&&od(this.baseMutations,e.baseMutations,((e,t)=>Kg(e,t)))}}class $g{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Kh(e.mutations.length===n.length);let i=gg;const r=e.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new $g(e,t,n,i)}}class em{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class tm{constructor(e,t){this.count=e,this.unchangedNames=t}}var nm,im;function rm(e){switch(e){default:return qh();case Hh.CANCELLED:case Hh.UNKNOWN:case Hh.DEADLINE_EXCEEDED:case Hh.RESOURCE_EXHAUSTED:case Hh.INTERNAL:case Hh.UNAVAILABLE:case Hh.UNAUTHENTICATED:return!1;case Hh.INVALID_ARGUMENT:case Hh.NOT_FOUND:case Hh.ALREADY_EXISTS:case Hh.PERMISSION_DENIED:case Hh.FAILED_PRECONDITION:case Hh.ABORTED:case Hh.OUT_OF_RANGE:case Hh.UNIMPLEMENTED:case Hh.DATA_LOSS:return!0}}function sm(e){if(void 0===e)return zh("GRPC error has no .code"),Hh.UNKNOWN;switch(e){case nm.OK:return Hh.OK;case nm.CANCELLED:return Hh.CANCELLED;case nm.UNKNOWN:return Hh.UNKNOWN;case nm.DEADLINE_EXCEEDED:return Hh.DEADLINE_EXCEEDED;case nm.RESOURCE_EXHAUSTED:return Hh.RESOURCE_EXHAUSTED;case nm.INTERNAL:return Hh.INTERNAL;case nm.UNAVAILABLE:return Hh.UNAVAILABLE;case nm.UNAUTHENTICATED:return Hh.UNAUTHENTICATED;case nm.INVALID_ARGUMENT:return Hh.INVALID_ARGUMENT;case nm.NOT_FOUND:return Hh.NOT_FOUND;case nm.ALREADY_EXISTS:return Hh.ALREADY_EXISTS;case nm.PERMISSION_DENIED:return Hh.PERMISSION_DENIED;case nm.FAILED_PRECONDITION:return Hh.FAILED_PRECONDITION;case nm.ABORTED:return Hh.ABORTED;case nm.OUT_OF_RANGE:return Hh.OUT_OF_RANGE;case nm.UNIMPLEMENTED:return Hh.UNIMPLEMENTED;case nm.DATA_LOSS:return Hh.DATA_LOSS;default:return qh()}}(im=nm||(nm={}))[im.OK=0]="OK",im[im.CANCELLED=1]="CANCELLED",im[im.UNKNOWN=2]="UNKNOWN",im[im.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",im[im.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",im[im.NOT_FOUND=5]="NOT_FOUND",im[im.ALREADY_EXISTS=6]="ALREADY_EXISTS",im[im.PERMISSION_DENIED=7]="PERMISSION_DENIED",im[im.UNAUTHENTICATED=16]="UNAUTHENTICATED",im[im.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",im[im.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",im[im.ABORTED=10]="ABORTED",im[im.OUT_OF_RANGE=11]="OUT_OF_RANGE",im[im.UNIMPLEMENTED=12]="UNIMPLEMENTED",im[im.INTERNAL=13]="INTERNAL",im[im.UNAVAILABLE=14]="UNAVAILABLE",im[im.DATA_LOSS=15]="DATA_LOSS";class om{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return am}static getOrCreateInstance(){return null===am&&(am=new om),am}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let am=null;function lm(){return new TextEncoder}const cm=new Mh([4294967295,4294967295],0);function um(e){const t=lm().encode(e),n=new Ph;return n.update(t),new Uint8Array(n.digest())}function hm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Mh([n,i],0),new Mh([r,s],0)]}class dm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new fm("Invalid padding: ".concat(t));if(n<0)throw new fm("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new fm("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new fm("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=Mh.fromNumber(this.It)}Et(e,t,n){let i=e.add(t.multiply(Mh.fromNumber(n)));return 1===i.compare(cm)&&(i=new Mh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=um(e),[n,i]=hm(t);for(let r=0;r<this.hashCount;r++){const e=this.Et(n,i,r);if(!this.At(e))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),s=new dm(r,i,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=um(e),[n,i]=hm(t);for(let r=0;r<this.hashCount;r++){const e=this.Et(n,i,r);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class fm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pm{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,gm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new pm(cd.min(),i,new _f(sd),lg(),vg())}}class gm{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new gm(n,t,vg(),vg(),vg())}}class mm{constructor(e,t,n,i){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=i}}class vm{constructor(e,t){this.targetId=e,this.Vt=t}}class ym{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nf.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class bm{constructor(){this.St=0,this.Dt=_m(),this.Ct=Nf.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=vg(),t=vg(),n=vg();return this.Dt.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:qh()}})),new gm(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=_m()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class wm{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=lg(),this.zt=xm(),this.Wt=new _f(sd)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:qh()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,i=e.Vt.count,r=this.se(n);if(r){const s=r.target;if(jp(s))if(0===i){const e=new pd(s.path);this.Yt(n,e,cp.newNoDocument(e,cd.min()))}else Kh(1===i);else{const r=this.ie(n);if(r!==i){const i=this.re(e,r);if(0!==i){this.ee(n);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=om.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var i,r,s,o,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(i=null==u?void 0:u.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(o=null===(s=null===(r=null==u?void 0:u.bits)||void 0===r?void 0:r.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(i,r,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:i}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=Rf(r).toUint8Array()}catch(e){if(e instanceof Af)return Uh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new dm(a,s,o)}catch(e){return Uh(e instanceof fm?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:i!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let i=0;return n.forEach((n=>{const r=this.Gt.ue(),s="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),i++)})),i}ce(e){const t=new Map;this.Qt.forEach(((n,i)=>{const r=this.se(i);if(r){if(n.current&&jp(r.target)){const t=new pd(r.target.path);null!==this.jt.get(t)||this.ae(i,t)||this.Yt(i,t,cp.newNoDocument(t,e))}n.Mt&&(t.set(i,n.Ot()),n.Ft())}}));let n=vg();this.zt.forEach(((e,t)=>{let i=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)})),i&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const i=new pm(e,t,this.Wt,this.jt,n);return this.jt=lg(),this.zt=xm(),this.Wt=new _f(sd),i}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new bm,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new If(sd),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Vh("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new bm),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function xm(){return new _f(pd.comparator)}function _m(){return new _f(pd.comparator)}const km={asc:"ASCENDING",desc:"DESCENDING"},Sm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Im={and:"AND",or:"OR"};class Tm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Em(e,t){return e.useProto3Json||zd(t)?t:{value:t}}function Cm(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Am(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Nm(e,t){return Cm(e,t.toTimestamp())}function Dm(e){return Kh(!!e),cd.fromTimestamp(function(e){const t=Pf(e);return new ld(t.seconds,t.nanos)}(e))}function Pm(e,t){return function(e){return new hd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Mm(e){const t=hd.fromString(e);return Kh(tv(t)),t}function Rm(e,t){return Pm(e.databaseId,t.path)}function Om(e,t){const n=Mm(t);if(n.get(1)!==e.databaseId.projectId)throw new Gh(Hh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Gh(Hh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pd(Vm(n))}function Lm(e,t){return Pm(e.databaseId,t)}function Fm(e){const t=Mm(e);return 4===t.length?hd.emptyPath():Vm(t)}function jm(e){return new hd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vm(e){return Kh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function zm(e,t,n){return{name:Rm(e,t),fields:n.value.mapValue.fields}}function Um(e,t,n){const i=Om(e,t.name),r=Dm(t.updateTime),s=t.createTime?Dm(t.createTime):cd.min(),o=new ap({mapValue:{fields:t.fields}}),a=cp.newFoundDocument(i,r,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Bm(e,t){let n;if(t instanceof Wg)n={update:zm(e,t.key,t.value)};else if(t instanceof Qg)n={delete:Rm(e,t.key)};else if(t instanceof Hg)n={update:zm(e,t.key,t.data),updateMask:ev(t.fieldMask)};else{if(!(t instanceof Jg))return qh();n={verify:Rm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Eg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ng)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pg)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw qh()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Nm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qh()}(e,t.precondition)),n}function qm(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Fg.updateTime(Dm(e.updateTime)):void 0!==e.exists?Fg.exists(e.exists):Fg.none()}(t.currentDocument):Fg.none(),i=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Kh("REQUEST_TIME"===t.setToServerValue),n=new Eg;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Cg(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Ng(e)}else"increment"in t?n=new Pg(e,t.increment):qh();const i=fd.fromServerFormat(t.fieldPath);return new Og(i,n)}(e,t))):[];if(t.update){t.update.name;const r=Om(e,t.update.name),s=new ap({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Cf(t.map((e=>fd.fromServerFormat(e))))}(t.updateMask);return new Hg(r,s,e,n,i)}return new Wg(r,s,n,i)}if(t.delete){const i=Om(e,t.delete);return new Qg(i,n)}if(t.verify){const i=Om(e,t.verify);return new Jg(i,n)}return qh()}function Km(e,t){return{documents:[Lm(e,t.path)]}}function Wm(e,t){const n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n.parent=Lm(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Lm(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(e){if(0!==e.length)return $m(vp.create(e,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Jm(e.field),direction:Xm(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Em(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Hm(e){let t=Fm(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Kh(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Gm(e);return t instanceof vp&&wp(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new fp(Zm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,zd(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new up(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new up(n,t)}(n.endAt)),qp(t,r,o,s,a,"F",l,c)}function Gm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Zm(e.unaryFilter.field);return mp.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Zm(e.unaryFilter.field);return mp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zm(e.unaryFilter.field);return mp.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Zm(e.unaryFilter.field);return mp.create(r,"!=",{nullValue:"NULL_VALUE"});default:return qh()}}(e):void 0!==e.fieldFilter?function(e){return mp.create(Zm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return vp.create(e.compositeFilter.filters.map((e=>Gm(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return qh()}}(e.compositeFilter.op))}(e):qh()}function Xm(e){return km[e]}function Ym(e){return Sm[e]}function Qm(e){return Im[e]}function Jm(e){return{fieldPath:e.canonicalString()}}function Zm(e){return fd.fromServerFormat(e.fieldPath)}function $m(e){return e instanceof mp?function(e){if("=="===e.op){if($f(e.value))return{unaryFilter:{field:Jm(e.field),op:"IS_NAN"}};if(Zf(e.value))return{unaryFilter:{field:Jm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($f(e.value))return{unaryFilter:{field:Jm(e.field),op:"IS_NOT_NAN"}};if(Zf(e.value))return{unaryFilter:{field:Jm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jm(e.field),op:Ym(e.op),value:e.value}}}(e):e instanceof vp?function(e){const t=e.getFilters().map((e=>$m(e)));return 1===t.length?t[0]:{compositeFilter:{op:Qm(e.op),filters:t}}}(e):qh()}function ev(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function tv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class nv{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cd.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:cd.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nf.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new nv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iv{constructor(e){this.fe=e}}function rv(e,t){const n=t.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:sv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=function(e,t){return{name:Rm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Cm(e,t.version.toTimestamp()),createTime:Cm(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:ov(t.version)};else{if(!t.isUnknownDocument())return qh();i.unknownDocument={path:n.path.toArray(),version:ov(t.version)}}return i}function sv(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ov(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function av(e){const t=new ld(e.seconds,e.nanoseconds);return cd.fromTimestamp(t)}function lv(e,t){const n=(t.baseMutations||[]).map((t=>qm(e.fe,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const i=t.mutations.map((t=>qm(e.fe,t))),r=ld.fromMillis(t.localWriteTimeMs);return new Zg(t.batchId,r,n,i)}function cv(e){const t=av(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?av(e.lastLimboFreeSnapshotVersion):cd.min();let i;var r;return void 0!==e.query.documents?(Kh(1===(r=e.query).documents.length),i=Qp(Kp(Fm(r.documents[0])))):i=function(e){return Qp(Hm(e))}(e.query),new nv(i,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Nf.fromBase64String(e.resumeToken))}function uv(e,t){const n=ov(t.snapshotVersion),i=ov(t.lastLimboFreeSnapshotVersion);let r;r=jp(t.target)?Km(e.fe,t.target):Wm(e.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Lp(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function hv(e){const t=Hm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Zp(t,t.limit,"L"):t}function dv(e,t){return new em(t.largestBatchId,qm(e.fe,t.overlayMutation))}function fv(e,t){const n=t.path.lastSegment();return[e,qd(t.path.popLast()),n]}function pv(e,t,n,i){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ov(i.readTime),documentKey:qd(i.documentKey.path),largestBatchId:i.largestBatchId}}class gv{getBundleMetadata(e,t){return mv(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:av(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return mv(e).put({bundleId:(n=t).id,createTime:ov(Dm(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return vv(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:hv(t.bundledQuery),readTime:av(t.readTime)};var t}))}saveNamedQuery(e,t){return vv(e).put(function(e){return{name:e.name,readTime:ov(Dm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function mv(e){return yf(e,"bundles")}function vv(e){return yf(e,"namedQueries")}class yv{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new yv(e,n)}getOverlay(e,t){return bv(e).get(fv(this.userId,t)).next((e=>e?dv(this.serializer,e):null))}getOverlays(e,t){const n=dg();return Ed.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const i=[];return n.forEach(((n,r)=>{const s=new em(t,r);i.push(this.we(e,s))})),Ed.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach((e=>i.add(qd(e.getCollectionPath()))));const r=[];return i.forEach((t=>{const i=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);r.push(bv(e).J("collectionPathOverlayIndex",i))})),Ed.waitFor(r)}getOverlaysForCollection(e,t,n){const i=dg(),r=qd(t),s=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return bv(e).j("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=dv(this.serializer,t);i.set(e.getKey(),e)}return i}))}getOverlaysForCollectionGroup(e,t,n,i){const r=dg();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bv(e).X({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=dv(this.serializer,t);r.size()<i||o.largestBatchId===s?(r.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>r))}we(e,t){return bv(e).put(function(e,t,n){const[i,r,s]=fv(t,n.mutation.key);return{userId:t,collectionPath:r,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Bm(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function bv(e){return yf(e,"documentOverlays")}class wv{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Mf(e.integerValue));else if("doubleValue"in e){const n=Mf(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Ud(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Rf(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?np(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):qh()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const i of Object.keys(n))this.Te(i,t),this.me(n[i],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const i of n)this.me(i,t)}ve(e,t){this.ye(t,37),pd.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function xv(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function _v(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const i=xv(255&e[n]);if(t+=i,8!==i)break}return t}(e);return Math.ceil(t/8)}wv.Ve=new wv;class kv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=_v(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),n=_v(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let i=1;i<t.length;++i)t[i]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class Sv{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Iv{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Tv{constructor(){this.je=new kv,this.ze=new Sv(this.je),this.We=new Iv(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ev{constructor(e,t,n,i){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Ev(this.indexId,this.documentKey,this.arrayValue,n)}}function Cv(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Av(e.arrayValue,t.arrayValue),0!==n?n:(n=Av(e.directionalValue,t.directionalValue),0!==n?n:pd.comparator(e.documentKey,t.documentKey)))}function Av(e,t){for(let n=0;n<e.length&&n<t.length;++n){const i=e[n]-t[n];if(0!==i)return i}return e.length-t.length}class Nv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){Kh(e.collectionGroup===this.collectionId);const t=md(e);if(void 0!==t&&!this.en(t))return!1;const n=vd(e);let i=new Set,r=0,s=0;for(;r<n.length&&this.en(n[r]);++r)i=i.add(n[r].fieldPath.canonicalString());if(r===n.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const e=n[r];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[s++],e))return!1}++r}for(;r<n.length;++r){const e=n[r];if(s>=this.Ye.length||!this.sn(this.Ye[s++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Dv(e){var t,n;if(Kh(e instanceof mp||e instanceof vp),e instanceof mp){if(e instanceof Dp){const i=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>mp.create(e.field,"==",t))))||[];return vp.create(i,"or")}return e}const i=e.filters.map((e=>Dv(e)));return vp.create(i,e.op)}function Pv(e){if(0===e.getFilters().length)return[];const t=Lv(Dv(e));return Kh(Ov(t)),Mv(t)||Rv(t)?[t]:t.getFilters()}function Mv(e){return e instanceof mp}function Rv(e){return e instanceof vp&&wp(e)}function Ov(e){return Mv(e)||Rv(e)||function(e){if(e instanceof vp&&bp(e)){for(const t of e.getFilters())if(!Mv(t)&&!Rv(t))return!1;return!0}return!1}(e)}function Lv(e){if(Kh(e instanceof mp||e instanceof vp),e instanceof mp)return e;if(1===e.filters.length)return Lv(e.filters[0]);const t=e.filters.map((e=>Lv(e)));let n=vp.create(t,e.op);return n=Vv(n),Ov(n)?n:(Kh(n instanceof vp),Kh(yp(n)),Kh(n.filters.length>1),n.filters.reduce(((e,t)=>Fv(e,t))))}function Fv(e,t){let n;return Kh(e instanceof mp||e instanceof vp),Kh(t instanceof mp||t instanceof vp),n=e instanceof mp?t instanceof mp?function(e,t){return vp.create([e,t],"and")}(e,t):jv(e,t):t instanceof mp?jv(t,e):function(e,t){if(Kh(e.filters.length>0&&t.filters.length>0),yp(e)&&yp(t))return Sp(e,t.getFilters());const n=bp(e)?e:t,i=bp(e)?t:e,r=n.filters.map((e=>Fv(e,i)));return vp.create(r,"or")}(e,t),Vv(n)}function jv(e,t){if(yp(t))return Sp(t,e.getFilters());{const n=t.filters.map((t=>Fv(e,t)));return vp.create(n,"or")}}function Vv(e){if(Kh(e instanceof mp||e instanceof vp),e instanceof mp)return e;const t=e.getFilters();if(1===t.length)return Vv(t[0]);if(xp(e))return e;const n=t.map((e=>Vv(e))),i=[];return n.forEach((t=>{t instanceof mp?i.push(t):t instanceof vp&&(t.op===e.op?i.push(...t.filters):i.push(t))})),1===i.length?i[0]:vp.create(i,e.op)}class zv{constructor(){this.rn=new Uv}addToCollectionParentIndex(e,t){return this.rn.add(t),Ed.resolve()}getCollectionParents(e,t){return Ed.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ed.resolve()}deleteFieldIndex(e,t){return Ed.resolve()}getDocumentsMatchingTarget(e,t){return Ed.resolve(null)}getIndexType(e,t){return Ed.resolve(0)}getFieldIndexes(e,t){return Ed.resolve([])}getNextCollectionGroupToUpdate(e){return Ed.resolve(null)}getMinOffset(e,t){return Ed.resolve(_d.min())}getMinOffsetFromCollectionGroup(e,t){return Ed.resolve(_d.min())}updateCollectionGroup(e,t,n){return Ed.resolve()}updateIndexEntries(e,t){return Ed.resolve()}}class Uv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new If(hd.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new If(hd.comparator)).toArray()}}const Bv=new Uint8Array(0);class qv{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Uv,this.un=new og((e=>Lp(e)),((e,t)=>Fp(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const r={collectionId:n,parent:qd(i)};return Kv(e).put(r)}return Ed.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[ad(t),""],!1,!0);return Kv(e).j(i).next((e=>{for(const i of e){if(i.collectionId!==t)break;n.push(Hd(i.parent))}return n}))}addFieldIndex(e,t){const n=Hv(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete i.indexId;const r=n.add(i);if(t.indexState){const n=Gv(e);return r.next((e=>{n.put(pv(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return r.next()}deleteFieldIndex(e,t){const n=Hv(e),i=Gv(e),r=Wv(e);return n.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=Wv(e);let i=!0;const r=new Map;return Ed.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{i&&(i=!!e),r.set(t,e)})))).next((()=>{if(i){let e=vg();const i=[];return Ed.forEach(r,((r,s)=>{var o;Vh("IndexedDbIndexManager","Using index ".concat((o=r,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(",")))," to execute ").concat(Lp(t)));const a=function(e,t){const n=md(t);if(void 0===n)return null;for(const i of Vp(e,n.fieldPath))switch(i.op){case"array-contains-any":return i.value.arrayValue.values||[];case"array-contains":return[i.value]}return null}(s,r),l=function(e,t){const n=new Map;for(const i of vd(t))for(const t of Vp(e,i.fieldPath))switch(t.op){case"==":case"in":n.set(i.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(i.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,r),c=function(e,t){const n=[];let i=!0;for(const r of vd(t)){const t=0===r.kind?zp(e,r.fieldPath,e.startAt):Up(e,r.fieldPath,e.startAt);n.push(t.value),i&&(i=t.inclusive)}return new up(n,i)}(s,r),u=function(e,t){const n=[];let i=!0;for(const r of vd(t)){const t=0===r.kind?Up(e,r.fieldPath,e.endAt):zp(e,r.fieldPath,e.endAt);n.push(t.value),i&&(i=t.inclusive)}return new up(n,i)}(s,r),h=this.hn(r,s,c),d=this.hn(r,s,u),f=this.ln(r,s,l),p=this.fn(r.indexId,a,h,c.inclusive,d,u.inclusive,f);return Ed.forEach(p,(r=>n.H(r,t.limit).next((t=>{t.forEach((t=>{const n=pd.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),i.push(n))}))}))))})).next((()=>i))}return Ed.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Pv(vp.create(e.filters,"and")).map((t=>Op(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,i,r,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,r.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.dn(t[u/l]):Bv,h=this.wn(e,a,n[u%l],i),d=this._n(e,a,r[u%l],s),f=o.map((t=>this.wn(e,a,t,!0)));c.push(...this.createRange(h,d,f))}return c}wn(e,t,n,i){const r=new Ev(e,pd.empty(),t,n);return i?r:r.Je()}_n(e,t,n,i){const r=new Ev(e,pd.empty(),t,n);return i?r.Je():r}an(e,t){const n=new Nv(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((e=>{let t=null;for(const i of e)n.tn(i)&&(!t||i.fields.length>t.fields.length)&&(t=i);return t}))}getIndexType(e,t){let n=2;const i=this.cn(t);return Ed.forEach(i,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new If(fd.comparator),n=!1;for(const i of e.filters)for(const e of i.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const i of e.orderBy)i.field.isKeyField()||(t=t.add(i.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&i.length>1&&2===n?1:n))}mn(e,t){const n=new Tv;for(const i of vd(e)){const e=t.data.field(i.fieldPath);if(null==e)return null;const r=n.He(i.kind);wv.Ve._e(e,r)}return n.Qe()}dn(e){const t=new Tv;return wv.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new Tv;return wv.Ve._e(Yf(this.databaseId,t),n.He(function(e){const t=vd(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let i=[];i.push(new Tv);let r=0;for(const s of vd(e)){const e=n[r++];for(const n of i)if(this.yn(t,s.fieldPath)&&Jf(e))i=this.pn(i,s,e);else{const t=n.He(s.kind);wv.Ve._e(e,t)}}return this.In(i)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const i=[...e],r=[];for(const s of n.arrayValue.values||[])for(const e of i){const n=new Tv;n.seed(e.Qe()),wv.Ve._e(s,n.He(t.kind)),r.push(n)}return r}yn(e,t){return!!e.filters.find((e=>e instanceof mp&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Hv(e),i=Gv(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return Ed.forEach(e,(e=>i.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new bd(t.sequenceNumber,new _d(av(t.readTime),new pd(Hd(t.documentKey)),t.largestBatchId)):bd.empty(),i=e.fields.map((e=>{let[t,n]=e;return new yd(fd.fromServerFormat(t),n)}));return new gd(e.indexId,e.collectionGroup,i,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:sd(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const i=Hv(e),r=Gv(e);return this.Tn(e).next((e=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Ed.forEach(t,(t=>r.put(pv(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Ed.forEach(t,((t,i)=>{const r=n.get(t.collectionGroup);return(r?Ed.resolve(r):this.getFieldIndexes(e,t.collectionGroup)).next((r=>(n.set(t.collectionGroup,r),Ed.forEach(r,(n=>this.En(e,t,n).next((t=>{const r=this.An(i,n);return t.isEqual(r)?Ed.resolve():this.vn(e,i,n,t,r)})))))))}))}Rn(e,t,n,i){return Wv(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,i){return Wv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const i=Wv(e);let r=new If(Cv);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,i)=>{r=r.add(new Ev(n.indexId,t,i.arrayValue,i.directionalValue))})).next((()=>r))}An(e,t){let n=new If(Cv);const i=this.mn(t,e);if(null==i)return n;const r=md(t);if(null!=r){const s=e.data.field(r.fieldPath);if(Jf(s))for(const r of s.arrayValue.values||[])n=n.add(new Ev(t.indexId,e.key,this.dn(r),i))}else n=n.add(new Ev(t.indexId,e.key,Bv,i));return n}vn(e,t,n,i,r){Vh("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,i,r){const s=e.getIterator(),o=t.getIterator();let a=Ef(s),l=Ef(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const i=n(a,l);i<0?t=!0:i>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(i(l),l=Ef(o)):t?(r(a),a=Ef(s)):(a=Ef(s),l=Ef(o))}}(i,r,Cv,(i=>{s.push(this.Rn(e,t,n,i))}),(i=>{s.push(this.Pn(e,t,n,i))})),Ed.waitFor(s)}Tn(e){let t=1;return Gv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,i)=>{i.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Cv(e,t))).filter(((e,t,n)=>!t||0!==Cv(e,n[t-1])));const i=[];i.push(e);for(const s of n){const n=Cv(s,e),r=Cv(s,t);if(0===n)i[0]=e.Je();else if(n>0&&r<0)i.push(s),i.push(s.Je());else if(r>0)break}i.push(t);const r=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];const e=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Bv,[]],t=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Bv,[]];r.push(IDBKeyRange.bound(e,t))}return r}bn(e,t){return Cv(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Xv)}getMinOffset(e,t){return Ed.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||qh())))).next(Xv)}}function Kv(e){return yf(e,"collectionParents")}function Wv(e){return yf(e,"indexEntries")}function Hv(e){return yf(e,"indexConfiguration")}function Gv(e){return yf(e,"indexState")}function Xv(e){Kh(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let i=1;i<e.length;i++){const r=e[i].indexState.offset;kd(r,t)<0&&(t=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new _d(t.readTime,t.documentKey,n)}const Yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qv{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Qv(e,Qv.DEFAULT_COLLECTION_PERCENTILE,Qv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jv(e,t,n){const i=e.store("mutations"),r=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=i.X({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{Kh(1===a)})));const c=[];for(const u of n.mutations){const e=Yd(t,u.key.path,n.batchId);s.push(r.delete(e)),c.push(u.key)}return Ed.waitFor(s).next((()=>c))}function Zv(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qh();t=e.noDocument}return JSON.stringify(t).length}Qv.DEFAULT_COLLECTION_PERCENTILE=10,Qv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qv.DEFAULT=new Qv(41943040,Qv.DEFAULT_COLLECTION_PERCENTILE,Qv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qv.DISABLED=new Qv(-1,0,0);class $v{constructor(e,t,n,i){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=i,this.Vn={}}static de(e,t,n,i){Kh(""!==e.uid);const r=e.isAuthenticated()?e.uid:"";return new $v(r,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ty(e).X({index:"userMutationsIndex",range:n},((e,n,i)=>{t=!1,i.done()})).next((()=>t))}addMutationBatch(e,t,n,i){const r=ny(e),s=ty(e);return s.add({}).next((o=>{Kh("number"==typeof o);const a=new Zg(o,t,n,i),l=function(e,t,n){const i=n.baseMutations.map((t=>Bm(e.fe,t))),r=n.mutations.map((t=>Bm(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:r}}(this.serializer,this.userId,a),c=[];let u=new If(((e,t)=>sd(e.canonicalString(),t.canonicalString())));for(const e of i){const t=Yd(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(r.put(t,Qd))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[o]=a.keys()})),Ed.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return ty(e).get(t).next((e=>e?(Kh(e.userId===this.userId),lv(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?Ed.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return ty(e).X({index:"userMutationsIndex",range:i},((e,t,i)=>{t.userId===this.userId&&(Kh(t.batchId>=n),r=lv(this.serializer,t)),i.done()})).next((()=>r))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ty(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,i)=>{n=t.batchId,i.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ty(e).j("userMutationsIndex",t).next((e=>e.map((e=>lv(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Xd(this.userId,t.path),i=IDBKeyRange.lowerBound(n),r=[];return ny(e).X({range:i},((n,i,s)=>{const[o,a,l]=n,c=Hd(a);if(o===this.userId&&t.path.isEqual(c))return ty(e).get(l).next((e=>{if(!e)throw qh();Kh(e.userId===this.userId),r.push(lv(this.serializer,e))}));s.done()})).next((()=>r))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new If(sd);const i=[];return t.forEach((t=>{const r=Xd(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=ny(e).X({range:s},((e,i,r)=>{const[s,o,a]=e,l=Hd(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):r.done()}));i.push(o)})),Ed.waitFor(i).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,r=Xd(this.userId,n),s=IDBKeyRange.lowerBound(r);let o=new If(sd);return ny(e).X({range:s},((e,t,r)=>{const[s,a,l]=e,c=Hd(a);s===this.userId&&n.isPrefixOf(c)?c.length===i&&(o=o.add(l)):r.done()})).next((()=>this.Dn(e,o)))}Dn(e,t){const n=[],i=[];return t.forEach((t=>{i.push(ty(e).get(t).next((e=>{if(null===e)throw qh();Kh(e.userId===this.userId),n.push(lv(this.serializer,e))})))})),Ed.waitFor(i).next((()=>n))}removeMutationBatch(e,t){return Jv(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),Ed.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Ed.resolve();const n=IDBKeyRange.lowerBound([this.userId]),i=[];return ny(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Hd(e[1]);i.push(t)}else n.done()})).next((()=>{Kh(0===i.length)}))}))}containsKey(e,t){return ey(e,this.userId,t)}xn(e){return iy(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function ey(e,t,n){const i=Xd(t,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return ny(e).X({range:s,Y:!0},((e,n,i)=>{const[s,a,l]=e;s===t&&a===r&&(o=!0),i.done()})).next((()=>o))}function ty(e){return yf(e,"mutations")}function ny(e){return yf(e,"documentMutations")}function iy(e){return yf(e,"mutationQueues")}class ry{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ry(0)}static Mn(){return new ry(-1)}}class sy{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new ry(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>cd.fromTimestamp(new ld(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>oy(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(Kh(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let i=0;const r=[];return oy(e).X(((s,o)=>{const a=cv(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(i++,r.push(this.removeTargetData(e,a)))})).next((()=>Ed.waitFor(r))).next((()=>i))}forEachTarget(e,t){return oy(e).X(((e,n)=>{const i=cv(n);t(i)}))}$n(e){return ay(e).get("targetGlobalKey").next((e=>(Kh(null!==e),e)))}On(e,t){return ay(e).put("targetGlobalKey",t)}Fn(e,t){return oy(e).put(uv(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Lp(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return oy(e).X({range:i,index:"queryTargetsIndex"},((e,n,i)=>{const s=cv(n);Fp(t,s.target)&&(r=s,i.done())})).next((()=>r))}addMatchingKeys(e,t,n){const i=[],r=ly(e);return t.forEach((t=>{const s=qd(t.path);i.push(r.put({targetId:n,path:s})),i.push(this.referenceDelegate.addReference(e,n,t))})),Ed.waitFor(i)}removeMatchingKeys(e,t,n){const i=ly(e);return Ed.forEach(t,(t=>{const r=qd(t.path);return Ed.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=ly(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=ly(e);let r=vg();return i.X({range:n,Y:!0},((e,t,n)=>{const i=Hd(e[1]),s=new pd(i);r=r.add(s)})).next((()=>r))}containsKey(e,t){const n=qd(t.path),i=IDBKeyRange.bound([n],[ad(n)],!1,!0);let r=0;return ly(e).X({index:"documentTargetsIndex",Y:!0,range:i},((e,t,n)=>{let[i,s]=e;0!==i&&(r++,n.done())})).next((()=>r>0))}le(e,t){return oy(e).get(t).next((e=>e?cv(e):null))}}function oy(e){return yf(e,"targets")}function ay(e){return yf(e,"targetGlobal")}function ly(e){return yf(e,"targetDocuments")}function cy(e,t){let[n,i]=e,[r,s]=t;const o=sd(n,r);return 0===o?sd(i,s):o}class uy{constructor(e){this.Ln=e,this.buffer=new If(cy),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();cy(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hy{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){Vh("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Pd(e)?Vh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Td(e)}await this.Qn(3e5)}))}}class dy{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ed.resolve(Vd.ct);const n=new uy(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Vh("LruGarbageCollector","Garbage collection skipped; disabled"),Ed.resolve(Yv)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Vh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Yv):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,i,r,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Vh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),i=this.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),this.nthSequenceNumber(e,i)))).next((i=>(n=i,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(r=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),jh()<=st.DEBUG&&Vh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(i," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(r," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Ed.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e}))))}}function fy(e,t){return new dy(e,t)}class py{constructor(e,t){this.db=e,this.garbageCollector=fy(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return gy(e,n)}removeReference(e,t,n){return gy(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return gy(e,t)}Xn(e,t){return function(e,t){let n=!1;return iy(e).Z((i=>ey(e,i,t).next((e=>(e&&(n=!0),Ed.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Yn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return r++,n.getEntry(e,s).next((()=>(n.removeEntry(s,cd.min()),ly(e).delete([0,qd(s.path)]))))}));i.push(t)}})).next((()=>Ed.waitFor(i))).next((()=>n.apply(e))).next((()=>r))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return gy(e,t)}Yn(e,t){const n=ly(e);let i,r=Vd.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(r!==Vd.ct&&t(new pd(Hd(i)),r),r=l,i=a):r=Vd.ct})).next((()=>{r!==Vd.ct&&t(new pd(Hd(i)),r)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gy(e,t){return ly(e).put(function(e,t){return{targetId:0,path:qd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class my{constructor(){this.changes=new og((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cp.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ed.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return xy(e).put(n)}removeEntry(e,t,n){return xy(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],sv(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=cp.newInvalidDocument(t);return xy(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(_y(t))},((e,i)=>{n=this.ts(t,i)})).next((()=>n))}es(e,t){let n={size:0,document:cp.newInvalidDocument(t)};return xy(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(_y(t))},((e,i)=>{n={document:this.ts(t,i),size:Zv(i)}})).next((()=>n))}getEntries(e,t){let n=lg();return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i)})).next((()=>n))}ss(e,t){let n=lg(),i=new _f(pd.comparator);return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r),i=i.insert(e,Zv(t))})).next((()=>({documents:n,rs:i})))}ns(e,t,n){if(t.isEmpty())return Ed.resolve();let i=new If(Sy);t.forEach((e=>i=i.add(e)));const r=IDBKeyRange.bound(_y(i.first()),_y(i.last())),s=i.getIterator();let o=s.getNext();return xy(e).X({index:"documentKeyIndex",range:r},((e,t,i)=>{const r=pd.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Sy(o,r)<0;)n(o,null),o=s.getNext();o&&o.isEqual(r)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?i.G(_y(o)):i.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,i){const r=t.path,s=[r.popLast().toArray(),r.lastSegment(),sv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xy(e).j(IDBKeyRange.bound(s,o,!0)).next((e=>{let n=lg();for(const r of e){const e=this.ts(pd.fromSegments(r.prefixPath.concat(r.collectionGroup,r.documentId)),r);e.isFoundDocument()&&(ng(t,e)||i.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,i){let r=lg();const s=ky(t,n),o=ky(t,_d.max());return xy(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.ts(pd.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);r=r.insert(s.key,s),r.size===i&&n.done()})).next((()=>r))}newChangeBuffer(e){return new by(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return wy(e).get("remoteDocumentGlobalKey").next((e=>(Kh(!!e),e)))}Zn(e,t){return wy(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Um(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=pd.fromSegments(t.noDocument.path),i=av(t.noDocument.readTime);n=cp.newNoDocument(e,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return qh();{const e=pd.fromSegments(t.unknownDocument.path),i=av(t.unknownDocument.version);n=cp.newUnknownDocument(e,i)}}return t.readTime&&n.setReadTime(function(e){const t=new ld(e[0],e[1]);return cd.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(cd.min()))return e}return cp.newInvalidDocument(e)}}function yy(e){return new vy(e)}class by extends my{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new og((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,i=new If(((e,t)=>sd(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((r,s)=>{const o=this.us.get(r);if(t.push(this.os.removeEntry(e,r,o.readTime)),s.isValidDocument()){const a=rv(this.os.serializer,s);i=i.add(r.path.popLast());const l=Zv(a);n+=l-o.size,t.push(this.os.addEntry(e,r,a))}else if(n-=o.size,this.trackRemovals){const n=rv(this.os.serializer,s.convertToNoDocument(cd.min()));t.push(this.os.addEntry(e,r,n))}})),i.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),Ed.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function wy(e){return yf(e,"remoteDocumentGlobal")}function xy(e){return yf(e,"remoteDocumentsV14")}function _y(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ky(e,t){const n=t.documentKey.path.toArray();return[e,sv(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Sy(e,t){const n=e.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<n.length-2&&s<i.length-2;++s)if(r=sd(n[s],i[s]),r)return r;return r=sd(n.length,i.length),r||(r=sd(n[n.length-2],i[i.length-2]),r||sd(n[n.length-1],i[i.length-1]))}class Iy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ty{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Bg(n.mutation,e,Cf.empty(),ld.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,vg()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vg();const i=dg();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((e=>{let t=ug();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=dg();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,vg())))}populateOverlays(e,t,n){const i=[];return n.forEach((e=>{t.has(e)||i.push(e)})),this.documentOverlayCache.getOverlays(e,i).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,i){let r=lg();const s=pg(),o=pg();return t.forEach(((e,t)=>{const o=n.get(t.key);i.has(t.key)&&(void 0===o||o.mutation instanceof Hg)?r=r.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Bg(o.mutation,t,o.mutation.getFieldMask(),ld.now())):s.set(t.key,Cf.empty())})),this.recalculateAndSaveOverlays(e,r).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Iy(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=pg();let i=new _f(((e,t)=>e-t)),r=vg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const r of e)r.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Cf.empty();o=r.applyToLocalView(s,o),n.set(e,o);const a=(i.get(r.batchId)||vg()).add(e);i=i.insert(r.batchId,a)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,c=fg();l.forEach((e=>{if(!r.has(e)){const i=zg(t.get(e),n.get(e));null!==i&&c.set(e,i),r=r.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Ed.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return pd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-r.size):Ed.resolve(dg());let o=-1,a=r;return s.next((t=>Ed.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(t)?Ed.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,r))).next((()=>this.computeViews(e,a,t,vg()))).next((e=>({batchId:o,changes:hg(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pd(t)).next((e=>{let t=ug();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const i=t.collectionGroup;let r=ug();return this.indexManager.getCollectionParents(e,i).next((s=>Ed.forEach(s,(s=>{const o=function(e,t){return new Bp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{r=r.insert(e,t)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(e,t,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i)))).next((e=>{i.forEach(((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,cp.newInvalidDocument(i)))}));let n=ug();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Bg(s.mutation,r,Cf.empty(),ld.now()),ng(t,r)&&(n=n.insert(e,r))})),n}))}}class Ey{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ed.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Dm(n.createTime)}),Ed.resolve()}getNamedQuery(e,t){return Ed.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:hv(e.bundledQuery),readTime:Dm(e.readTime)}}(t)),Ed.resolve()}}class Cy{constructor(){this.overlays=new _f(pd.comparator),this.ls=new Map}getOverlay(e,t){return Ed.resolve(this.overlays.get(t))}getOverlays(e,t){const n=dg();return Ed.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,i)=>{this.we(e,t,i)})),Ed.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.ls.get(n);return void 0!==i&&(i.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Ed.resolve()}getOverlaysForCollection(e,t,n){const i=dg(),r=t.length+1,s=new pd(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return Ed.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new _f(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=dg(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=dg(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=i)););return Ed.resolve(o)}we(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.ls.get(i.largestBatchId).delete(n.key);this.ls.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new em(t,n));let r=this.ls.get(t);void 0===r&&(r=vg(),this.ls.set(t,r)),this.ls.set(t,r.add(n.key))}}class Ay{constructor(){this.fs=new If(Ny.ds),this.ws=new If(Ny._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Ny(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Ny(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new pd(new hd([])),n=new Ny(t,e),i=new Ny(t,e+1),r=[];return this.ws.forEachInRange([n,i],(e=>{this.ys(e),r.push(e.key)})),r}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new pd(new hd([])),n=new Ny(t,e),i=new Ny(t,e+1);let r=vg();return this.ws.forEachInRange([n,i],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new Ny(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ny{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return pd.comparator(e.key,t.key)||sd(e.As,t.As)}static _s(e,t){return sd(e.As,t.As)||pd.comparator(e.key,t.key)}}class Dy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new If(Ny.ds)}checkEmpty(e){return Ed.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const r=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Zg(r,t,n,i);this.mutationQueue.push(s);for(const o of i)this.Rs=this.Rs.add(new Ny(o.key,r)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ed.resolve(s)}lookupMutationBatch(e,t){return Ed.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.bs(n),r=i<0?0:i;return Ed.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Ed.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ed.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ny(t,0),i=new Ny(t,Number.POSITIVE_INFINITY),r=[];return this.Rs.forEachInRange([n,i],(e=>{const t=this.Ps(e.As);r.push(t)})),Ed.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new If(sd);return t.forEach((e=>{const t=new Ny(e,0),i=new Ny(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,i],(e=>{n=n.add(e.As)}))})),Ed.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;pd.isDocumentKey(r)||(r=r.child(""));const s=new Ny(new pd(r),0);let o=new If(sd);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(o=o.add(e.As)),!0)}),s),Ed.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Kh(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Ed.forEach(t.mutations,(i=>{const r=new Ny(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Ny(t,0),i=this.Rs.firstAfterOrEqual(n);return Ed.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ed.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Py{constructor(e){this.Ds=e,this.docs=new _f(pd.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ed.resolve(n?n.document.mutableCopy():cp.newInvalidDocument(t))}getEntries(e,t){let n=lg();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():cp.newInvalidDocument(e))})),Ed.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let r=lg();const s=t.path,o=new pd(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||kd(xd(o),n)<=0||(i.has(o.key)||ng(t,o))&&(r=r.insert(o.key,o.mutableCopy()))}return Ed.resolve(r)}getAllFromCollectionGroup(e,t,n,i){qh()}Cs(e,t){return Ed.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new My(this)}getSize(e){return Ed.resolve(this.size)}}class My extends my{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(n)})),Ed.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ry{constructor(e){this.persistence=e,this.xs=new og((e=>Lp(e)),Fp),this.lastRemoteSnapshotVersion=cd.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ay,this.targetCount=0,this.Ms=ry.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Ed.resolve()}getLastRemoteSnapshotVersion(e){return Ed.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ed.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ed.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Ed.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ry(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ed.resolve()}updateTargetData(e,t){return this.Fn(t),Ed.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ed.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.xs.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),Ed.waitFor(r).next((()=>i))}getTargetCount(e){return Ed.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Ed.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Ed.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((t=>{r.push(i.markPotentiallyOrphaned(e,t))})),Ed.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ed.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Ed.resolve(n)}containsKey(e,t){return Ed.resolve(this.ks.containsKey(t))}}class Oy{constructor(e,t){this.$s={},this.overlays={},this.Os=new Vd(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ry(this),this.indexManager=new zv,this.remoteDocumentCache=function(e){return new Py(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new iv(t),this.qs=new Ey(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Cy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Dy(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Vh("MemoryPersistence","Starting transaction:",e);const i=new Ly(this.Os.next());return this.referenceDelegate.Us(),n(i).next((e=>this.referenceDelegate.Ks(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}Gs(e,t){return Ed.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Ly extends Id{constructor(e){super(),this.currentSequenceNumber=e}}class Fy{constructor(e){this.persistence=e,this.Qs=new Ay,this.js=null}static zs(e){return new Fy(e)}get Ws(){if(this.js)return this.js;throw qh()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Ed.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Ed.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ed.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ed.forEach(this.Ws,(n=>{const i=pd.fromPath(n);return this.Hs(e,i).next((e=>{e||t.removeEntry(i,cd.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Ed.or([()=>Ed.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class jy{constructor(e){this.serializer=e}O(e,t,n,i){const r=new Cd("createOrUpgrade",t);n<1&&i>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gd,{unique:!0}),e.createObjectStore("documentMutations")}(e),Vy(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Ed.resolve();return n<3&&i>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Vy(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cd.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(r)))),n<4&&i>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gd,{unique:!0});const i=t.store("mutations"),r=n.map((e=>i.put(e)));return Ed.waitFor(r)}))}(e,r)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&i>=5&&(s=s.next((()=>this.Ys(r)))),n<6&&i>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(r))))),n<7&&i>=7&&(s=s.next((()=>this.Zs(r)))),n<8&&i>=8&&(s=s.next((()=>this.ti(e,r)))),n<9&&i>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&i>=10&&(s=s.next((()=>this.ei(r)))),n<11&&i>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&i>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:cf});t.createIndex("collectionPathOverlayIndex",uf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",hf,{unique:!1})}(e)}))),n<13&&i>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Jd});t.createIndex("documentKeyIndex",Zd),t.createIndex("collectionGroupIndex",$d)}(e))).next((()=>this.ni(e,r))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(s=s.next((()=>this.si(e,r)))),n<15&&i>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:sf}).createIndex("sequenceNumberIndex",of,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:af}).createIndex("documentKeyIndex",lf,{unique:!1})}(e)))),s}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=Zv(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>Ed.forEach(t,(t=>{const i=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",i).next((n=>Ed.forEach(n,(n=>{Kh(n.userId===t.userId);const i=lv(this.serializer,n);return Jv(e,t.userId,i).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const i=[];return n.X(((n,r)=>{const s=new hd(n),o=function(e){return[0,qd(e)]}(s);i.push(t.get(o).next((n=>n?Ed.resolve():(n=>t.put({targetId:0,path:qd(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Ed.waitFor(i)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:rf});const n=t.store("collectionParents"),i=new Uv,r=e=>{if(i.add(e)){const t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:qd(i)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new hd(e);return r(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,i,s]=e;const o=Hd(i);return r(o.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const i=cv(n),r=uv(this.serializer,i);return t.put(r)}))}ni(e,t){const n=t.store("remoteDocuments"),i=[];return n.X(((e,n)=>{const r=t.store("remoteDocumentsV14"),s=(o=n,o.document?new pd(hd.fromString(o.document.name).popFirst(5)):o.noDocument?pd.fromSegments(o.noDocument.path):o.unknownDocument?pd.fromSegments(o.unknownDocument.path):qh()).path.toArray();var o;const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};i.push(r.put(a))})).next((()=>Ed.waitFor(i)))}si(e,t){const n=t.store("mutations"),i=yy(this.serializer),r=new Oy(Fy.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let i=null!==(t=n.get(e.userId))&&void 0!==t?t:vg();lv(this.serializer,e).keys().forEach((e=>i=i.add(e))),n.set(e.userId,i)})),Ed.forEach(n,((e,n)=>{const s=new Oh(n),o=yv.de(this.serializer,s),a=r.getIndexManager(s),l=$v.de(s,this.serializer,a,r.referenceDelegate);return new Ty(i,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new vf(t,Vd.ct),e).next()}))}))}}function Vy(e){e.createObjectStore("targetDocuments",{keyPath:tf}).createIndex("documentTargetsIndex",nf,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ef,{unique:!0}),e.createObjectStore("targetGlobal")}const zy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Uy{constructor(e,t,n,i,r,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=r,this.window=s,this.document=o,this.ri=l,this.oi=c,this.ui=u,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!Uy.D())throw new Gh(Hh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new py(this,i),this.di=t+"main",this.serializer=new iv(a),this.wi=new Ad(this.di,this.ui,new jy(this.serializer)),this.Bs=new sy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yy(this.serializer),this.qs=new gv,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===c&&zh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Gh(Hh.FAILED_PRECONDITION,zy);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new Vd(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>qy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(Pd(e))return Vh("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return By(e).get("owner").next((e=>Ed.resolve(this.Ri(e))))}Pi(e){return qy(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=yf(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),i=e.filter((e=>-1===n.indexOf(e)));return Ed.forEach(i,(e=>t.delete(e.clientId))).next((()=>i))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ed.resolve(!0):By(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Gh(Hh.FAILED_PRECONDITION,zy);return!1}}return!(!this.networkEnabled||!this.inForeground)||qy(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,i=this.networkEnabled===e.networkEnabled;if(t||n&&i)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Vh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new vf(e,Vd.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>qy(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return $v.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qv(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return yv.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){Vh("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",r=15===(s=this.ui)?mf:14===s?gf:13===s?pf:12===s?ff:11===s?df:void qh();var s;let o;return this.wi.runTransaction(e,i,r,(i=>(o=new vf(i,this.Os?this.Os.next():Vd.ct),"readwrite-primary"===t?this.Ti(o).next((e=>!!e||this.Ei(o))).next((t=>{if(!t)throw zh("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new Gh(Hh.FAILED_PRECONDITION,Sd);return n(o)})).next((e=>this.vi(o).next((()=>e)))):this.Oi(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Oi(e){return By(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Gh(Hh.FAILED_PRECONDITION,zy)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return By(e).put("owner",t)}static D(){return Ad.D()}Ai(e){const t=By(e);return t.get("owner").next((e=>this.Ri(e)?(Vh("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ed.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(zh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!Le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Vh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return zh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){zh("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function By(e){return yf(e,"owner")}function qy(e){return yf(e,"clientMetadata")}function Ky(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Wy{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=i}static Li(e,t){let n=vg(),i=vg();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Wy(e,t.fromCache,n,i)}}class Hy{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,i){return this.Ki(e,t).next((r=>r||this.Gi(e,t,i,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Wp(t))return Ed.resolve(null);let n=Qp(t);return this.indexManager.getIndexType(e,n).next((i=>0===i?null:(null!==t.limit&&1===i&&(t=Zp(t,null,"F"),n=Qp(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const r=vg(...i);return this.Ui.getDocuments(e,r).next((i=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,i);return this.zi(t,s,r,n.readTime)?this.Ki(e,Zp(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,i){return Wp(t)||i.isEqual(cd.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((r=>{const s=this.ji(t,r);return this.zi(t,s,n,i)?this.Qi(e,t):(jh()<=st.DEBUG&&Vh("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tg(t)),this.Wi(e,s,t,wd(i,-1)))}))}ji(e,t){let n=new If(rg(e));return t.forEach(((t,i)=>{ng(e,i)&&(n=n.add(i))})),n}zi(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Qi(e,t){return jh()<=st.DEBUG&&Vh("QueryEngine","Using full collection scan to execute query:",tg(t)),this.Ui.getDocumentsMatchingQuery(e,t,_d.min())}Wi(e,t,n,i){return this.Ui.getDocumentsMatchingQuery(e,n,i).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Gy{constructor(e,t,n,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new _f(sd),this.Yi=new og((e=>Lp(e)),Fp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ty(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Xy(e,t,n,i){return new Gy(e,t,n,i)}async function Yy(e,t){const n=Wh(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next((r=>(i=r,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const r=[],s=[];let o=vg();for(const e of i){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({er:e,removedBatchIds:r,addedBatchIds:s})))}))}))}function Qy(e){const t=Wh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function Jy(e,t,n){let i=vg(),r=vg();return n.forEach((e=>i=i.add(e))),t.getEntries(e,i).next((e=>{let i=lg();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(cd.min())?(t.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),i=i.insert(n,s)):Vh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{nr:i,sr:r}}))}function Zy(e,t){const n=Wh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function $y(e,t){const n=Wh(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let i;return n.Bs.getTargetData(e,t).next((r=>r?(i=r,Ed.resolve(i)):n.Bs.allocateTargetId(e).next((r=>(i=new nv(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,i).next((()=>i)))))))})).then((e=>{const i=n.Ji.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function eb(e,t,n){const i=Wh(e),r=i.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!Pd(e))throw e;Vh("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}function tb(e,t,n){const i=Wh(e);let r=cd.min(),s=vg();return i.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const i=Wh(e),r=i.Yi.get(n);return void 0!==r?Ed.resolve(i.Ji.get(r)):i.Bs.getTargetData(t,n)}(i,e,Qp(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>i.Hi.getDocumentsMatchingQuery(e,t,n?r:cd.min(),n?s:vg()))).next((e=>(rb(i,ig(t),e),{documents:e,ir:s})))))}function nb(e,t){const n=Wh(e),i=Wh(n.Bs),r=n.Ji.get(t);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",(e=>i.le(e,t).next((e=>e?e.target:null))))}function ib(e,t){const n=Wh(e),i=n.Xi.get(t)||cd.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,wd(i,-1),Number.MAX_SAFE_INTEGER))).then((e=>(rb(n,t,e),e)))}function rb(e,t,n){let i=e.Xi.get(t)||cd.min();n.forEach(((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)})),e.Xi.set(t,i)}async function sb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vg();const i=await $y(e,Qp(hv(t.bundledQuery))),r=Wh(e);return r.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Dm(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.qs.saveNamedQuery(e,t);const o=i.withResumeToken(Nf.EMPTY_BYTE_STRING,s);return r.Ji=r.Ji.insert(o.targetId,o),r.Bs.updateTargetData(e,o).next((()=>r.Bs.removeMatchingKeysForTargetId(e,i.targetId))).next((()=>r.Bs.addMatchingKeys(e,n,i.targetId))).next((()=>r.qs.saveNamedQuery(e,t)))}))}function ob(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ab(e,t,n){let i="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(i+="_".concat(t.uid)),i}function lb(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class cb{constructor(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i}static ar(e,t,n){const i=JSON.parse(n);let r,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Gh(i.error.code,i.error.message))),s?new cb(e,t,i.state,r):(zh("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ub{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let i,r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code,r&&(i=new Gh(n.error.code,n.error.message))),r?new ub(e,n.state,i):(zh("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let i="object"==typeof n&&n.activeTargetIds instanceof Array,r=bg();for(let s=0;i&&s<n.activeTargetIds.length;++s)i=Bd(n.activeTargetIds[s]),r=r.add(n.activeTargetIds[s]);return i?new hb(e,r):(zh("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class db{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new db(t.clientId,t.onlineState):(zh("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class fb{constructor(){this.activeTargetIds=bg()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pb{constructor(e,t,n,i,r){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new _f(sd),this.started=!1,this.yr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.pr=ob(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new fb),this.Tr=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const e=this.getItem(ob(this.persistenceKey,n));if(e){const t=hb.ar(n,e);t&&(this.gr=this.gr.insert(t.clientId,t))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(lb(this.persistenceKey,e));if(n){const i=ub.ar(e,n);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(lb(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Vh("SharedClientState","READ",e,t),t}setItem(e,t){Vh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Vh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(Vh("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void zh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=Vd.ct;if(null!=e)try{const n=JSON.parse(e);Kh("number"==typeof n),t=n}catch(e){zh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Vd.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const i=new cb(this.currentUser,e,t,n),r=ab(this.persistenceKey,this.currentUser,e);this.setItem(r,i.hr())}Cr(e){const t=ab(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const i=lb(this.persistenceKey,e),r=new ub(e,t,n);this.setItem(i,r.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return hb.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return cb.ar(new Oh(r),i,t)}Ur(e,t){const n=this.Ar.exec(e),i=Number(n[1]);return ub.ar(i,t)}br(e){return db.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);Vh("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),r=this.Sr(n),s=[],o=[];return r.forEach((e=>{i.has(e)||s.push(e)})),i.forEach((e=>{r.has(e)||o.push(e)})),this.syncEngine.Wr(s,o).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=bg();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class gb{constructor(){this.Hr=new fb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new fb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mb{Yr(e){}shutdown(){}}class vb{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Vh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Vh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yb=null;function bb(){return null===yb?yb=268435456+Math.round(2147483648*Math.random()):yb++,"0x"+yb.toString(16)}const wb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xb{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const _b="WebChannelConnection";class kb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,i,r){const s=bb(),o=this.To(e,t);Vh("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={};return this.Eo(a,i,r),this.Ao(e,o,a,n).then((t=>(Vh("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Uh("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,i,r,s){return this.Io(e,t,n,i,r)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=wb[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,i){const r=bb();return new Promise(((s,o)=>{const a=new Dh;a.setWithCredentials(!0),a.listenOnce(Th.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Ih.NO_ERROR:const t=a.getResponseJson();Vh(_b,"XHR for RPC '".concat(e,"' ").concat(r," received:"),JSON.stringify(t)),s(t);break;case Ih.TIMEOUT:Vh(_b,"RPC '".concat(e,"' ").concat(r," timed out")),o(new Gh(Hh.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const n=a.getStatus();if(Vh(_b,"RPC '".concat(e,"' ").concat(r," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Hh).indexOf(t)>=0?t:Hh.UNKNOWN}(t.status);o(new Gh(e,t.message))}else o(new Gh(Hh.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Gh(Hh.UNAVAILABLE,"Connection failed."));break;default:qh()}}finally{Vh(_b,"RPC '".concat(e,"' ").concat(r," completed."))}}));const l=JSON.stringify(i);Vh(_b,"RPC '".concat(e,"' ").concat(r," sending request:"),i),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const i=bb(),r=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kh(),o=Sh(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Ah({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=r.join("");Vh(_b,"Creating RPC '".concat(e,"' stream ").concat(i,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new xb({ro:t=>{d?Vh(_b,"Not sending because RPC '".concat(e,"' stream ").concat(i," is closed:"),t):(h||(Vh(_b,"Opening RPC '".concat(e,"' stream ").concat(i," transport.")),u.open(),h=!0),Vh(_b,"RPC '".concat(e,"' stream ").concat(i," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Nh.EventType.OPEN,(()=>{d||Vh(_b,"RPC '".concat(e,"' stream ").concat(i," transport opened."))})),p(u,Nh.EventType.CLOSE,(()=>{d||(d=!0,Vh(_b,"RPC '".concat(e,"' stream ").concat(i," transport closed")),f.wo())})),p(u,Nh.EventType.ERROR,(t=>{d||(d=!0,Uh(_b,"RPC '".concat(e,"' stream ").concat(i," transport errored:"),t),f.wo(new Gh(Hh.UNAVAILABLE,"The operation could not be completed")))})),p(u,Nh.EventType.MESSAGE,(t=>{var n;if(!d){const r=t.data[0];Kh(!!r);const s=r,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Vh(_b,"RPC '".concat(e,"' stream ").concat(i," received error:"),o);const t=o.status;let n=function(e){const t=nm[e];if(void 0!==t)return sm(t)}(t),r=o.message;void 0===n&&(n=Hh.INTERNAL,r="Unknown error status: "+t+" with message "+o.message),d=!0,f.wo(new Gh(n,r)),u.close()}else Vh(_b,"RPC '".concat(e,"' stream ").concat(i," received:"),r),f._o(r)}})),p(o,Eh.STAT_EVENT,(t=>{t.stat===Ch.PROXY?Vh(_b,"RPC '".concat(e,"' stream ").concat(i," detected buffering proxy")):t.stat===Ch.NOPROXY&&Vh(_b,"RPC '".concat(e,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function Sb(){return"undefined"!=typeof window?window:null}function Ib(){return"undefined"!=typeof document?document:null}function Tb(e){return new Tm(e,!0)}class Eb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=i,this.Vo=r,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-n);i>0&&Vh("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Cb{constructor(e,t,n,i,r,s,o,a){this.ii=e,this.$o=n,this.Oo=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Eb(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Hh.RESOURCE_EXHAUSTED?(zh(t.toString()),zh("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Hh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,i]=e;this.Fo===t&&this.Zo(n,i)}),(t=>{e((()=>{const e=new Gh(Hh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return Vh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(Vh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ab extends Cb{constructor(e,t,n,i,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qh()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Kh(void 0===t||"string"==typeof t),Nf.fromBase64String(t||"")):(Kh(void 0===t||t instanceof Uint8Array),Nf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Hh.UNKNOWN:sm(e.code);return new Gh(t,e.message||"")}(o);n=new ym(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Om(e,i.document.name),s=Dm(i.document.updateTime),o=i.document.createTime?Dm(i.document.createTime):cd.min(),a=new ap({mapValue:{fields:i.document.fields}}),l=cp.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new mm(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Om(e,i.document),s=i.readTime?Dm(i.readTime):cd.min(),o=cp.newNoDocument(r,s),a=i.removedTargetIds||[];n=new mm([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Om(e,i.document),s=i.removedTargetIds||[];n=new mm([],s,r,null)}else{if(!("filter"in t))return qh();{t.filter;const e=t.filter;e.targetId;const{count:i=0,unchangedNames:r}=e,s=new tm(i,r),o=e.targetId;n=new vm(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return cd.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?cd.min():t.readTime?Dm(t.readTime):cd.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=jm(this.serializer),t.addTarget=function(e,t){let n;const i=t.target;if(n=jp(i)?{documents:Km(e,i)}:{query:Wm(e,i)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Am(e,t.resumeToken);const i=Em(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(cd.min())>0){n.readTime=Cm(e,t.snapshotVersion.toTimestamp());const i=Em(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qh()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=jm(this.serializer),t.removeTarget=e,this.Wo(t)}}class Nb extends Cb{constructor(e,t,n,i,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Kh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Kh(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Dm(e.updateTime):Dm(t);return n.isEqual(cd.min())&&(n=Dm(t)),new Lg(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Dm(e.commitTime);return this.listener.cu(n,t)}return Kh(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=jm(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Bm(this.serializer,e)))};this.Wo(t)}}class Db extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Gh(Hh.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[r,s]=i;return this.connection.Io(e,t,n,r,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Hh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Gh(Hh.UNKNOWN,e.toString())}))}vo(e,t,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[s,o]=r;return this.connection.vo(e,t,n,s,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Hh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Gh(Hh.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Pb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(zh(t),this.mu=!1):Vh("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Mb{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=r,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Bb(this)&&(Vh("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Wh(e);t.vu.add(4),await Ob(t),t.bu.set("Unknown"),t.vu.delete(4),await Rb(t)}(this))}))})),this.bu=new Pb(n,i)}}async function Rb(e){if(Bb(e))for(const t of e.Ru)await t(!0)}async function Ob(e){for(const t of e.Ru)await t(!1)}function Lb(e,t){const n=Wh(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Ub(n)?zb(n):ow(n).Ko()&&jb(n,t))}function Fb(e,t){const n=Wh(e),i=ow(n);n.Au.delete(t),i.Ko()&&Vb(n,t),0===n.Au.size&&(i.Ko()?i.jo():Bb(n)&&n.bu.set("Unknown"))}function jb(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(cd.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ow(e).su(t)}function Vb(e,t){e.Vu.qt(t),ow(e).iu(t)}function zb(e){e.Vu=new wm({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),ow(e).start(),e.bu.gu()}function Ub(e){return Bb(e)&&!ow(e).Uo()&&e.Au.size>0}function Bb(e){return 0===Wh(e).vu.size}function qb(e){e.Vu=void 0}async function Kb(e){e.Au.forEach(((t,n)=>{jb(e,t)}))}async function Wb(e,t){qb(e),Ub(e)?(e.bu.Iu(t),zb(e)):e.bu.set("Unknown")}async function Hb(e,t,n){if(e.bu.set("Online"),t instanceof ym&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.Au.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.Au.delete(i),e.Vu.removeTarget(i))}(e,t)}catch(n){Vh("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Gb(e,n)}else if(t instanceof mm?e.Vu.Ht(t):t instanceof vm?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(cd.min()))try{const t=await Qy(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.Au.get(i);r&&e.Au.set(i,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const i=e.Au.get(t);if(!i)return;e.Au.set(t,i.withResumeToken(Nf.EMPTY_BYTE_STRING,i.snapshotVersion)),Vb(e,t);const r=new nv(i.target,t,n,i.sequenceNumber);jb(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Vh("RemoteStore","Failed to raise snapshot:",t),await Gb(e,t)}}async function Gb(e,t,n){if(!Pd(t))throw t;e.vu.add(1),await Ob(e),e.bu.set("Offline"),n||(n=()=>Qy(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Vh("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Rb(e)}))}function Xb(e,t){return t().catch((n=>Gb(e,n,t)))}async function Yb(e){const t=Wh(e),n=aw(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Qb(t);)try{const e=await Zy(t.localStore,i);if(null===e){0===t.Eu.length&&n.jo();break}i=e.batchId,Jb(t,e)}catch(e){await Gb(t,e)}Zb(t)&&$b(t)}function Qb(e){return Bb(e)&&e.Eu.length<10}function Jb(e,t){e.Eu.push(t);const n=aw(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Zb(e){return Bb(e)&&!aw(e).Uo()&&e.Eu.length>0}function $b(e){aw(e).start()}async function ew(e){aw(e).hu()}async function tw(e){const t=aw(e);for(const n of e.Eu)t.uu(n.mutations)}async function nw(e,t,n){const i=e.Eu.shift(),r=$g.from(i,t,n);await Xb(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await Yb(e)}async function iw(e,t){t&&aw(e).ou&&await async function(e,t){if(rm(n=t.code)&&n!==Hh.ABORTED){const n=e.Eu.shift();aw(e).Qo(),await Xb(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Yb(e)}var n}(e,t),Zb(e)&&$b(e)}async function rw(e,t){const n=Wh(e);n.asyncQueue.verifyOperationInProgress(),Vh("RemoteStore","RemoteStore received new credentials");const i=Bb(n);n.vu.add(3),await Ob(n),i&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Rb(n)}async function sw(e,t){const n=Wh(e);t?(n.vu.delete(2),await Rb(n)):t||(n.vu.add(2),await Ob(n),n.bu.set("Unknown"))}function ow(e){return e.Su||(e.Su=function(e,t,n){const i=Wh(e);return i.fu(),new Ab(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{uo:Kb.bind(null,e),ao:Wb.bind(null,e),nu:Hb.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),Ub(e)?zb(e):e.bu.set("Unknown")):(await e.Su.stop(),qb(e))}))),e.Su}function aw(e){return e.Du||(e.Du=function(e,t,n){const i=Wh(e);return i.fu(),new Nb(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{uo:ew.bind(null,e),ao:iw.bind(null,e),au:tw.bind(null,e),cu:nw.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Yb(e)):(await e.Du.stop(),e.Eu.length>0&&(Vh("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class lw{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Xh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,o=new lw(e,t,s,i,r);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gh(Hh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cw(e,t){if(zh("AsyncQueue","".concat(t,": ").concat(e)),Pd(e))return new Gh(Hh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class uw{constructor(e){this.comparator=e?(t,n)=>e(t,n)||pd.comparator(t.key,n.key):(e,t)=>pd.comparator(e.key,t.key),this.keyedMap=ug(),this.sortedSet=new _f(this.comparator)}static emptySet(e){return new uw(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uw))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new uw;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class hw{constructor(){this.Cu=new _f(pd.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):qh():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class dw{constructor(e,t,n,i,r,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,i,r){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new dw(e,t,uw.emptySet(t),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class fw{constructor(){this.Nu=void 0,this.listeners=[]}}class pw{constructor(){this.queries=new og((e=>eg(e)),$p),this.onlineState="Unknown",this.ku=new Set}}async function gw(e,t){const n=Wh(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new fw),r)try{s.Nu=await n.onListen(i)}catch(e){const n=cw(e,"Initialization of query '".concat(tg(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&bw(n)}async function mw(e,t){const n=Wh(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function vw(e,t){const n=Wh(e);let i=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(r)&&(i=!0);t.Nu=r}}i&&bw(n)}function yw(e,t,n){const i=Wh(e),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(t)}function bw(e){e.ku.forEach((e=>{e.next()}))}class ww{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new dw(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=dw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class xw{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class _w{constructor(e){this.serializer=e}rr(e){return Om(this.serializer,e)}ur(e){return e.metadata.exists?Um(this.serializer,e.document,!1):cp.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Dm(e)}}class kw{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Sw(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=hd.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new _w(this.serializer);for(const i of e)if(i.metadata.queries){const e=n.rr(i.metadata.name);for(const n of i.metadata.queries){const i=(t.get(n)||vg()).add(e);t.set(n,i)}}return t}async complete(){const e=await async function(e,t,n,i){const r=Wh(e);let s=vg(),o=lg();for(const c of n){const e=t.rr(c.metadata.name);c.document&&(s=s.add(e));const n=t.ur(c);n.setReadTime(t.cr(c.metadata.readTime)),o=o.insert(e,n)}const a=r.Zi.newChangeBuffer({trackRemovals:!0}),l=await $y(r,function(e){return Qp(Kp(hd.fromString("__bundle__/docs/".concat(e))))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Jy(e,a,o).next((t=>(a.apply(e),t))).next((t=>r.Bs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>r.Bs.addMatchingKeys(e,s,l.targetId))).next((()=>r.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new _w(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await sb(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function Sw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Iw{constructor(e){this.key=e}}class Tw{constructor(e){this.key=e}}class Ew{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=vg(),this.mutatedKeys=vg(),this.tc=rg(e),this.ec=new uw(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new hw,i=t?t.ec:this.ec;let r=t?t.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((e,t)=>{const c=i.get(e),u=ng(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),r=d?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:r}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const r=e.ic.xu();r.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qh()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==r.length||a?{snapshot:new dw(this.query,e.ec,i,r,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new hw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=vg(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Tw(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new Iw(n))})),t}hc(e){this.Yu=e.ir,this.Zu=vg();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return dw.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Cw{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Aw{constructor(e){this.key=e,this.fc=!1}}class Nw{constructor(e,t,n,i,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new og((e=>eg(e)),$p),this._c=new Map,this.mc=new Set,this.gc=new _f(pd.comparator),this.yc=new Map,this.Ic=new Ay,this.Tc={},this.Ec=new Map,this.Ac=ry.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Dw(e,t){const n=ix(e);let i,r;const s=n.wc.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const e=await $y(n.localStore,Qp(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);i=e.targetId,r=await Pw(n,t,i,"current"===s,e.resumeToken),n.isPrimaryClient&&Lb(n.remoteStore,e)}return r}async function Pw(e,t,n,i,r){e.Rc=(t,n,i)=>async function(e,t,n,i){let r=t.view.sc(n);r.zi&&(r=await tb(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,r)})));const s=i&&i.targetChanges.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,s);return qw(e,t.targetId,o.cc),o.snapshot}(e,t,n,i);const s=await tb(e.localStore,t,!0),o=new Ew(t,s.ir),a=o.sc(s.documents),l=gm.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,r),c=o.applyChanges(a,e.isPrimaryClient,l);qw(e,n,c.cc);const u=new Cw(t,n,o);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Mw(e,t){const n=Wh(e),i=n.wc.get(t),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter((e=>!$p(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await eb(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),Fb(n.remoteStore,i.targetId),Uw(n,i.targetId)})).catch(Td)):(Uw(n,i.targetId),await eb(n.localStore,i.targetId,!0))}async function Rw(e,t){const n=Wh(e);try{const e=await function(e,t){const n=Wh(e),i=t.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const o=[];t.targetChanges.forEach(((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Nf.EMPTY_BYTE_STRING,cd.min()).withLastLimboFreeSnapshotVersion(cd.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Bs.updateTargetData(e,c))}));let a=lg(),l=vg();if(t.documentUpdates.forEach((i=>{t.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))})),o.push(Jy(e,s,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!i.isEqual(cd.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,i)));o.push(t)}return Ed.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=r,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const i=n.yc.get(t);i&&(Kh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.fc=!0:e.modifiedDocuments.size>0?Kh(i.fc):e.removedDocuments.size>0&&(Kh(i.fc),i.fc=!1))})),await Hw(n,e,t)}catch(e){await Td(e)}}function Ow(e,t,n){const i=Wh(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.wc.forEach(((n,i)=>{const r=i.view.Mu(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=Wh(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const r of n.listeners)r.Mu(t)&&(i=!0)})),i&&bw(n)}(i.eventManager,t),e.length&&i.dc.nu(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Lw(e,t,n){const i=Wh(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.yc.get(t),s=r&&r.key;if(s){let e=new _f(pd.comparator);e=e.insert(s,cp.newNoDocument(s,cd.min()));const n=vg().add(s),r=new pm(cd.min(),new Map,new _f(sd),e,n);await Rw(i,r),i.gc=i.gc.remove(s),i.yc.delete(t),Ww(i)}else await eb(i.localStore,t,!1).then((()=>Uw(i,t,n))).catch(Td)}async function Fw(e,t){const n=Wh(e),i=t.batch.batchId;try{const e=await function(e,t){const n=Wh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),r=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,s=r.keys();let o=Ed.resolve();return s.forEach((e=>{o=o.next((()=>i.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Kh(null!==s),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=vg();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(n.localStore,t);zw(n,i,null),Vw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Hw(n,e)}catch(e){await Td(e)}}async function jw(e,t,n){const i=Wh(e);try{const e=await function(e,t){const n=Wh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Kh(null!==t),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(i.localStore,t);zw(i,t,n),Vw(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Hw(i,e)}catch(n){await Td(n)}}function Vw(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function zw(e,t,n){const i=Wh(e);let r=i.Tc[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function Uw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const i of e._c.get(t))e.wc.delete(i),n&&e.dc.Pc(i,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Bw(e,t)}))}function Bw(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Fb(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Ww(e))}function qw(e,t,n){for(const i of n)i instanceof Iw?(e.Ic.addReference(i.key,t),Kw(e,i)):i instanceof Tw?(Vh("SyncEngine","Document no longer in limbo: "+i.key),e.Ic.removeReference(i.key,t),e.Ic.containsKey(i.key)||Bw(e,i.key)):qh()}function Kw(e,t){const n=t.key,i=n.path.canonicalString();e.gc.get(n)||e.mc.has(i)||(Vh("SyncEngine","New document in limbo: "+n),e.mc.add(i),Ww(e))}function Ww(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new pd(hd.fromString(t)),i=e.Ac.next();e.yc.set(i,new Aw(n)),e.gc=e.gc.insert(n,i),Lb(e.remoteStore,new nv(Qp(Kp(n.path)),i,"TargetPurposeLimboResolution",Vd.ct))}}async function Hw(e,t,n){const i=Wh(e),r=[],s=[],o=[];i.wc.isEmpty()||(i.wc.forEach(((e,a)=>{o.push(i.Rc(a,t,n).then((e=>{if((e||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){r.push(e);const t=Wy.Li(a.targetId,e);s.push(t)}})))})),await Promise.all(o),i.dc.nu(r),await async function(e,t){const n=Wh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ed.forEach(t,(t=>Ed.forEach(t.Fi,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>Ed.forEach(t.Bi,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!Pd(e))throw e;Vh("LocalStore","Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Ji.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.Ji=n.Ji.insert(e,r)}}}(i.localStore,s))}async function Gw(e,t){const n=Wh(e);if(!n.currentUser.isEqual(t)){Vh("SyncEngine","User change. New user:",t.toKey());const e=await Yy(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Gh(Hh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Hw(n,e.er)}}function Xw(e,t){const n=Wh(e),i=n.yc.get(t);if(i&&i.fc)return vg().add(i.key);{let e=vg();const i=n._c.get(t);if(!i)return e;for(const t of i){const i=n.wc.get(t);e=e.unionWith(i.view.nc)}return e}}async function Yw(e,t){const n=Wh(e),i=await tb(n.localStore,t.query,!0),r=t.view.hc(i);return n.isPrimaryClient&&qw(n,t.targetId,r.cc),r}async function Qw(e,t){const n=Wh(e);return ib(n.localStore,t).then((e=>Hw(n,e)))}async function Jw(e,t,n,i){const r=Wh(e),s=await function(e,t){const n=Wh(e),i=Wh(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>i.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Ed.resolve(null)))))}(r.localStore,t);null!==s?("pending"===n?await Yb(r.remoteStore):"acknowledged"===n||"rejected"===n?(zw(r,t,i||null),Vw(r,t),function(e,t){Wh(Wh(e).mutationQueue).Cn(t)}(r.localStore,t)):qh(),await Hw(r,s)):Vh("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Zw(e,t,n){const i=Wh(e),r=[],s=[];for(const o of t){let e;const t=i._c.get(o);if(t&&0!==t.length){e=await $y(i.localStore,Qp(t[0]));for(const e of t){const t=i.wc.get(e),n=await Yw(i,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await nb(i.localStore,o);e=await $y(i.localStore,t),await Pw(i,$w(t),o,!1,e.resumeToken)}r.push(e)}return i.dc.nu(s),r}function $w(e){return qp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ex(e){const t=Wh(e);return Wh(Wh(t.localStore).persistence).$i()}async function tx(e,t,n,i){const r=Wh(e);if(r.vc)return void Vh("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await ib(r.localStore,ig(s[0])),i=pm.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Nf.EMPTY_BYTE_STRING);await Hw(r,e,i);break}case"rejected":await eb(r.localStore,t,!0),Uw(r,t,i);break;default:qh()}}async function nx(e,t,n){const i=ix(e);if(i.vc){for(const e of t){if(i._c.has(e)){Vh("SyncEngine","Adding an already active target "+e);continue}const t=await nb(i.localStore,e),n=await $y(i.localStore,t);await Pw(i,$w(t),n.targetId,!1,n.resumeToken),Lb(i.remoteStore,n)}for(const e of n)i._c.has(e)&&await eb(i.localStore,e,!1).then((()=>{Fb(i.remoteStore,e),Uw(i,e)})).catch(Td)}}function ix(e){const t=Wh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lw.bind(null,t),t.dc.nu=vw.bind(null,t.eventManager),t.dc.Pc=yw.bind(null,t.eventManager),t}function rx(e){const t=Wh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Fw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jw.bind(null,t),t}class sx{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Tb(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Xy(this.persistence,new Hy,e.initialUser,this.serializer)}createPersistence(e){return new Oy(Fy.zs,this.serializer)}createSharedClientState(e){return new gb}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ox extends sx{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await rx(this.Vc.syncEngine),await Yb(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Xy(this.persistence,new Hy,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new hy(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new jd(t,this.persistence);return new Fd(e.asyncQueue,n)}createPersistence(e){const t=Ky(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Qv.withCacheSize(this.cacheSizeBytes):Qv.DEFAULT;return new Uy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Sb(),Ib(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new gb}}class ax extends ox{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof pb&&(this.sharedClientState.syncEngine={jr:Jw.bind(null,t),zr:tx.bind(null,t),Wr:nx.bind(null,t),$i:ex.bind(null,t),Qr:Qw.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=Wh(e);if(ix(n),rx(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Zw(n,e.toArray());n.vc=!0,await sw(n.remoteStore,!0);for(const i of t)Lb(n.remoteStore,i)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((i,r)=>{n.sharedClientState.isLocalQueryTarget(r)?e.push(r):t=t.then((()=>(Uw(n,r),eb(n.localStore,r,!0)))),Fb(n.remoteStore,r)})),await t,await Zw(n,e),function(e){const t=Wh(e);t.yc.forEach(((e,n)=>{Fb(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new _f(pd.comparator)}(n),n.vc=!1,await sw(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Sb();if(!pb.D(t))throw new Gh(Hh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Ky(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class lx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ow(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gw.bind(null,this.syncEngine),await sw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new pw}createDatastore(e){const t=Tb(e.databaseInfo.databaseId),n=(i=e.databaseInfo,new kb(i));var i;return function(e,t,n,i){return new Db(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,i=e.asyncQueue,r=e=>Ow(this.syncEngine,e,0),s=vb.D()?new vb:new mb,new Mb(t,n,i,r,s);var t,n,i,r,s}createSyncEngine(e,t){return function(e,t,n,i,r,s,o){const a=new Nw(e,t,n,i,r,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Wh(e);Vh("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Ob(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function cx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const i={value:e.slice(n,n+t),done:!1};return n+=t,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class ux{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):zh("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class hx{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Xh,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc("length string (".concat(t,") is not valid number"));const i=await this.$c(n);return new xw(JSON.parse(i),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class dx{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Gh(Hh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Wh(e),i=jm(n.serializer)+"/documents",r={documents:t.map((e=>Rm(n.serializer,e)))},s=await n.vo("BatchGetDocuments",i,r,t.length),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Kh(!!t.found),t.found.name,t.found.updateTime;const n=Om(e,t.found.name),i=Dm(t.found.updateTime),r=t.found.createTime?Dm(t.found.createTime):cd.min(),s=new ap({mapValue:{fields:t.found.fields}});return cp.newFoundDocument(n,i,r,s)}(e,t):"missing"in t?function(e,t){Kh(!!t.missing),Kh(!!t.readTime);const n=Om(e,t.missing),i=Dm(t.readTime);return cp.newNoDocument(n,i)}(e,t):qh()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());Kh(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=pd.fromPath(t);this.mutations.push(new Jg(n,this.precondition(n)))})),await async function(e,t){const n=Wh(e),i=jm(n.serializer)+"/documents",r={writes:t.map((e=>Bm(n.serializer,e)))};await n.Io("Commit",i,r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qh();t=cd.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Gh(Hh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(cd.min())?Fg.exists(!1):Fg.updateTime(t):Fg.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(cd.min()))throw new Gh(Hh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fg.updateTime(t)}return Fg.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class fx{constructor(e,t,n,i,r){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=i,this.deferred=r,this.Bc=n.maxAttempts,this.qo=new Eb(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new dx(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!zd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!rm(t)}return!1}}class px{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Oh.UNAUTHENTICATED,this.clientId=rd.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Vh("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Vh("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Gh(Hh.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=cw(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function gx(e,t){e.asyncQueue.verifyOperationInProgress(),Vh("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await Yy(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function mx(e,t){e.asyncQueue.verifyOperationInProgress();const n=await yx(e);Vh("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener((e=>rw(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>rw(t.remoteStore,n))),e._onlineComponents=t}function vx(e){return"FirebaseError"===e.name?e.code===Hh.FAILED_PRECONDITION||e.code===Hh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function yx(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Vh("FirestoreClient","Using user provided OfflineComponentProvider");try{await gx(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!vx(n))throw n;Uh("Error using user provided cache. Falling back to memory cache: "+n),await gx(e,new sx)}}else Vh("FirestoreClient","Using default OfflineComponentProvider"),await gx(e,new sx);return e._offlineComponents}async function bx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Vh("FirestoreClient","Using user provided OnlineComponentProvider"),await mx(e,e._uninitializedComponentsProvider._online)):(Vh("FirestoreClient","Using default OnlineComponentProvider"),await mx(e,new lx))),e._onlineComponents}function wx(e){return yx(e).then((e=>e.persistence))}function xx(e){return yx(e).then((e=>e.localStore))}function _x(e){return bx(e).then((e=>e.remoteStore))}function kx(e){return bx(e).then((e=>e.syncEngine))}function Sx(e){return bx(e).then((e=>e.datastore))}async function Ix(e){const t=await bx(e),n=t.eventManager;return n.onListen=Dw.bind(null,t.syncEngine),n.onUnlisten=Mw.bind(null,t.syncEngine),n}function Tx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Xh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new ux({next:s=>{t.enqueueAndForget((()=>mw(e,o)));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new Gh(Hh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new Gh(Hh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:e=>r.reject(e)}),o=new ww(Kp(n.path),s,{includeMetadataChanges:!0,Ku:!0});return gw(e,o)}(await Ix(e),e.asyncQueue,t,n,i))),i.promise}function Ex(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Xh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new ux({next:n=>{t.enqueueAndForget((()=>mw(e,o))),n.fromCache&&"server"===i.source?r.reject(new Gh(Hh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),o=new ww(n,s,{includeMetadataChanges:!0,Ku:!0});return gw(e,o)}(await Ix(e),e.asyncQueue,t,n,i))),i.promise}function Cx(e,t,n,i){const r=function(e,t){let n;return n="string"==typeof e?lm().encode(e):e,function(e,t){return new hx(e,t)}(function(e,t){if(e instanceof Uint8Array)return cx(e,t);if(e instanceof ArrayBuffer)return cx(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Tb(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const i=Wh(e);(async function(e,t,n){try{const i=await t.getMetadata();if(await function(e,t){const n=Wh(e),i=Dm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(i)>=0))}(e.localStore,i))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),Promise.resolve(new Set);n._updateProgress(Sw(i));const r=new kw(i,e.localStore,t.serializer);let s=await t.bc();for(;s;){const e=await r.zu(s);e&&n._updateProgress(e),s=await t.bc()}const o=await r.complete();return await Hw(e,o.Ju,void 0),await function(e,t){const n=Wh(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,i),n._completeWith(o.progress),Promise.resolve(o.Hu)}catch(e){return Uh("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(i,t,n).then((e=>{i.sharedClientState.notifyBundleLoaded(e)}))}(await kx(e),r,i)}))}function Ax(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Nx=new Map;function Dx(e,t,n){if(!n)throw new Gh(Hh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Px(e,t,n,i){if(!0===t&&!0===i)throw new Gh(Hh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Mx(e){if(!pd.isDocumentKey(e))throw new Gh(Hh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Rx(e){if(pd.isDocumentKey(e))throw new Gh(Hh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ox(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":qh()}function Lx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Gh(Hh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ox(e);throw new Gh(Hh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Fx(e,t){if(t<=0)throw new Gh(Hh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class jx{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Gh(Hh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Gh(Hh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Px("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ax(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Gh(Hh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Gh(Hh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Gh(Hh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Vx{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Gh(Hh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Gh(Hh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qh;switch(e.type){case"firstParty":return new ed(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Gh(Hh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Nx.get(e);t&&(Vh("ComponentProvider","Removing Datastore"),Nx.delete(e),t.terminate())}(this),Promise.resolve()}}function zx(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const s=(e=Lx(e,Vx))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Uh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=Oh.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Gh(Hh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Oh(s)}e._authCredentials=new Jh(new Yh(t,n))}}class Ux{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qx(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ux(this.firestore,e,this._key)}}class Bx{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Bx(this.firestore,e,this._query)}}class qx extends Bx{constructor(e,t,n){super(e,t,Kp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ux(this.firestore,null,new pd(e))}withConverter(e){return new qx(this.firestore,e,this._path)}}function Kx(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=$e(e),Dx("collection","path",t),e instanceof Vx){const n=hd.fromString(t,...i);return Rx(n),new qx(e,null,n)}{if(!(e instanceof Ux||e instanceof qx))throw new Gh(Hh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(hd.fromString(t,...i));return Rx(n),new qx(e.firestore,null,n)}}function Wx(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=$e(e),1===arguments.length&&(t=rd.A()),Dx("doc","path",t),e instanceof Vx){const n=hd.fromString(t,...i);return Mx(n),new Ux(e,null,new pd(n))}{if(!(e instanceof Ux||e instanceof qx))throw new Gh(Hh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(hd.fromString(t,...i));return Mx(n),new Ux(e.firestore,e instanceof qx?e.converter:null,new pd(n))}}function Hx(e,t){return e=$e(e),t=$e(t),(e instanceof Ux||e instanceof qx)&&(t instanceof Ux||t instanceof qx)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Gx(e,t){return e=$e(e),t=$e(t),e instanceof Bx&&t instanceof Bx&&e.firestore===t.firestore&&$p(e._query,t._query)&&e.converter===t.converter}class Xx{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Eb(this,"async_queue_retry"),this.Xc=()=>{const e=Ib();e&&Vh("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Ib();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ib();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new Xh;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Pd(e))throw e;Vh("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw zh("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=lw.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(i),i}Zc(){this.Wc&&qh()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Yx(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const i of["next","error","complete"])if(i in n&&"function"==typeof n[i])return!0;return!1}(e)}class Qx{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Jx extends Vx{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new Xx,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$x(this),this._firestoreClient.terminate()}}function Zx(e){return e._firestoreClient||$x(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $x(e){var t,n,i;const r=e._freezeSettings(),s=function(e,t,n,i){return new jf(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Ax(i.experimentalLongPollingOptions),i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new px(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=r.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function e_(e,t,n){const i=new Xh;return e.asyncQueue.enqueue((async()=>{try{await gx(e,n),await mx(e,t),i.resolve()}catch(e){const n=e;if(!vx(n))throw n;Uh("Error enabling indexeddb cache. Falling back to memory cache: "+n),i.reject(n)}})).then((()=>i.promise))}function t_(e){return function(e){const t=new Xh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Wh(e);Bb(n.remoteStore)||Vh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Wh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const i=n.Ec.get(e)||[];i.push(t),n.Ec.set(e,i)}catch(e){const n=cw(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await kx(e),t))),t.promise}(Zx(e=Lx(e,Jx)))}function n_(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await wx(e),n=await _x(e);return t.setNetworkEnabled(!0),function(e){const t=Wh(e);return t.vu.delete(0),Rb(t)}(n)}))}(Zx(e=Lx(e,Jx)))}function i_(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await wx(e),n=await _x(e);return t.setNetworkEnabled(!1),async function(e){const t=Wh(e);t.vu.add(0),await Ob(t),t.bu.set("Offline")}(n)}))}(Zx(e=Lx(e,Jx)))}function r_(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Wh(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await xx(e),t)))}(Zx(e=Lx(e,Jx)),t).then((t=>t?new Bx(e,null,t.query):null))}function s_(e){if(e._initialized||e._terminated)throw new Gh(Hh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class o_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new o_(Nf.fromBase64String(e))}catch(e){throw new Gh(Hh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new o_(Nf.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class a_{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let i=0;i<t.length;++i)if(0===t[i].length)throw new Gh(Hh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fd(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class l_{constructor(e){this._methodName=e}}class c_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Gh(Hh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Gh(Hh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sd(this._lat,e._lat)||sd(this._long,e._long)}}const u_=/^__.*__$/;class h_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Hg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wg(e,this.data,t,this.fieldTransforms)}}class d_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Hg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function f_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qh()}}class p_{constructor(e,t,n,i,r,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.ua(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new p_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:n,la:!1});return i.fa(e),i}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:n,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return R_(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(f_(this.ca)&&u_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class g_{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Tb(e)}ya(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new p_({ca:e,methodName:t,ga:n,path:fd.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m_(e){const t=e._freezeSettings(),n=Tb(e._databaseId);return new g_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function v_(e,t,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,r);N_("Data must be an object, but it was:",o,i);const a=C_(i,o);let l,c;if(s.merge)l=new Cf(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const i of s.mergeFields){const r=D_(t,i,n);if(!o.contains(r))throw new Gh(Hh.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));O_(e,r)||e.push(r)}l=new Cf(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new h_(new ap(a),l,c)}class y_ extends l_{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof y_}}function b_(e,t,n){return new p_({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class w_ extends l_{_toFieldTransform(e){return new Og(e.path,new Eg)}isEqual(e){return e instanceof w_}}class x_ extends l_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=b_(this,e,!0),n=this.pa.map((e=>E_(e,t))),i=new Cg(n);return new Og(e.path,i)}isEqual(e){return this===e}}class __ extends l_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=b_(this,e,!0),n=this.pa.map((e=>E_(e,t))),i=new Ng(n);return new Og(e.path,i)}isEqual(e){return this===e}}class k_ extends l_{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Pg(e.serializer,_g(e.serializer,this.Ia));return new Og(e.path,t)}isEqual(e){return this===e}}function S_(e,t,n,i){const r=e.ya(1,t,n);N_("Data must be an object, but it was:",r,i);const s=[],o=ap.empty();wf(i,((e,i)=>{const a=M_(t,e,n);i=$e(i);const l=r.da(a);if(i instanceof y_)s.push(a);else{const e=E_(i,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Cf(s);return new d_(o,a,r.fieldTransforms)}function I_(e,t,n,i,r,s){const o=e.ya(1,t,n),a=[D_(t,i,n)],l=[r];if(s.length%2!=0)throw new Gh(Hh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(D_(t,s[d])),l.push(s[d+1]);const c=[],u=ap.empty();for(let d=a.length-1;d>=0;--d)if(!O_(c,a[d])){const e=a[d];let t=l[d];t=$e(t);const n=o.da(e);if(t instanceof y_)c.push(e);else{const i=E_(t,n);null!=i&&(c.push(e),u.set(e,i))}}const h=new Cf(c);return new d_(u,h,o.fieldTransforms)}function T_(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return E_(n,e.ya(i?4:3,t))}function E_(e,t){if(A_(e=$e(e)))return N_("Unsupported field value:",t,e),C_(e,t);if(e instanceof l_)return function(e,t){if(!f_(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=E_(r,t.wa(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=$e(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _g(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ld.fromDate(e);return{timestampValue:Cm(t.serializer,n)}}if(e instanceof ld){const n=new ld(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cm(t.serializer,n)}}if(e instanceof c_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof o_)return{bytesValue:Am(t.serializer,e._byteString)};if(e instanceof Ux){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t._a("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Pm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Ox(e)))}(e,t)}function C_(e,t){const n={};return xf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wf(e,((e,i)=>{const r=E_(i,t.ha(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function A_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ld||e instanceof c_||e instanceof o_||e instanceof Ux||e instanceof l_)}function N_(e,t,n){if(!A_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=Ox(n);throw"an object"===i?t._a(e+" a custom object"):t._a(e+" "+i)}}function D_(e,t,n){if((t=$e(t))instanceof a_)return t._internalPath;if("string"==typeof t)return M_(e,t);throw R_("Field path arguments must be of type string or ",e,!1,void 0,n)}const P_=new RegExp("[~\\*/\\[\\]]");function M_(e,t,n){if(t.search(P_)>=0)throw R_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new a_(...t.split("."))._internalPath}catch(i){throw R_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function R_(e,t,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(i)),o&&(l+=" in document ".concat(r)),l+=")"),new Gh(Hh.INVALID_ARGUMENT,a+e+l)}function O_(e,t){return e.some((e=>e.isEqual(t)))}class L_{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ux(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new F_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(j_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class F_ extends L_{data(){return super.data()}}function j_(e,t){return"string"==typeof t?M_(e,t):t instanceof a_?t._internalPath:t._delegate._internalPath}function V_(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Gh(Hh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z_{}class U_ extends z_{}function B_(e,t){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];t instanceof z_&&n.push(t),n=n.concat(r),function(e){const t=e.filter((e=>e instanceof K_)).length,n=e.filter((e=>e instanceof q_)).length;if(t>1||t>0&&n>0)throw new Gh(Hh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class q_ extends U_{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new q_(e,t,n)}_apply(e){const t=this._parse(e);return Z_(e._query,t),new Bx(e.firestore,e.converter,Jp(e._query,t))}_parse(e){const t=m_(e.firestore),n=function(e,t,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Gh(Hh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){J_(o,s);const t=[];for(const n of o)t.push(Q_(i,e,n));a={arrayValue:{values:t}}}else a=Q_(i,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||J_(o,s),a=T_(n,"where",o,"in"===s||"not-in"===s);return mp.create(r,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class K_ extends z_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new K_(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:vp.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const i=t.getFlattenedFilters();for(const r of i)Z_(n,r),n=Jp(n,r)}(e._query,t),new Bx(e.firestore,e.converter,Jp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class W_ extends U_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new W_(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Gh(Hh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Gh(Hh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new fp(t,n);return function(e,t){if(null===Hp(e)){const n=Gp(e);null!==n&&$_(e,n,t.field)}}(e,i),i}(e._query,this._field,this._direction);return new Bx(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Bp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class H_ extends U_{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new H_(e,t,n)}_apply(e){return new Bx(e.firestore,e.converter,Zp(e._query,this._limit,this._limitType))}}class G_ extends U_{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new G_(e,t,n)}_apply(e){const t=Y_(e,this.type,this._docOrFields,this._inclusive);return new Bx(e.firestore,e.converter,function(e,t){return new Bp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class X_ extends U_{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new X_(e,t,n)}_apply(e){const t=Y_(e,this.type,this._docOrFields,this._inclusive);return new Bx(e.firestore,e.converter,function(e,t){return new Bp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Y_(e,t,n,i){if(n[0]=$e(n[0]),n[0]instanceof L_)return function(e,t,n,i,r){if(!i)throw new Gh(Hh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Yp(e))if(o.field.isKeyField())s.push(Yf(t,i.key));else{const e=i.data.field(o.field);if(Of(e))throw new Gh(Hh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Gh(Hh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new up(s,r)}(e._query,e.firestore._databaseId,t,n[0]._document,i);{const r=m_(e.firestore);return function(e,t,n,i,r,s){const o=e.explicitOrderBy;if(r.length>o.length)throw new Gh(Hh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(i,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<r.length;l++){const s=r[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Gh(Hh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(i,"(), but got a ").concat(typeof s));if(!Xp(e)&&-1!==s.indexOf("/"))throw new Gh(Hh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(i,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(hd.fromString(s));if(!pd.isDocumentKey(n))throw new Gh(Hh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(i,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const r=new pd(n);a.push(Yf(t,r))}else{const e=T_(n,i,s);a.push(e)}}return new up(a,s)}(e._query,e.firestore._databaseId,r,t,n,i)}}function Q_(e,t,n){if("string"==typeof(n=$e(n))){if(""===n)throw new Gh(Hh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xp(t)&&-1!==n.indexOf("/"))throw new Gh(Hh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=t.path.child(hd.fromString(n));if(!pd.isDocumentKey(i))throw new Gh(Hh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return Yf(e,new pd(i))}if(n instanceof Ux)return Yf(e,n._key);throw new Gh(Hh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ox(n),"."))}function J_(e,t){if(!Array.isArray(e)||0===e.length)throw new Gh(Hh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Z_(e,t){if(t.isInequality()){const n=Gp(e),i=t.field;if(null!==n&&!n.isEqual(i))throw new Gh(Hh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(i.toString(),"'"));const r=Hp(e);null!==r&&$_(e,i,r)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Gh(Hh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Gh(Hh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function $_(e,t,n){if(!n.isEqual(t))throw new Gh(Hh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class ek{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Bf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qh()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return wf(e,((e,i)=>{n[e]=this.convertValue(i,t)})),n}convertGeoPoint(e){return new c_(Mf(e.latitude),Mf(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Lf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ff(e));default:return null}}convertTimestamp(e){const t=Pf(e);return new ld(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=hd.fromString(e);Kh(tv(n));const i=new Vf(n.get(1),n.get(3)),r=new pd(n.popFirst(5));return i.isEqual(t)||zh("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),r}}function tk(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class nk extends ek{constructor(e){super(),this.firestore=e}convertBytes(e){return new o_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ux(this.firestore,null,t)}}class ik{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rk extends L_{constructor(e,t,n,i,r,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new sk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(j_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class sk extends rk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ok{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ik(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new sk(this._firestore,this._userDataWriter,n.key,n,new ik(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Gh(Hh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const i=new sk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ik(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const i=new sk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ik(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ak(t.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ak(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qh()}}function lk(e,t){return e instanceof rk&&t instanceof rk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ok&&t instanceof ok&&e._firestore===t._firestore&&Gx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class ck extends ek{constructor(e){super(),this.firestore=e}convertBytes(e){return new o_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ux(this.firestore,null,t)}}function uk(e){e=Lx(e,Ux);const t=Lx(e.firestore,Jx),n=Zx(t),i=new ck(t);return function(e,t){const n=new Xh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const i=await function(e,t){const n=Wh(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Gh(Hh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const i=cw(e,"Failed to get document '".concat(t," from cache"));n.reject(i)}}(await xx(e),t,n))),n.promise}(n,e._key).then((n=>new rk(t,i,e._key,n,new ik(null!==n&&n.hasLocalMutations,!0),e.converter)))}function hk(e){e=Lx(e,Bx);const t=Lx(e.firestore,Jx),n=Zx(t),i=new ck(t);return function(e,t){const n=new Xh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const i=await tb(e,t,!0),r=new Ew(t,i.ir),s=r.sc(i.documents),o=r.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const i=cw(e,"Failed to execute query '".concat(t," against cache"));n.reject(i)}}(await xx(e),t,n))),n.promise}(n,e._query).then((n=>new ok(t,i,e,n)))}function dk(e,t,n){e=Lx(e,Ux);const i=Lx(e.firestore,Jx),r=tk(e.converter,t,n);return mk(i,[v_(m_(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,Fg.none())])}function fk(e,t,n){e=Lx(e,Ux);const i=Lx(e.firestore,Jx),r=m_(i);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=$e(t))||t instanceof a_?I_(r,"updateDoc",e._key,t,n,a):S_(r,"updateDoc",e._key,t),mk(i,[s.toMutation(e._key,Fg.exists(!0))])}function pk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,s,o;e=$e(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Yx(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(Yx(n[l])){const e=n[l];n[l]=null===(r=e.next)||void 0===r?void 0:r.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof Ux)h=Lx(e.firestore,Jx),d=Kp(e._key.path),u={next:t=>{n[l]&&n[l](vk(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Lx(e,Bx);h=Lx(t.firestore,Jx),d=t._query;const i=new ck(h);u={next:e=>{n[l]&&n[l](new ok(h,i,t,e))},error:n[l+1],complete:n[l+2]},V_(e._query)}return function(e,t,n,i){const r=new ux(i),s=new ww(t,r,n);return e.asyncQueue.enqueueAndForget((async()=>gw(await Ix(e),s))),()=>{r.Dc(),e.asyncQueue.enqueueAndForget((async()=>mw(await Ix(e),s)))}}(Zx(h),d,c,u)}function gk(e,t){return function(e,t){const n=new ux(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Wh(e).ku.add(t),t.next()}(await Ix(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Wh(e).ku.delete(t)}(await Ix(e),n)))}}(Zx(e=Lx(e,Jx)),Yx(t)?t:{next:t})}function mk(e,t){return function(e,t){const n=new Xh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const i=rx(e);try{const e=await function(e,t){const n=Wh(e),i=ld.now(),r=t.reduce(((e,t)=>e.add(t.key)),vg());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=lg(),l=vg();return n.Zi.getEntries(e,r).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((r=>{s=r;const o=[];for(const e of t){const t=qg(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Hg(e.key,t,lp(t.value.mapValue),Fg.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,o,t)})).next((t=>{o=t;const i=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)}))})).then((()=>({batchId:o.batchId,changes:hg(s)})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.Tc[e.currentUser.toKey()];i||(i=new _f(sd)),i=i.insert(t,n),e.Tc[e.currentUser.toKey()]=i}(i,e.batchId,n),await Hw(i,e.changes),await Yb(i.remoteStore)}catch(e){const t=cw(e,"Failed to persist write");n.reject(t)}}(await kx(e),t,n))),n.promise}(Zx(e),t)}function vk(e,t,n){const i=n.docs.get(t._key),r=new ck(e);return new rk(e,r,t._key,i,new ik(n.hasPendingWrites,n.fromCache),t.converter)}const yk={maxAttempts:5};class bk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=m_(e)}set(e,t,n){this._verifyNotCommitted();const i=wk(e,this._firestore),r=tk(i.converter,t,n),s=v_(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(s.toMutation(i._key,Fg.none())),this}update(e,t,n){this._verifyNotCommitted();const i=wk(e,this._firestore);let r;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return r="string"==typeof(t=$e(t))||t instanceof a_?I_(this._dataReader,"WriteBatch.update",i._key,t,n,o):S_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Fg.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wk(e,this._firestore);return this._mutations=this._mutations.concat(new Qg(t._key,Fg.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Gh(Hh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wk(e,t){if((e=$e(e)).firestore!==t)throw new Gh(Hh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class xk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=m_(e)}get(e){const t=wk(e,this._firestore),n=new nk(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return qh();const i=e[0];if(i.isFoundDocument())return new L_(this._firestore,n,i.key,i,t.converter);if(i.isNoDocument())return new L_(this._firestore,n,t._key,null,t.converter);throw qh()}))}set(e,t,n){const i=wk(e,this._firestore),r=tk(i.converter,t,n),s=v_(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,s),this}update(e,t,n){const i=wk(e,this._firestore);let r;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return r="string"==typeof(t=$e(t))||t instanceof a_?I_(this._dataReader,"Transaction.update",i._key,t,n,o):S_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}delete(e){const t=wk(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wk(e,this._firestore),n=new ck(this._firestore);return super.get(e).then((e=>new rk(this._firestore,n,t._key,e._document,new ik(!1,!1),t.converter)))}}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Lh=e}(Kt),jt(new et("firestore",((e,n)=>{let{instanceIdentifier:i,options:r}=n;const s=e.getProvider("app").getImmediate(),o=new Jx(new Zh(e.getProvider("auth-internal")),new nd(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Gh(Hh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vf(e.options.projectId,t)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),Yt(Rh,"3.13.0",e),Yt(Rh,"3.13.0","esm2017")}();function _k(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Gh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function kk(){if("undefined"===typeof Uint8Array)throw new Gh("unimplemented","Uint8Arrays are not available in this environment.")}function Sk(){if("undefined"==typeof atob)throw new Gh("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ik{constructor(e){this._delegate=e}static fromBase64String(e){return Sk(),new Ik(o_.fromBase64String(e))}static fromUint8Array(e){return kk(),new Ik(o_.fromUint8Array(e))}toBase64(){return Sk(),this._delegate.toBase64()}toUint8Array(){return kk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Tk(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const i of t)if(i in n&&"function"===typeof n[i])return!0;return!1}(e,["next","error","complete"])}class Ek{enableIndexedDbPersistence(e,t){return function(e,t){s_(e=Lx(e,Jx));const n=Zx(e);if(n._uninitializedComponentsProvider)throw new Gh(Hh.FAILED_PRECONDITION,"SDK cache is already specified.");Uh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=e._freezeSettings(),r=new lx;return e_(n,r,new ox(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){s_(e=Lx(e,Jx));const t=Zx(e);if(t._uninitializedComponentsProvider)throw new Gh(Hh.FAILED_PRECONDITION,"SDK cache is already specified.");Uh("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),i=new lx;return e_(t,i,new ax(i,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Gh(Hh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Xh;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Ad.D())return Promise.resolve();const t=e+"main";await Ad.delete(t)}(Ky(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Ck{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Uh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};zx(this._delegate,e,t,n)}enableNetwork(){return n_(this._delegate)}disableNetwork(){return i_(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Px("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return t_(this._delegate)}onSnapshotsInSync(e){return gk(this._delegate,e)}get app(){if(!this._appCompat)throw new Gh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Bk(this,Kx(this._delegate,e))}catch(t){throw Rk(t,"collection()","Firestore.collection()")}}doc(e){try{return new Mk(this,Wx(this._delegate,e))}catch(t){throw Rk(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vk(this,function(e,t){if(e=Lx(e,Vx),Dx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Gh(Hh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Bx(e,null,function(e){return new Bp(hd.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Rk(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Lx(e,Jx);const i=Object.assign(Object.assign({},yk),n);return function(e){if(e.maxAttempts<1)throw new Gh(Hh.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(e,t,n){const i=new Xh;return e.asyncQueue.enqueueAndForget((async()=>{const r=await Sx(e);new fx(e.asyncQueue,r,n,t,i).run()})),i.promise}(Zx(e),(n=>t(new xk(e,n))),i)}(this._delegate,(t=>e(new Nk(this,t))))}batch(){return Zx(this._delegate),new Dk(new bk(this._delegate,(e=>mk(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Zx(e=Lx(e,Jx)),i=new Qx;return Cx(n,e._databaseId,t,i),i}(this._delegate,e)}namedQuery(e){return r_(this._delegate,e).then((e=>e?new Vk(this,e):null))}}class Ak extends ek{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ik(new o_(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Mk.forKey(t,this.firestore,null)}}class Nk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ak(e)}get(e){const t=qk(e);return this._delegate.get(t).then((e=>new Fk(this._firestore,new rk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const i=qk(e);return n?(_k("Transaction.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),s=3;s<i;s++)r[s-3]=arguments[s];const o=qk(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...r),this}delete(e){const t=qk(e);return this._delegate.delete(t),this}}class Dk{constructor(e){this._delegate=e}set(e,t,n){const i=qk(e);return n?(_k("WriteBatch.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),s=3;s<i;s++)r[s-3]=arguments[s];const o=qk(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...r),this}delete(e){const t=qk(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Pk{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new sk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jk(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Pk.INSTANCES;let i=n.get(e);i||(i=new WeakMap,n.set(e,i));let r=i.get(t);return r||(r=new Pk(e,new Ak(e),t),i.set(t,r)),r}}Pk.INSTANCES=new WeakMap;class Mk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ak(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Gh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new Mk(t,new Ux(t._delegate,n,new pd(e)))}static forKey(e,t,n){return new Mk(t,new Ux(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Bk(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Bk(this.firestore,Kx(this._delegate,e))}catch(t){throw Rk(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=$e(e))instanceof Ux&&Hx(this._delegate,e)}set(e,t){t=_k("DocumentReference.set",t);try{return t?dk(this._delegate,e,t):dk(this._delegate,e)}catch(n){throw Rk(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];try{return 1===arguments.length?fk(this._delegate,e):fk(this._delegate,e,t,...i)}catch(s){throw Rk(s,"updateDoc()","DocumentReference.update()")}}delete(){return mk(Lx((e=this._delegate).firestore,Jx),[new Qg(e._key,Fg.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=Ok(t),r=Lk(t,(e=>new Fk(this.firestore,new rk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return pk(this._delegate,i,r)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?uk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Lx(e,Ux);const t=Lx(e.firestore,Jx);return Tx(Zx(t),e._key,{source:"server"}).then((n=>vk(t,e,n)))}(this._delegate):function(e){e=Lx(e,Ux);const t=Lx(e.firestore,Jx);return Tx(Zx(t),e._key).then((n=>vk(t,e,n)))}(this._delegate),t.then((e=>new Fk(this.firestore,new rk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Mk(this.firestore,e?this._delegate.withConverter(Pk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Rk(e,t,n){return e.message=e.message.replace(t,n),e}function Ok(e){for(const t of e)if("object"===typeof t&&!Tk(t))return t;return{}}function Lk(e,t){var n,i;let r;return r=Tk(e[0])?e[0]:Tk(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{r.next&&r.next(t(e))},error:null===(n=r.error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Fk{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Mk(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return lk(this._delegate,e._delegate)}}class jk extends Fk{data(e){const t=this._delegate.data(e);return void 0!==t||qh(),t}}class Vk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ak(e)}where(e,t,n){try{return new Vk(this.firestore,B_(this._delegate,function(e,t,n){const i=t,r=j_("where",e);return q_._create(r,i,n)}(e,t,n)))}catch(i){throw Rk(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vk(this.firestore,B_(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=j_("orderBy",e);return W_._create(n,t)}(e,t)))}catch(n){throw Rk(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vk(this.firestore,B_(this._delegate,(Fx("limit",t=e),H_._create("limit",t,"F"))))}catch(n){throw Rk(n,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Vk(this.firestore,B_(this._delegate,(Fx("limitToLast",t=e),H_._create("limitToLast",t,"L"))))}catch(n){throw Rk(n,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new Vk(this.firestore,B_(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return G_._create("startAt",t,!0)}(...arguments)))}catch(e){throw Rk(e,"startAt()","Query.startAt()")}}startAfter(){try{return new Vk(this.firestore,B_(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return G_._create("startAfter",t,!1)}(...arguments)))}catch(e){throw Rk(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Vk(this.firestore,B_(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return X_._create("endBefore",t,!1)}(...arguments)))}catch(e){throw Rk(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new Vk(this.firestore,B_(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return X_._create("endAt",t,!0)}(...arguments)))}catch(e){throw Rk(e,"endAt()","Query.endAt()")}}isEqual(e){return Gx(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?hk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Lx(e,Bx);const t=Lx(e.firestore,Jx),n=Zx(t),i=new ck(t);return Ex(n,e._query,{source:"server"}).then((n=>new ok(t,i,e,n)))}(this._delegate):function(e){e=Lx(e,Bx);const t=Lx(e.firestore,Jx),n=Zx(t),i=new ck(t);return V_(e._query),Ex(n,e._query).then((n=>new ok(t,i,e,n)))}(this._delegate),t.then((e=>new Uk(this.firestore,new ok(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=Ok(t),r=Lk(t,(e=>new Uk(this.firestore,new ok(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return pk(this._delegate,i,r)}withConverter(e){return new Vk(this.firestore,e?this._delegate.withConverter(Pk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class zk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new jk(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Uk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vk(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new jk(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new zk(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new jk(this._firestore,n))}))}isEqual(e){return lk(this._delegate,e._delegate)}}class Bk extends Vk{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Mk(this.firestore,e):null}doc(e){try{return new Mk(this.firestore,void 0===e?Wx(this._delegate):Wx(this._delegate,e))}catch(t){throw Rk(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Lx(e.firestore,Jx),i=Wx(e),r=tk(e.converter,t);return mk(n,[v_(m_(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,Fg.exists(!1))]).then((()=>i))}(this._delegate,e).then((e=>new Mk(this.firestore,e)))}isEqual(e){return Hx(this._delegate,e._delegate)}withConverter(e){return new Bk(this.firestore,e?this._delegate.withConverter(Pk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function qk(e){return Lx(e,Ux)}class Kk{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new a_(...t)}static documentId(){return new Kk(fd.keyField().canonicalString())}isEqual(e){return(e=$e(e))instanceof a_&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wk{constructor(e){this._delegate=e}static serverTimestamp(){const e=new w_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Wk(e)}static delete(){const e=new y_("deleteField");return e._methodName="FieldValue.delete",new Wk(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new x_("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new Wk(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new __("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new Wk(e)}static increment(e){const t=new k_("increment",e);return t._methodName="FieldValue.increment",new Wk(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Hk={Firestore:Ck,GeoPoint:c_,Timestamp:ld,Blob:Ik,Transaction:Nk,WriteBatch:Dk,DocumentReference:Mk,DocumentSnapshot:Fk,Query:Vk,QueryDocumentSnapshot:jk,QuerySnapshot:Uk,CollectionReference:Bk,FieldPath:Kk,FieldValue:Wk,setLogLevel:function(e){var t;t=e,Fh.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new et("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("firestore").getImmediate();return t(n,i)}),"PUBLIC").setServiceProps(Object.assign({},Hk)))}(e,((e,t)=>new Ck(e,t,new Ek))),e.registerVersion("@firebase/firestore-compat","0.3.12")}(gn);var Gk=n(417);const Xk=e=>(0,Gk.jsxs)("nav",{className:"navigation-links-nav ".concat(e.rootClassName," "),children:[(0,Gk.jsx)(_e,{to:"/",className:"navigation-links-navlink",children:e.text}),(0,Gk.jsx)(_e,{to:"/account",className:"navigation-links-navlink1",children:e.text1}),(0,Gk.jsx)(_e,{to:"/Ranking",className:"navigation-links-navlink2",children:e.text2}),(0,Gk.jsx)(_e,{to:"https://buymeacoffee.com/kukikei",className:"navigation-links-navlink2",children:"Donation"})]});Xk.defaultProps={text:"Home",text1:"Account",text2:"Ranking",text4:"Blog",text3:"Contact",rootClassName:""};const Yk=Xk;gn.initializeApp({apiKey:"AIzaSyBYq-OcMmsJBx5CMYVASBBJNZE9bBrwqLA",authDomain:"kingdom1418-rok.firebaseapp.com",projectId:"kingdom1418-rok",storageBucket:"kingdom1418-rok.appspot.com",messagingSenderId:"52859370206",appId:"1:52859370206:web:95983696b1f350397fa04f",measurementId:"G-5QTEHKEFNL"});class Qk extends i.Component{constructor(e){super(e),this.changePage=e=>{this.setState({page:e})},this.toggleMenu=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.handleNavigateToAccount=()=>{this.props.navigate("/account")},this.render=()=>(0,Gk.jsxs)("div",{className:"home-container",children:[(0,Gk.jsxs)("header",{"data-thq":"thq-navbar",className:"home-navbar-interactive",children:[(0,Gk.jsx)("span",{className:"home-text",children:"Kingdom 1418"}),(0,Gk.jsx)("div",{className:"home-container1",children:(0,Gk.jsx)("div",{"data-thq":"thq-navbar-nav",className:"home-desktop-menu",children:(0,Gk.jsx)(Yk,{rootClassName:"rootClassName17"})})}),(0,Gk.jsx)("div",{"data-thq":"thq-burger-menu",className:"home-burger-menu",onClick:this.toggleMenu,children:(0,Gk.jsx)("svg",{viewBox:"0 0 1024 1024",className:"home-icon",style:{fill:"white"},children:(0,Gk.jsx)("path",{d:"M128 554.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 298.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 810.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667z"})})}),(0,Gk.jsx)("div",{"data-thq":"thq-mobile-menu",className:"home-mobile-menu ".concat(this.state.isMenuOpen?"open":""),children:(0,Gk.jsxs)("div",{className:"home-nav",children:[(0,Gk.jsxs)("div",{className:"home-top",children:[(0,Gk.jsx)("span",{className:"home-text01",children:"Kingdom 1418"}),(0,Gk.jsx)("div",{"data-thq":"thq-close-menu",className:"home-close-menu",onClick:this.toggleMenu,children:(0,Gk.jsx)("svg",{viewBox:"0 0 1024 1024",className:"home-icon02",style:{fill:"white"},children:(0,Gk.jsx)("path",{d:"M810 274l-238 238 238 238-60 60-238-238-238 238-60-60 238-238-238-238 60-60 238 238 238-238z"})})})]}),(0,Gk.jsx)("nav",{className:"home-links",children:(0,Gk.jsx)(Yk,{rootClassName:"rootClassName14"})})]})})]}),(0,Gk.jsx)("div",{className:"home-hero",children:(0,Gk.jsx)("div",{className:"home-btn-group",children:(0,Gk.jsx)("button",{className:"home-button button",onClick:this.handleNavigateToAccount,children:"Log IN"})})}),(0,Gk.jsxs)("div",{className:"home-stats",children:[(0,Gk.jsxs)("div",{className:"home-stat",children:[(0,Gk.jsx)("svg",{viewBox:"0 0 1024 1024",className:"home-icon10",children:(0,Gk.jsx)("path",{d:"M832 192v-128h-640v128h-192v128c0 106.038 85.958 192 192 192 20.076 0 39.43-3.086 57.62-8.802 46.174 66.008 116.608 113.796 198.38 130.396v198.406h-64c-70.694 0-128 57.306-128 128h512c0-70.694-57.306-128-128-128h-64v-198.406c81.772-16.6 152.206-64.386 198.38-130.396 18.19 5.716 37.544 8.802 57.62 8.802 106.042 0 192-85.962 192-192v-128h-192zM192 436c-63.962 0-116-52.038-116-116v-64h116v64c0 40.186 7.43 78.632 20.954 114.068-6.802 1.246-13.798 1.932-20.954 1.932zM948 320c0 63.962-52.038 116-116 116-7.156 0-14.152-0.686-20.954-1.932 13.524-35.436 20.954-73.882 20.954-114.068v-64h116v64z"})}),(0,Gk.jsx)("span",{className:"home-text09",children:"TOP 300 KILLS"}),(0,Gk.jsx)("h1",{className:"home-text10",children:"245B"})]}),(0,Gk.jsxs)("div",{className:"home-stat1",children:[(0,Gk.jsx)("svg",{viewBox:"0 0 1024 1024",className:"home-icon12",children:(0,Gk.jsx)("path",{d:"M832 192v-128h-640v128h-192v128c0 106.038 85.958 192 192 192 20.076 0 39.43-3.086 57.62-8.802 46.174 66.008 116.608 113.796 198.38 130.396v198.406h-64c-70.694 0-128 57.306-128 128h512c0-70.694-57.306-128-128-128h-64v-198.406c81.772-16.6 152.206-64.386 198.38-130.396 18.19 5.716 37.544 8.802 57.62 8.802 106.042 0 192-85.962 192-192v-128h-192zM192 436c-63.962 0-116-52.038-116-116v-64h116v64c0 40.186 7.43 78.632 20.954 114.068-6.802 1.246-13.798 1.932-20.954 1.932zM948 320c0 63.962-52.038 116-116 116-7.156 0-14.152-0.686-20.954-1.932 13.524-35.436 20.954-73.882 20.954-114.068v-64h116v64z"})}),(0,Gk.jsx)("span",{className:"home-text11",children:"TOP 300 DEATHS"}),(0,Gk.jsx)("h1",{className:"home-text12",children:"2.7B"})]}),(0,Gk.jsxs)("div",{className:"home-stat2",children:[(0,Gk.jsx)("svg",{viewBox:"0 0 1024 1024",className:"home-icon14",children:(0,Gk.jsx)("path",{d:"M832 192v-128h-640v128h-192v128c0 106.038 85.958 192 192 192 20.076 0 39.43-3.086 57.62-8.802 46.174 66.008 116.608 113.796 198.38 130.396v198.406h-64c-70.694 0-128 57.306-128 128h512c0-70.694-57.306-128-128-128h-64v-198.406c81.772-16.6 152.206-64.386 198.38-130.396 18.19 5.716 37.544 8.802 57.62 8.802 106.042 0 192-85.962 192-192v-128h-192zM192 436c-63.962 0-116-52.038-116-116v-64h116v64c0 40.186 7.43 78.632 20.954 114.068-6.802 1.246-13.798 1.932-20.954 1.932zM948 320c0 63.962-52.038 116-116 116-7.156 0-14.152-0.686-20.954-1.932 13.524-35.436 20.954-73.882 20.954-114.068v-64h116v64z"})}),(0,Gk.jsx)("span",{className:"home-text13",children:"TOP 300 POWER"}),(0,Gk.jsx)("h1",{className:"home-text14",children:"17.8B"})]})]}),(0,Gk.jsx)("footer",{className:"home-footer",children:(0,Gk.jsx)("span",{className:"home-text15",children:"\xa9 2024 All Rights Reserved."})})]}),this.state={page:"Home",userID:"",password:"",accPage:"Sign",cpassword:"",isMenuOpen:!1}}}const Jk=Qk,Zk=()=>{const e=J();return(0,Gk.jsx)(Jk,{navigate:e})};function $k(e){return $k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$k(e)}function eS(e){var t=function(e,t){if("object"!==$k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==$k(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$k(t)?t:String(t)}function tS(e,t,n){return(t=eS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nS(e){return e+.5|0}const iS=(e,t,n)=>Math.max(Math.min(e,n),t);function rS(e){return iS(nS(2.55*e),0,255)}function sS(e){return iS(nS(255*e),0,255)}function oS(e){return iS(nS(e/2.55)/100,0,1)}function aS(e){return iS(nS(100*e),0,100)}const lS={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cS=[..."0123456789ABCDEF"],uS=e=>cS[15&e],hS=e=>cS[(240&e)>>4]+cS[15&e],dS=e=>(240&e)>>4===(15&e);function fS(e){var t=(e=>dS(e.r)&&dS(e.g)&&dS(e.b)&&dS(e.a))(e)?uS:hS;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const pS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function gS(e,t,n){const i=t*Math.min(n,1-n),r=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function mS(e,t,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+e/60)%6;return n-n*t*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function vS(e,t,n){const i=gS(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function yS(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),s=Math.min(t,n,i),o=(r+s)/2;let a,l,c;return r!==s&&(c=r-s,l=o>.5?c/(2-r-s):c/(r+s),a=function(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}(t,n,i,c,r),a=60*a+.5),[0|a,l||0,o]}function bS(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(sS)}function wS(e,t,n){return bS(gS,e,t,n)}function xS(e){return(e%360+360)%360}function _S(e){const t=pS.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?rS(+t[5]):sS(+t[5]));const r=xS(+t[2]),s=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return bS(vS,e,t,n)}(r,s,o):"hsv"===t[1]?function(e,t,n){return bS(mS,e,t,n)}(r,s,o):wS(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}const kS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},SS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let IS;function TS(e){IS||(IS=function(){const e={},t=Object.keys(SS),n=Object.keys(kS);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,kS[s]);s=parseInt(SS[o],16),e[a]=[s>>16&255,s>>8&255,255&s]}return e}(),IS.transparent=[0,0,0,0]);const t=IS[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const ES=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const CS=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,AS=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function NS(e,t,n){if(e){let i=yS(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=wS(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function DS(e,t){return e?Object.assign(t||{},e):e}function PS(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=sS(e[3]))):(t=DS(e,{r:0,g:0,b:0,a:1})).a=sS(t.a),t}function MS(e){return"r"===e.charAt(0)?function(e){const t=ES.exec(e);let n,i,r,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?rS(e):iS(255*e,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?rS(n):iS(n,0,255)),i=255&(t[4]?rS(i):iS(i,0,255)),r=255&(t[6]?rS(r):iS(r,0,255)),{r:n,g:i,b:r,a:s}}}(e):_S(e)}class RS{constructor(e){if(e instanceof RS)return e;const t=typeof e;let n;"object"===t?n=PS(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*lS[e[1]],g:255&17*lS[e[2]],b:255&17*lS[e[3]],a:5===n?17*lS[e[4]]:255}:7!==n&&9!==n||(t={r:lS[e[1]]<<4|lS[e[2]],g:lS[e[3]]<<4|lS[e[4]],b:lS[e[5]]<<4|lS[e[6]],a:9===n?lS[e[7]]<<4|lS[e[8]]:255})),t}(e)||TS(e)||MS(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=DS(this._rgb);return e&&(e.a=oS(e.a)),e}set rgb(e){this._rgb=PS(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(oS(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?fS(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=yS(e),n=t[0],i=aS(t[1]),r=aS(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(oS(e.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const s=t===r?.5:t,o=2*s-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const i=AS(oS(e.r)),r=AS(oS(e.g)),s=AS(oS(e.b));return{r:sS(CS(i+n*(AS(oS(t.r))-i))),g:sS(CS(r+n*(AS(oS(t.g))-r))),b:sS(CS(s+n*(AS(oS(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new RS(this.rgb)}alpha(e){return this._rgb.a=sS(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=nS(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return NS(this._rgb,2,e),this}darken(e){return NS(this._rgb,2,-e),this}saturate(e){return NS(this._rgb,1,e),this}desaturate(e){return NS(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=yS(e);n[0]=xS(n[0]+t),n=wS(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function OS(){}const LS=(()=>{let e=0;return()=>e++})();function FS(e){return null===e||"undefined"===typeof e}function jS(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function VS(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function zS(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function US(e,t){return zS(e)?e:t}function BS(e,t){return"undefined"===typeof e?t:e}const qS=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function KS(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function WS(e,t,n,i){let r,s,o;if(jS(e))if(s=e.length,i)for(r=s-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<s;r++)t.call(n,e[r],r);else if(VS(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function HS(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function GS(e){if(jS(e))return e.map(GS);if(VS(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=GS(e[n[r]]);return t}return e}function XS(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function YS(e,t,n,i){if(!XS(e))return;const r=t[e],s=n[e];VS(r)&&VS(s)?QS(r,s,i):t[e]=GS(s)}function QS(e,t,n){const i=jS(t)?t:[t],r=i.length;if(!VS(e))return e;const s=(n=n||{}).merger||YS;let o;for(let a=0;a<r;++a){if(o=i[a],!VS(o))continue;const t=Object.keys(o);for(let i=0,r=t.length;i<r;++i)s(t[i],e,o,n)}return e}function JS(e,t){return QS(e,t,{merger:ZS})}function ZS(e,t,n){if(!XS(e))return;const i=t[e],r=n[e];VS(i)&&VS(r)?JS(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=GS(r))}const $S={"":e=>e,x:e=>e.x,y:e=>e.y};function eI(e,t){const n=$S[t]||($S[t]=function(e){const t=function(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function tI(e){return e.charAt(0).toUpperCase()+e.slice(1)}const nI=e=>"undefined"!==typeof e,iI=e=>"function"===typeof e,rI=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const sI=Math.PI,oI=2*sI,aI=oI+sI,lI=Number.POSITIVE_INFINITY,cI=sI/180,uI=sI/2,hI=sI/4,dI=2*sI/3,fI=Math.log10,pI=Math.sign;function gI(e,t,n){return Math.abs(e-t)<n}function mI(e){const t=Math.round(e);e=gI(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(fI(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function vI(e){return!isNaN(parseFloat(e))&&isFinite(e)}function yI(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function bI(e){return e*(sI/180)}function wI(e){return e*(180/sI)}function xI(e){if(!zS(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function _I(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*sI&&(s+=oI),{angle:s,distance:r}}function kI(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function SI(e,t){return(e-t+aI)%oI-sI}function II(e){return(e%oI+oI)%oI}function TI(e,t,n,i){const r=II(e),s=II(t),o=II(n),a=II(s-r),l=II(o-r),c=II(r-s),u=II(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function EI(e,t,n){return Math.max(t,Math.min(n,e))}function CI(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function AI(e,t,n){n=n||(n=>e[n]<t);let i,r=e.length-1,s=0;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const NI=(e,t,n,i)=>AI(e,n,i?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),DI=(e,t,n)=>AI(e,n,(i=>e[i][t]>=n));const PI=["push","pop","shift","splice","unshift"];function MI(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(PI.forEach((t=>{delete e[t]})),delete e._chartjs)}function RI(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const OI="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function LI(e,t){let n=[],i=!1;return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];n=s,i||(i=!0,OI.call(window,(()=>{i=!1,e.apply(t,n)})))}}const FI=e=>"start"===e?"left":"end"===e?"right":"center",jI=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function VI(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(r=EI(Math.min(NI(a,l,c).lo,n?i:NI(t,l,o.getPixelForValue(c)).lo),0,i-1)),s=d?EI(Math.max(NI(a,o.axis,u,!0).hi+1,n?0:NI(t,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function zI(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const UI=e=>0===e||1===e,BI=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*oI/n),qI=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*oI/n)+1,KI={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*uI),easeOutSine:e=>Math.sin(e*uI),easeInOutSine:e=>-.5*(Math.cos(sI*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>UI(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>UI(e)?e:BI(e,.075,.3),easeOutElastic:e=>UI(e)?e:qI(e,.075,.3),easeInOutElastic(e){const t=.1125;return UI(e)?e:e<.5?.5*BI(2*e,t,.45):.5+.5*qI(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-KI.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*KI.easeInBounce(2*e):.5*KI.easeOutBounce(2*e-1)+.5};function WI(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function HI(e){return WI(e)?e:new RS(e)}function GI(e){return WI(e)?e:new RS(e).saturate(.5).darken(.1).hexString()}const XI=["x","y","borderWidth","radius","tension"],YI=["color","borderColor","backgroundColor"];const QI=new Map;function JI(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=QI.get(n);return i||(i=new Intl.NumberFormat(e,t),QI.set(n,i)),i}(t,n).format(e)}const ZI={values:e=>jS(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=fI(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),JI(e,i,l)},logarithmic(e,t,n){if(0===e)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(fI(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?ZI.numeric.call(this,e,t,n):""}};var $I={formatters:ZI};const eT=Object.create(null),tT=Object.create(null);function nT(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const t=n[i];e=e[t]||(e[t]=Object.create(null))}return e}function iT(e,t,n){return"string"===typeof t?QS(nT(e,t),n):QS(nT(e,""),t)}class rT{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>GI(t.backgroundColor),this.hoverBorderColor=(e,t)=>GI(t.borderColor),this.hoverColor=(e,t)=>GI(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return iT(this,e,t)}get(e){return nT(this,e)}describe(e,t){return iT(tT,e,t)}override(e,t){return iT(eT,e,t)}route(e,t,n,i){const r=nT(this,e),s=nT(this,n),o="_"+t;Object.defineProperties(r,{[o]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=s[i];return VS(e)?Object.assign({},t,e):BS(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var sT=new rT({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:YI},numbers:{type:"number",properties:XI}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$I.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function oT(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function aT(e,t,n,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0===h||null===h||jS(h)){if(jS(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||jS(d)||(o=oT(e,r,s,o,d))}else o=oT(e,r,s,o,h);e.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function lT(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function cT(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function uT(e,t,n,i){hT(e,t,n,i,null)}function hT(e,t,n,i,r){let s,o,a,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*cI;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,i),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:r?e.ellipse(n,i,r/2,g,0,0,oI):e.arc(n,i,g,0,oI),e.closePath();break;case"triangle":u=r?r/2:g,e.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=dI,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=dI,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+hI)*l,h=Math.cos(m+hI)*(r?r/2-c:l),a=Math.sin(m+hI)*l,d=Math.sin(m+hI)*(r?r/2-c:l),e.arc(n-h,i-a,c,m-sI,m-uI),e.arc(n+d,i-o,c,m-uI,m),e.arc(n+h,i+a,c,m,m+uI),e.arc(n-d,i+o,c,m+uI,m+sI),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,e.rect(n-u,i-l,2*u,2*l);break}m+=hI;case"rectRot":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),e.moveTo(n-h,i-a),e.lineTo(n+d,i-o),e.lineTo(n+h,i+a),e.lineTo(n-d,i+o),e.closePath();break;case"crossRot":m+=hI;case"cross":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"star":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o),m+=hI,h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function dT(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function fT(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function pT(e){e.restore()}function gT(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===r!==!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function mT(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function vT(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function yT(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function bT(e,t,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=jS(t)?t:[t],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),FS(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&yT(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),FS(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,i,s.maxWidth)),e.fillText(c,n,i,s.maxWidth),vT(e,n,i,c,s),i+=Number(r.lineHeight);e.restore()}function wT(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*sI,sI,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,sI,uI,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,uI,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-uI,!0),e.lineTo(n+o.topLeft,i)}const xT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_T=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function kT(e,t){const n=(""+e).match(xT);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const ST=e=>+e||0;function IT(e,t){const n={},i=VS(t),r=i?Object.keys(t):t,s=VS(e)?i?n=>BS(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of r)n[o]=ST(s(o));return n}function TT(e){return IT(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ET(e){return IT(e,["topLeft","topRight","bottomLeft","bottomRight"])}function CT(e){const t=TT(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function AT(e,t){e=e||{},t=t||sT.font;let n=BS(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let i=BS(e.style,t.style);i&&!(""+i).match(_T)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:BS(e.family,t.family),lineHeight:kT(BS(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:BS(e.weight,t.weight),string:""};return r.string=function(e){return!e||FS(e.size)||FS(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function NT(e,t,n,i){let r,s,o,a=!0;for(r=0,s=e.length;r<s;++r)if(o=e[r],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),a=!1),void 0!==n&&jS(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function DT(e,t){return Object.assign(Object.create(e),t)}function PT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const r=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=qT("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>PT([i,...e],t,r,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>FT(n,i,(()=>function(e,t,n,i){let r;for(const s of t)if(r=qT(OT(s,e),n),"undefined"!==typeof r)return LT(e,r)?UT(n,i,e,r):r}(i,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>KT(e).includes(t),ownKeys:e=>KT(e),set(e,t,n){const r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function MT(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:RT(e,i),setContext:t=>MT(e,t,n,i),override:r=>MT(e.override(r),t,n,i)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>FT(e,t,(()=>function(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let a=i[t];iI(a)&&o.isScriptable(t)&&(a=function(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||i);a.delete(e),LT(e,l)&&(l=UT(r._scopes,r,e,l));return l}(t,a,e,n));jS(a)&&a.length&&(a=function(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&i(e))return t[s.index%t.length];if(VS(t[0])){const n=t,i=r._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=UT(i,r,e,l);t.push(MT(n,s,o&&o[e],a))}}return t}(t,a,e,o.isIndexable));LT(t,a)&&(a=MT(a,r,s&&s[t],o));return a}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function RT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:iI(n)?n:()=>n,isIndexable:iI(i)?i:()=>i}}const OT=(e,t)=>e?e+tI(t):t,LT=(e,t)=>VS(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function FT(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const i=n();return e[t]=i,i}function jT(e,t,n){return iI(e)?e(t,n):e}const VT=(e,t)=>!0===e?t:"string"===typeof e?eI(t,e):void 0;function zT(e,t,n,i,r){for(const s of t){const t=VT(n,s);if(t){e.add(t);const s=jT(t._fallback,n,r);if("undefined"!==typeof s&&s!==n&&s!==i)return s}else if(!1===t&&"undefined"!==typeof i&&n!==i)return null}return!1}function UT(e,t,n,i){const r=t._rootScopes,s=jT(t._fallback,n,i),o=[...e,...r],a=new Set;a.add(i);let l=BT(a,o,n,s||n,i);return null!==l&&(("undefined"===typeof s||s===n||(l=BT(a,o,s,l,i),null!==l))&&PT(Array.from(a),[""],r,s,(()=>function(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];if(jS(r)&&VS(n))return n;return r||{}}(t,n,i))))}function BT(e,t,n,i,r){for(;n;)n=zT(e,t,n,i,r);return n}function qT(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function KT(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function WT(e,t,n,i){const{iScale:r}=e,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:r.parse(eI(u,s),c)};return o}const HT=Number.EPSILON||1e-14,GT=(e,t)=>t<e.length&&!e[t].skip&&e[t],XT=e=>"x"===e?"y":"x";function YT(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,a=kI(s,r),l=kI(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function QT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=XT(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=GT(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=GT(e,o+1),l){if(c){const e=c[t]-l[t];r[o]=0!==e?(c[n]-l[n])/e:0}s[o]=a?c?pI(r[o-1])!==pI(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(e,t,n){const i=e.length;let r,s,o,a,l,c=GT(e,0);for(let u=0;u<i-1;++u)l=c,c=GT(e,u+1),l&&c&&(gI(t[u],0,HT)?n[u]=n[u+1]=0:(r=n[u]/t[u],s=n[u+1]/t[u],a=Math.pow(r,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=r*o*t[u],n[u+1]=s*o*t[u])))}(e,r,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=XT(n),r=e.length;let s,o,a,l=GT(e,0);for(let c=0;c<r;++c){if(o=a,a=l,l=GT(e,c+1),!a)continue;const r=a[n],u=a[i];o&&(s=(r-o[n])/3,a["cp1".concat(n)]=r-s,a["cp1".concat(i)]=u-s*t[c]),l&&(s=(l[n]-r)/3,a["cp2".concat(n)]=r+s,a["cp2".concat(i)]=u+s*t[c])}}(e,s,t)}function JT(e,t,n){return Math.max(Math.min(e,n),t)}function ZT(e,t,n,i,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)QT(e,r);else{let n=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=YT(n,a,e[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,i,r,s,o,a=dT(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=a,a=n<i-1&&dT(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=JT(r.cp1x,t.left,t.right),r.cp1y=JT(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=JT(r.cp2x,t.left,t.right),r.cp2y=JT(r.cp2y,t.top,t.bottom)))}(e,n)}function $T(){return"undefined"!==typeof window&&"undefined"!==typeof document}function eE(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function tE(e,t,n){let i;return"string"===typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const nE=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const iE=["top","right","bottom","left"];function rE(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=iE[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const sE=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function oE(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=nE(n),s="border-box"===r.boxSizing,o=rE(r,"padding"),a=rE(r,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let o,a,l=!1;if(sE(r,s,e.target))o=r,a=s;else{const e=t.getBoundingClientRect();o=i.clientX-e.left,a=i.clientY-e.top,l=!0}return{x:o,y:a,box:l}}(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=t;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}const aE=e=>Math.round(10*e)/10;function lE(e,t,n,i){const r=nE(e),s=rE(r,"margin"),o=tE(r.maxWidth,e,"clientWidth")||lI,a=tE(r.maxHeight,e,"clientHeight")||lI,l=function(e,t,n){let i,r;if(void 0===t||void 0===n){const s=e&&eE(e);if(s){const e=s.getBoundingClientRect(),o=nE(s),a=rE(o,"border","width"),l=rE(o,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,i=tE(o.maxWidth,s,"clientWidth"),r=tE(o.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||lI,maxHeight:r||lI}}(e,t,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const e=rE(r,"border","width"),t=rE(r,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=aE(Math.min(c,o,l.maxWidth)),u=aE(Math.min(u,a,l.maxHeight)),c&&!u&&(u=aE(c/2));return(void 0!==t||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=aE(Math.floor(u*i))),{width:c,height:u}}function cE(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0)}const uE=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};$T()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function hE(e,t){const n=function(e,t){return nE(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function dE(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function fE(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function pE(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=dE(e,r,n),a=dE(r,s,n),l=dE(s,t,n),c=dE(o,a,n),u=dE(a,l,n);return dE(c,u,n)}function gE(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function mE(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function vE(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function yE(e){return"angle"===e?{between:TI,compare:SI,normalize:II}:{between:CI,compare:(e,t)=>e-t,normalize:e=>e}}function bE(e){let{start:t,end:n,count:i,loop:r,style:s}=e;return{start:t%i,end:n%i,loop:r&&(n-t+1)%i===0,style:s}}function wE(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=yE(i),{start:u,end:h,loop:d,style:f}=function(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=yE(i),l=t.length;let c,u,{start:h,end:d,loop:f}=e;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&o(a(t[h%l][i]),r,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:e.style}}(e,t,n),p=[];let g,m,v,y=!1,b=null;const w=()=>y||l(r,v,g)&&0!==a(r,v),x=()=>!y||0===a(s,g)||l(s,v,g);for(let _=u,k=u;_<=h;++_)m=t[_%o],m.skip||(g=c(m[i]),g!==v&&(y=l(g,r,s),null===b&&w()&&(b=0===a(g,r)?_:k),null!==b&&x()&&(p.push(bE({start:b,end:_,loop:d,count:o,style:f})),b=null),k=_,v=g));return null!==b&&p.push(bE({start:b,end:h,loop:d,count:o,style:f})),p}function xE(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=wE(i[r],e.points,t);s.length&&n.push(...s)}return n}function _E(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const r=e._chart.getContext(),s=kE(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=s,h=t[0].start,d=h;function f(e,t,i,r){const s=a?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:i,style:r}),u=r,h=t%l)}}for(const p of t){h=a?h:p.start;let e,t=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];e=kE(i.setContext(DT(r,{type:"segment",p0:t,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),SE(e,u)&&f(h,d-1,p.loop,u),t=s,u=e}h<d-1&&f(h,d-1,p.loop,u)}return c}(e,t,n,i):t}function kE(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function SE(e,t){if(!t)return!1;const n=[],i=function(e,t){return WI(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)}class IE{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],s=t.duration;r.forEach((i=>i({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=OI.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var TE=new IE;const EE="transparent",CE={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=HI(e||EE),r=i.valid&&HI(t||EE);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class AE{constructor(e,t,n,i){const r=t[n];i=NT([e.to,i,r,e.from]);const s=NT([e.from,r,i]);this._active=!0,this._fn=e.fn||CE[e.type||typeof s],this._easing=KI[e.easing]||KI.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=NT([e.to,t,i,e.from]),this._from=NT([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||t<n),!this._active)return this._target[i]=o,void this._notify(!0);t<0?this._target[i]=r:(a=t/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,o,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class NE{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!VS(e))return;const t=Object.keys(sT.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((i=>{const r=e[i];if(!VS(r))return;const s={};for(const e of t)s[e]=r[e];(jS(r.properties)&&r.properties||[i]).forEach((e=>{e!==i&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const t=e[i[r]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(r[l]=u=new AE(h,e,l,c),i.push(u)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(TE.add(this._chart,n),!0):void 0}}function DE(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:i?s:r,end:i?r:s}}function PE(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function ME(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=e.keys,s="single"===i.mode;let o,a,l,c;if(null!==t){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=e.values[l],zS(c)&&(s||0===t||pI(t)===pI(c))&&(t+=c)}return t}}function RE(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function OE(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function LE(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const t=e[r.index];if(n&&t>0||!n&&t<0)return r.index}return null}function FE(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(s,o,i),h=t.length;let d;for(let f=0;f<h;++f){const e=t[f],{[l]:n,[c]:s}=e;d=(e._stacks||(e._stacks={}))[c]=OE(r,u,n),d[a]=s,d._top=LE(d,o,!0,i.type),d._bottom=LE(d,o,!1,i.type);(d._visualValues||(d._visualValues={}))[a]=s}}function jE(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function VE(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n],void 0!==t[i]._visualValues&&void 0!==t[i]._visualValues[n]&&delete t[i]._visualValues[n]}}}const zE=e=>"reset"===e||"none"===e,UE=(e,t)=>t?e:Object.assign({},e);class BE{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=RE(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&VE(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,r=t.xAxisID=BS(n.xAxisID,jE(e,"x")),s=t.yAxisID=BS(n.yAxisID,jE(e,"y")),o=t.rAxisID=BS(n.rAxisID,jE(e,"r")),a=t.indexAxis,l=t.iAxisID=i(a,r,s,o),c=t.vAxisID=i(a,s,r,o);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&MI(this._data,this),e._stacked&&VE(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(VS(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:i}=t,r="x"===n.axis?"x":"y",s="x"===i.axis?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:e[u]};return a}(t,e)}else if(n!==t){if(n){MI(n,this);const e=this._cachedMeta;VE(e),e._parsed=[]}t&&Object.isExtensible(t)&&(r=this,(i=t)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),PI.forEach((e=>{const t="_onData"+tI(e),n=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];const o=n.apply(this,r);return i._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...r)})),o}})})))),this._syncList=[],this._data=t}var i,r}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=RE(t.vScale,t),t.stack!==n.stack&&(i=!0,VE(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&FE(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,o=r.axis;let a,l,c,u=0===e&&t===i.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=jS(i[e])?this.parseArrayData(n,i,e,t):VS(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const r=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<t;++a)n._parsed[a+e]=l=c[a],u&&(r()&&(u=!1),h=l);n._sorted=u}s&&FE(this,c)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:s}=e,o=r.axis,a=s.axis,l=r.getLabels(),c=r===s,u=new Array(i);let h,d,f;for(h=0,d=i;h<d;++h)f=h+n,u[h]={[o]:c||r.parse(l[f],f),[a]:s.parse(t[f],f)};return u}parseArrayData(e,t,n,i){const{xScale:r,yScale:s}=e,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={x:r.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(e,t,n,i){const{xScale:r,yScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=t[h],l[c]={x:r.parse(eI(d,o),h),y:s.parse(eI(d,a),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,s=t[e.axis];return ME({keys:PE(i,!0),values:t._stacks[e.axis]._visualValues},s,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let s=null===r?NaN:r;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,s=ME(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,s=i.length,o=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:PE(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=i[h];const t=d[o.axis];return!zS(d[e.axis])||c>t||u<t}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,e,d,a),!r));++h);if(r)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,e,d,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i][e.axis],zS(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,r;return VS(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(BS(this.options.clip,function(e,t,n){if(!1===n)return!1;const i=DE(e,n),r=DE(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,r,o,a),c=o;c<o+a;++c){const t=i[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,r))}for(c=0;c<s.length;++c)s[c].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,n){return DT(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return DT(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===t,r=this._cachedDataOpts,s=e+"-"+t,o=r[s],a=this.enableOptionSharing&&nI(n);if(o)return UE(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=i?["".concat(e,"Hover"),"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(sT.elements[e]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,i,t)),u);return f.$shared&&(f.$shared=a,r[s]=Object.freeze(UE(f,a))),f}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,s="animation-".concat(t),o=r[s];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,t),s=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(s,this.getContext(e,n,t))}const l=new NE(i,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||zE(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:s}}updateElement(e,t,n,i){zE(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!zE(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,r=t.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,s=e+t;let o;const a=e=>{for(e.length+=t,o=e.length-1;o>=s;o--)e[o]=e[o-t]};for(a(r),o=e;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&VE(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function qE(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,r=n.length;t<r;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=RI(i.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let i,r,s,o,a=t._length;const l=()=>{32767!==s&&-32768!==s&&(nI(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(i=0,r=n.length;i<r;++i)s=t.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=t.ticks.length;i<r;++i)s=t.getPixelForTick(i),l();return a}function KE(e,t,n,i){return jS(e)?function(e,t,n,i){const r=n.parse(e[0],i),s=n.parse(e[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function WE(e,t,n,i){const r=e.iScale,s=e.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=t[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(KE(d,h,s,c));return l}function HE(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function GE(e,t,n,i){let r=t.borderSkipped;const s={};if(!r)return void(e.borderSkipped=s);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(e){let t,n,i,r,s;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:t,top:r,bottom:s}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[XE(u,o,a,l)]=!0,r=c)),s[XE(r,o,a,l)]=!0,e.borderSkipped=s}function XE(e,t,n,i){var r,s,o;return i?(o=n,e=YE(e=(r=e)===(s=t)?o:r===o?s:r,n,t)):e=YE(e,t,n),e}function YE(e,t,n){return"start"===e?t:"end"===e?n:e}function QE(e,t,n){let{inflateAmount:i}=t;e.inflateAmount="auto"===i?1===n?.33:0:i}tS(BE,"defaults",{}),tS(BE,"datasetElementType",null),tS(BE,"dataElementType",null);class JE extends BE{parsePrimitiveData(e,t,n,i){return WE(e,t,n,i)}parseArrayData(e,t,n,i){return WE(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?o:a,c="x"===s.axis?o:a,u=[];let h,d,f,p;for(h=n,d=n+i;h<d;++h)p=t[h],f={},f[r.axis]=r.parse(eI(p,l),h),u.push(KE(eI(p,c),f,s,h));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),s=r._custom,o=HE(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r="reset"===i,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,i);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=r||FS(t[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(t._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||HE(t._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,e[d].active?"active":i));const m=g.options||e[d].options;GE(g,m,p,s),QE(g,m,c.ratio),this.updateElement(e[d],d,g,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),r=n.options.stacked,s=[],o=e=>{const n=e.controller.getParsed(t),i=n&&n[e.vScale.axis];if(FS(i)||isNaN(i))return!0};for(const a of i)if((void 0===t||!o(a))&&((!1===r||-1===s.indexOf(a.stack)||void 0===r&&void 0===a.stack)&&s.push(a.stack),a.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,s;for(r=0,s=t.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=e.barThickness;return{min:o||qE(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(e),l=a._custom,c=HE(l);let u,h,d=a[t.axis],f=0,p=n?this.applyStack(t,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&pI(d)!==pI(l.barEnd)&&(f=0),f+=d);const g=FS(r)||c?f:r;let m=t.getPixelForValue(g);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<s){h=function(e,t,n){return 0!==e?pI(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,o)*s,d===o&&(m-=h/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),l=Math.min(e,r),f=Math.max(e,r);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(a._stacks[t.axis]._visualValues[i]=t.getValueForPixel(u)-t.getValueForPixel(m))}if(m===t.getPixelForValue(o)){const e=pI(h)*t.getLineWidthForValue(o)/2;m+=e,h-=e}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,s=BS(i.maxBarThickness,1/0);let o,a;if(t.grouped){const n=r?this._getStackCount(e):t.stackCount,l="flex"===i.barThickness?function(e,t,n,i){const r=t.pixels,s=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?t.end-t.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}(e,t,i,n):function(e,t,n,i){const r=n.barThickness;let s,o;return FS(r)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[e]-s/2}}(e,t,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(s,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),a=Math.min(s,t.min*t.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)null===this.getParsed(r)[t.axis]||n[r].hidden||n[r].draw(this._ctx)}}tS(JE,"id","bar"),tS(JE,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),tS(JE,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ZE extends BE{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const r=super.parsePrimitiveData(e,t,n,i);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+n).radius;return r}parseArrayData(e,t,n,i){const r=super.parseArrayData(e,t,n,i);for(let s=0;s<r.length;s++){const e=t[n+s];r[s]._custom=BS(e[2],this.resolveDataElementOptions(s+n).radius)}return r}parseObjectData(e,t,n,i){const r=super.parseObjectData(e,t,n,i);for(let s=0;s<r.length;s++){const e=t[n+s];r[s]._custom=BS(e&&e.r&&+e.r,this.resolveDataElementOptions(s+n).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,s=this.getParsed(e),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y),l=s._custom;return{label:n[e]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,i),c=s.axis,u=o.axis;for(let h=t;h<t+n;h++){const t=e[h],n=!r&&this.getParsed(h),d={},f=d[c]=r?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=d[u]=r?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,t.active?"active":i),r&&(d.options.radius=0)),this.updateElement(t,h,d,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==t&&(i.radius=0),i.radius+=BS(n&&n._custom,r),i}}tS(ZE,"id","bubble"),tS(ZE,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),tS(ZE,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class $E extends BE{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,s,o=e=>+n[e];if(VS(n[e])){const{key:e="value"}=this._parsing;o=t=>+eI(n[t],e)}for(r=e,s=e+t;r<s;++r)i._parsed[r]=o(r)}}_getRotation(){return bI(this.options.rotation-90)}_getCircumference(){return bI(this.options.circumference)}_getRotationExtents(){let e=oI,t=-oI;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),s=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(e,t,n){let i=1,r=1,s=0,o=0;if(t<oI){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(e,t,i)=>TI(e,a,l,!0)?1:Math.max(t,t*n,i,i*n),p=(e,t,i)=>TI(e,a,l,!0)?-1:Math.min(t,t*n,i,i*n),g=f(0,c,h),m=f(uI,u,d),v=p(sI,c,h),y=p(sI+uI,u,d);i=(g-v)/2,r=(m-y)/2,s=-(g+v)/2,o=-(m+y)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(d,h,a),v=(n.width-s)/f,y=(n.height-s)/p,b=Math.max(Math.min(v,y)/2,0),w=qS(this.options.radius,b),x=(w-Math.max(w*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,i.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/oI)}updateElements(e,t,n,i){const r="reset"===i,s=this.chart,o=s.chartArea,a=s.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=r&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,i);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,r);for(g=t;g<t+n;++g){const t=this._circumference(g,r),n=e[g],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":i)),m+=t,this.updateElement(n,g,s,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,i=0;for(n=0;n<t.length;n++){const r=e._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||t[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?oI*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=JI(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,s,o,a;if(!e)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),e=s.data,o=s.controller;break}if(!e)return 0;for(i=0,r=e.length;i<r;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(BS(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}tS($E,"id","doughnut"),tS($E,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),tS($E,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),tS($E,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const s=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class eC extends BE{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,s=this.chart._animationsDisabled;let{start:o,count:a}=VI(t,i,s);this._drawStart=o,this._drawCount=a,zI(t)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(i,o,a,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,i),h=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,g=vI(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===i,v=t+n,y=e.length;let b=t>0&&this.getParsed(t-1);for(let w=0;w<y;++w){const n=e[w],f=m?n:{};if(w<t||w>=v){f.skip=!0;continue}const y=this.getParsed(w),x=FS(y[d]),_=f[h]=s.getPixelForValue(y[h],w),k=f[d]=r||x?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,y,a):y[d],w);f.skip=isNaN(_)||isNaN(k)||x,f.stop=w>0&&Math.abs(y[h]-b[h])>g,p&&(f.parsed=y,f.raw=l.data[w]),u&&(f.options=c||this.resolveDataElementOptions(w,n.active?"active":i)),m||this.updateElement(n,w,f,i),b=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}tS(eC,"id","line"),tS(eC,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),tS(eC,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class tC extends BE{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=JI(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,n,i){return WT.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),s=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,n,i){const r="reset"===i,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*sI;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<t;++h)d+=this._computeAngle(h,i,f);for(h=t;h<t+n;h++){const t=e[h];let n=d,p=d+this._computeAngle(h,i,f),g=s.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,r&&(o.animateScale&&(g=0),o.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,t.active?"active":i)};this.updateElement(t,h,m,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?bI(this.resolveDataElementOptions(e,t).angle||n):0}}tS(tC,"id","polarArea"),tS(tC,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),tS(tC,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const s=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class nC extends $E{}tS(nC,"id","pie"),tS(nC,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class iC extends BE{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return WT.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===i.length,options:t};this.updateElement(n,void 0,s,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const r=this._cachedMeta.rScale,s="reset"===i;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":i),a=r.getPointPositionForValue(o,this.getParsed(o).r),l=s?r.xCenter:a.x,c=s?r.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,o,u,i)}}}tS(iC,"id","radar"),tS(iC,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),tS(iC,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class rC extends BE{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,s=this.getParsed(e),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y);return{label:n[e]||"",value:"("+o+", "+a+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:s}=VI(t,n,i);if(this._drawStart=r,this._drawCount=s,zI(t)&&(r=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:s}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,r,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),d=s.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=vI(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===i;let y=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),c=v?t:{},p=FS(n[f]),w=c[d]=s.getPixelForValue(n[d],b),x=c[f]=r||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],b);c.skip=isNaN(w)||isNaN(x)||p,c.stop=b>0&&Math.abs(n[d]-y[d])>m,g&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,t.active?"active":i)),v||this.updateElement(t,b,c,i),y=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,s)/2}}tS(rC,"id","scatter"),tS(rC,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),tS(rC,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function sC(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class oC{static override(e){Object.assign(oC.prototype,e)}constructor(e){tS(this,"options",void 0),this.options=e||{}}init(){}formats(){return sC()}parse(){return sC()}format(){return sC()}add(){return sC()}diff(){return sC()}startOf(){return sC()}endOf(){return sC()}}var aC=oC;function lC(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&o&&s.length){const e=a._reversePixels?DI:NI;if(!i)return e(s,t,n);if(r._sharedOptions){const i=s[0],r="function"===typeof i.getRange&&i.getRange(t);if(r){const i=e(s,t,n-r),o=e(s,t,n+r);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function cC(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:e,data:n}=s[a],{lo:l,hi:c}=lC(s[a],t,o,r);for(let t=l;t<=c;++t){const r=n[t];r.skip||i(r,e,t)}}}function uC(e,t,n,i,r){const s=[];if(!r&&!e.isPointInArea(t))return s;return cC(e,n,t,(function(n,o,a){(r||dT(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function hC(e,t,n,i,r,s){let o=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const r=t?Math.abs(e.x-i.x):0,s=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return cC(e,n,t,(function(n,c,u){const h=n.inRange(t.x,t.y,r);if(i&&!h)return;const d=n.getCenterPoint(r);if(!(!!s||e.isPointInArea(d))&&!h)return;const f=a(t,d);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function dC(e,t,n,i,r,s){return s||e.isPointInArea(t)?"r"!==n||i?hC(e,t,n,i,r,s):function(e,t,n,i){let r=[];return cC(e,n,t,(function(e,n,s){const{startAngle:o,endAngle:a}=e.getProps(["startAngle","endAngle"],i),{angle:l}=_I(e,{x:t.x,y:t.y});TI(l,o,a)&&r.push({element:e,datasetIndex:n,index:s})})),r}(e,t,n,r):[]}function fC(e,t,n,i,r){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return cC(e,n,t,((e,i,l)=>{e[o](t[n],r)&&(s.push({element:e,datasetIndex:i,index:l}),a=a||e.inRange(t.x,t.y,r))})),i&&!a?[]:s}var pC={evaluateInteractionItems:cC,modes:{index(e,t,n,i){const r=oE(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?uC(e,r,s,i,o):dC(e,r,s,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,i){const r=oE(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?uC(e,r,s,i,o):dC(e,r,s,!1,i,o);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,i)=>uC(e,oE(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const r=oE(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return dC(e,r,s,n.intersect,i,o)},x:(e,t,n,i)=>fC(e,oE(t,e),"x",n.intersect,i),y:(e,t,n,i)=>fC(e,oE(t,e),"y",n.intersect,i)}};const gC=["left","top","right","bottom"];function mC(e,t){return e.filter((e=>e.pos===t))}function vC(e,t){return e.filter((e=>-1===gC.indexOf(e.pos)&&e.box.axis===t))}function yC(e,t){return e.sort(((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function bC(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:r}=n;if(!e||!gC.includes(i))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:o&&t.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:o&&t.availableHeight)}return n}function wC(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function xC(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function _C(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!VS(r)){n.size&&(e[r]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[r]+=n.size}s.getPadding&&xC(o,s.getPadding());const a=Math.max(0,t.outerWidth-wC(o,e,"left","right")),l=Math.max(0,t.outerHeight-wC(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function kC(e,t){const n=t.maxPadding;function i(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{i[e]=Math.max(t[e],n[e])})),i}return i(e?["left","right"]:["top","bottom"])}function SC(e,t,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,kC(a.horizontal,t));const{same:o,other:h}=_C(t,n,a,i);c|=o&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&SC(r,t,n,i)||u}function IC(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function TC(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const a of e){const e=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=t.w*c,s=l.size||e.height;nI(l.start)&&(o=l.start),e.fullSize?IC(e,r.left,o,n.outerWidth-r.right-r.left,s):IC(e,t.left+l.placed,o,i,s),l.start=o,l.placed+=i,o=e.bottom}else{const i=t.h*c,o=l.size||e.width;nI(l.start)&&(s=l.start),e.fullSize?IC(e,s,r.top,o,n.outerHeight-r.bottom-r.top):IC(e,s,t.top+l.placed,o,i),l.start=s,l.placed+=i,s=e.right}}t.x=s,t.y=o}var EC={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=CT(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=function(e){const t=function(e){const t=[];let n,i,r,s,o,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}(e),n=yC(t.filter((e=>e.box.fullSize)),!0),i=yC(mC(t,"left"),!0),r=yC(mC(t,"right")),s=yC(mC(t,"top"),!0),o=yC(mC(t,"bottom")),a=vC(t,"x"),l=vC(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:mC(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(e.boxes),l=a.vertical,c=a.horizontal;WS(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);xC(d,CT(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=bC(l.concat(c),h);SC(a.fullSize,f,h,p),SC(l,f,h,p),SC(c,f,h,p)&&SC(l,f,h,p),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),TC(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,TC(a.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},WS(a.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class CC{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class AC extends CC{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const NC="$chartjs",DC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},PC=e=>null===e||""===e;const MC=!!uE&&{passive:!0};function RC(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,MC)}function OC(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function LC(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||OC(n.addedNodes,i),t=t&&!OC(n.removedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function FC(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||OC(n.removedNodes,i),t=t&&!OC(n.addedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const jC=new Map;let VC=0;function zC(){const e=window.devicePixelRatio;e!==VC&&(VC=e,jC.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function UC(e,t,n){const i=e.canvas,r=i&&eE(i);if(!r)return;const s=LI(((e,t)=>{const i=r.clientWidth;n(e,t),i<r.clientWidth&&n()}),window),o=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||s(n,i)}));return o.observe(r),function(e,t){jC.size||window.addEventListener("resize",zC),jC.set(e,t)}(e,s),o}function BC(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){jC.delete(e),jC.size||window.removeEventListener("resize",zC)}(e)}function qC(e,t,n){const i=e.canvas,r=LI((t=>{null!==e.ctx&&n(function(e,t){const n=DC[e.type]||e.type,{x:i,y:r}=oE(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,MC)}(i,t,r),r}class KC extends CC{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[NC]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",PC(r)){const t=hE(e,"width");void 0!==t&&(e.width=t)}if(PC(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=hE(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[NC])return!1;const n=t[NC].initial;["height","width"].forEach((e=>{const i=n[e];FS(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=n.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t[NC],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),r={attach:LC,detach:FC,resize:UC}[t]||qC;i[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:BC,detach:BC,resize:BC}[t]||RC)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return lE(e,t,n,i)}isAttached(e){const t=e&&eE(e);return!(!t||!t.isConnected)}}class WC{constructor(){tS(this,"x",void 0),tS(this,"y",void 0),tS(this,"active",!1),tS(this,"options",void 0),tS(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return vI(this.x)&&vI(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach((e=>{i[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),i}}function HC(e,t){const n=e.options.ticks,i=function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return function(e,t,n,i){let r,s=0,o=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===o&&(t.push(e[r]),s++,o=n[s*i])}(t,c,s,o/r),c;const u=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const s=function(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(i);for(let o=0,a=s.length-1;o<a;o++){const e=s[o];if(e>r)return e}return Math.max(r,1)}(s,t,r);if(o>0){let e,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(GC(t,c,u,FS(i)?0:a-i,a),e=0,n=o-1;e<n;e++)GC(t,c,u,s[e],s[e+1]);return GC(t,c,u,l,FS(i)?t.length:l+i),c}return GC(t,c,u),c}function GC(e,t,n,i,r){const s=BS(i,0),o=Math.min(BS(r,e.length),e.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(t.push(e[l]),u++,c=Math.round(s+u*n))}tS(WC,"defaults",{}),tS(WC,"defaultRoutes",void 0);const XC=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,YC=(e,t)=>Math.min(t||e,e);function QC(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function JC(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-s,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<s-a||c>o+a)))return c}function ZC(e){return e.drawTicks?e.tickLength:0}function $C(e,t){if(!e.display)return 0;const n=AT(e.font,t),i=CT(e.padding);return(jS(e.text)?e.text.length:1)*n.lineHeight+i.height}function eA(e,t,n){let i=FI(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class tA extends WC{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=US(e,Number.POSITIVE_INFINITY),t=US(t,Number.NEGATIVE_INFINITY),n=US(n,Number.POSITIVE_INFINITY),i=US(i,Number.NEGATIVE_INFINITY),{min:US(e,n),max:US(t,i),minDefined:zS(e),maxDefined:zS(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)t=o[a].controller.getMinMax(this,e),r||(n=Math.min(n,t.min)),s||(i=Math.max(i,t.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:US(n,US(i,n)),max:US(i,US(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){KS(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:i,max:r}=e,s=qS(t,(r-i)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?QC(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=HC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){KS(this.options.afterUpdate,[this])}beforeSetDimensions(){KS(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){KS(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),KS(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){KS(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=KS(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){KS(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){KS(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=YC(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let s,o,a,l=i;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=EI(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(e.offset?.5:1)),o=this.maxHeight-ZC(e.grid)-t.padding-$C(e.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=wI(Math.min(Math.asin(EI((c.highest.height+6)/s,-1,1)),Math.asin(EI(o/a,-1,1))-Math.asin(EI(h/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){KS(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){KS(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=$C(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=ZC(r)+s):(e.height=this.maxHeight,e.width=ZC(r)+s),n.display&&this.ticks.length){const{first:t,last:i,widest:r,highest:s}=this._getLabelSizes(),a=2*n.padding,l=bI(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const t=n.mirror?0:u*r.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:c*r.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,i,u,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*e.width,h=n*t.height):(u=n*e.height,h=i*t.width):"start"===r?h=t.width:"end"===r?u=e.width:"inner"!==r&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,i=e.height/2;"start"===r?(n=0,i=e.height):"end"===r&&(n=t.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){KS(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)FS(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=QC(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[],a=Math.floor(t/YC(t,n));let l,c,u,h,d,f,p,g,m,v,y,b=0,w=0;for(l=0;l<t;l+=a){if(h=e[l].label,d=this._resolveTickFontOptions(l),i.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},g=d.lineHeight,m=v=0,FS(h)||jS(h)){if(jS(h))for(c=0,u=h.length;c<u;++c)y=h[c],FS(y)||jS(y)||(m=oT(i,p.data,p.gc,m,y),v+=g)}else m=oT(i,p.data,p.gc,m,h),v=g;s.push(m),o.push(v),b=Math.max(m,b),w=Math.max(v,w)}!function(e,t){WS(e,(e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}}))}(r,t);const x=s.indexOf(b),_=o.indexOf(w),k=e=>({width:s[e]||0,height:o[e]||0});return{first:k(0),last:k(t-1),widest:k(x),highest:k(_),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return EI(this._alignToPixels?lT(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return DT(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=DT(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=bI(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),s=e.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:s,border:o}=i,a=r.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=ZC(r),h=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(e){return lT(n,e,f)};let m,v,y,b,w,x,_,k,S,I,T,E;if("top"===s)m=g(this.bottom),x=this.bottom-u,k=m-p,I=g(e.top)+p,E=e.bottom;else if("bottom"===s)m=g(this.top),I=e.top,E=g(e.bottom)-p,x=m+p,k=this.top+u;else if("left"===s)m=g(this.right),w=this.right-u,_=m-p,S=g(e.left)+p,T=e.right;else if("right"===s)m=g(this.left),S=e.left,T=g(e.right)-p,w=m+p,_=this.left+u;else if("x"===t){if("center"===s)m=g((e.top+e.bottom)/2+.5);else if(VS(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}I=e.top,E=e.bottom,x=m+p,k=x+u}else if("y"===t){if("center"===s)m=g((e.left+e.right)/2);else if(VS(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}w=m-p,_=w-u,S=e.left,T=e.right}const C=BS(i.ticks.maxTicksLimit,c),A=Math.max(1,Math.ceil(c/C));for(v=0;v<c;v+=A){const e=this.getContext(v),t=r.setContext(e),i=o.setContext(e),s=t.lineWidth,c=t.color,u=i.dash||[],d=i.dashOffset,f=t.tickWidth,p=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;y=JC(this,v,a),void 0!==y&&(b=lT(n,y,s),l?w=_=S=T=b:x=k=I=E=b,h.push({tx1:w,ty1:x,tx2:_,ty2:k,x1:S,y1:I,x2:T,y2:E,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,h=ZC(n.grid),d=h+c,f=u?-c:d,p=-bI(this.labelRotation),g=[];let m,v,y,b,w,x,_,k,S,I,T,E,C="middle";if("top"===i)x=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===i)x=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,w=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,w=e.x}else if("x"===t){if("center"===i)x=(e.top+e.bottom)/2+d;else if(VS(i)){const e=Object.keys(i)[0],t=i[e];x=this.chart.scales[e].getPixelForValue(t)+d}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)w=(e.left+e.right)/2-d;else if(VS(i)){const e=Object.keys(i)[0],t=i[e];w=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===a?C="top":"end"===a&&(C="bottom"));const A=this._getLabelSizes();for(m=0,v=o.length;m<v;++m){y=o[m],b=y.label;const e=r.setContext(this.getContext(m));k=this.getPixelForTick(m)+r.labelOffset,S=this._resolveTickFontOptions(m),I=S.lineHeight,T=jS(b)?b.length:1;const t=T/2,n=e.color,a=e.textStrokeColor,c=e.textStrokeWidth;let h,d=_;if(s?(w=k,"inner"===_&&(d=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),E="top"===i?"near"===l||0!==p?-T*I+I/2:"center"===l?-A.highest.height/2-t*I+I:-A.highest.height+I/2:"near"===l||0!==p?I/2:"center"===l?A.highest.height/2-t*I:A.highest.height-T*I,u&&(E*=-1),0===p||e.showLabelBackdrop||(w+=I/2*Math.sin(p))):(x=k,E=(1-T)*I/2),e.showLabelBackdrop){const t=CT(e.backdropPadding),n=A.heights[m],i=A.widths[m];let r=E-t.top,s=0-t.left;switch(C){case"middle":r-=n/2;break;case"bottom":r-=n}switch(_){case"center":s-=i/2;break;case"right":s-=i;break;case"inner":m===v-1?s-=i:m>0&&(s-=i/2)}h={left:s,top:r,width:i+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:b,font:S,textOffset:E,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:C,translation:[w,x],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-bI(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=e+r,o=this._getLabelSizes().widest.width;let a,l;return"left"===t?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===t?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,s;const o=(e,t,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(r=0,s=i.length;r<s;++r){const e=i[r];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=lT(e,this.left,s)-s/2,c=lT(e,this.right,o)+o/2,u=h=a):(u=lT(e,this.top,s)-s/2,h=lT(e,this.bottom,o)+o/2,l=c=a),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&fT(t,n);const i=this.getLabelItems(e);for(const r of i){const e=r.options,n=r.font;bT(t,r.label,0,r.textOffset,n,e)}n&&pT(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=AT(n.font),s=CT(n.padding),o=n.align;let a=r.lineHeight/2;"bottom"===t||"center"===t||VS(t)?(a+=s.bottom,jS(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(e,t,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=o-r,m=a-s;if(e.isHorizontal()){if(d=jI(i,s,a),VS(n)){const e=Object.keys(n)[0],i=n[e];f=u[e].getPixelForValue(i)+g-t}else f="center"===n?(c.bottom+c.top)/2+g-t:XC(e,n,t);h=a-s}else{if(VS(n)){const e=Object.keys(n)[0],i=n[e];d=u[e].getPixelForValue(i)-m+t}else d="center"===n?(c.left+c.right)/2-m+t:XC(e,n,t);f=jI(i,o,r),p="left"===n?-uI:uI}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,t,o);bT(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:eA(o,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=BS(e.grid&&e.grid.z,-1),i=BS(e.border&&e.border.z,0);return this._isVisible()&&this.draw===tA.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=t.length;r<s;++r){const s=t[r];s[n]!==this.id||e&&s.type!==e||i.push(s)}return i}_resolveTickFontOptions(e){return AT(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class nA{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,r=e.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){const i=QS(Object.create(null),[n?sT.get(n):{},sT.get(t),e.defaults]);sT.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");sT.route(s,r,l,a)}))}(t,e.defaultRoutes);e.descriptors&&sT.describe(t,e.descriptors)}(e,s,n),this.override&&sT.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in sT[i]&&(delete sT[i][n],this.override&&delete eT[n])}}class iA{constructor(){this.controllers=new nA(BE,"datasets",!0),this.elements=new nA(WC,"elements"),this.plugins=new nA(Object,"plugins"),this.scales=new nA(tA,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):WS(t,(t=>{const i=n||this._getRegistryForType(t);this._exec(e,i,t)}))}))}_exec(e,t,n){const i=tI(e);KS(n["before"+i],[],n),t[e](n),KS(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var rA=new iA;class sA{constructor(){this._init=[]}notify(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,i){i=i||{};for(const r of e){const e=r.plugin;if(!1===KS(e[n],[t,i,r.options],e)&&i.cancelable)return!1}return!0}invalidate(){FS(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=BS(n.options&&n.options.plugins,{}),r=function(e){const t={},n=[],i=Object.keys(rA.plugins.items);for(let s=0;s<i.length;s++)n.push(rA.getPlugin(i[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const e=r[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,t,n,i){let{plugins:r,localIds:s}=t;const o=[],a=e.getContext();for(const l of r){const t=l.id,r=oA(n[t],i);null!==r&&o.push({plugin:l,options:aA(e.config,{plugin:l,local:s[t]},r,a)})}return o}(e,r,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function oA(e,t){return t||!1!==e?!0===e?{}:e:null}function aA(e,t,n,i){let{plugin:r,local:s}=t;const o=e.pluginScopeKeys(r),a=e.getOptionScopes(n,o);return s&&r.defaults&&a.push(r.defaults),e.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lA(e,t){const n=sT.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function cA(e){if("x"===e||"y"===e||"r"===e)return e}function uA(e){if(cA(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const s of n){const t=s.axis||("top"===(r=s.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||e.length>1&&cA(e[0].toLowerCase());if(t)return t}var r;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function hA(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function dA(e,t){const n=eT[e.type]||{scales:{}},i=t.scales||{},r=lA(e.type,t),s=Object.create(null);return Object.keys(i).forEach((t=>{const o=i[t];if(!VS(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const a=uA(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return hA(e,"x",n[0])||hA(e,"y",n[0])}return{}}(t,e),sT.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,r),c=n.scales||{};s[t]=JS(Object.create(null),[{axis:a},o,c[a],c[l]])})),e.data.datasets.forEach((n=>{const r=n.type||e.type,o=n.indexAxis||lA(r,t),a=(eT[r]||{}).scales||{};Object.keys(a).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),r=n[t+"AxisID"]||t;s[r]=s[r]||Object.create(null),JS(s[r],[{axis:t},i[r],a[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];JS(t,[sT.scales[t.type],sT.scale])})),s}function fA(e){const t=e.options||(e.options={});t.plugins=BS(t.plugins,{}),t.scales=dA(e,t)}function pA(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const gA=new Map,mA=new Set;function vA(e,t){let n=gA.get(e);return n||(n=t(),gA.set(e,n),mA.add(n)),n}const yA=(e,t,n)=>{const i=eI(t,n);void 0!==i&&e.add(i)};class bA{constructor(e){this._config=function(e){return(e=e||{}).data=pA(e.data),fA(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=pA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),fA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vA(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return vA("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return vA("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return vA("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,s=this._cachedScopes(e,n),o=s.get(t);if(o)return o;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>yA(a,e,t)))),t.forEach((e=>yA(a,i,e))),t.forEach((e=>yA(a,eT[r]||{},e))),t.forEach((e=>yA(a,sT,e))),t.forEach((e=>yA(a,tT,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),mA.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,eT[t]||{},sT.datasets[t]||{},{type:t},sT,tT]}resolveNamedOptions(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:s,subPrefixes:o}=wA(this._resolverCache,e,i);let a=s;if(function(e,t){const{isScriptable:n,isIndexable:i}=RT(e);for(const r of t){const t=n(r),s=i(r),o=(s||t)&&e[r];if(t&&(iI(o)||xA(o))||s&&jS(o))return!0}return!1}(s,t)){r.$shared=!1;a=MT(s,n=iI(n)?n():n,this.createResolver(e,n,o))}for(const l of t)r[l]=a[l];return r}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=wA(this._resolverCache,e,n);return VS(t)?MT(r,t,void 0,i):r}}function wA(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);if(!s){s={resolver:PT(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},i.set(r,s)}return s}const xA=e=>VS(e)&&Object.getOwnPropertyNames(e).some((t=>iI(e[t])));const _A=["top","bottom","left","right","chartArea"];function kA(e,t){return"top"===e||"bottom"===e||-1===_A.indexOf(e)&&"x"===t}function SA(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function IA(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),KS(n&&n.onComplete,[e],t)}function TA(e){const t=e.chart,n=t.options.animation;KS(n&&n.onProgress,[e],t)}function EA(e){return $T()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const CA={},AA=e=>{const t=EA(e);return Object.values(CA).filter((e=>e.canvas===t)).pop()};function NA(e,t,n){const i=Object.keys(e);for(const r of i){const i=+r;if(i>=t){const s=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=s)}}}function DA(e,t,n){return e.options.clip?e[n]:t[n]}class PA{static register(){rA.add(...arguments),MA()}static unregister(){rA.remove(...arguments),MA()}constructor(e,t){const n=this.config=new bA(t),i=EA(e),r=AA(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!$T()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?AC:KC}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=LS(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],CA[this.id]=this,o&&a?(TE.listen(this,"complete",IA),TE.listen(this,"progress",TA),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return FS(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return rA}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return cT(this.canvas,this.ctx),this}stop(){return TE.stop(this),this}resize(e,t){TE.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,e,t,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,cE(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),KS(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){WS(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let r=[];t&&(r=r.concat(Object.keys(t).map((e=>{const n=t[e],i=uA(e,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}})))),WS(r,(t=>{const r=t.options,s=r.id,o=uA(s,r),a=BS(r.type,t.dtype);void 0!==r.position&&kA(r.position,o)===kA(t.dposition)||(r.position=t.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(rA.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,e)})),WS(i,((e,t)=>{e||delete n[t]})),WS(n,(e=>{EC.configure(this,e,e.options),EC.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(SA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||lA(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const t=rA.getController(s),{datasetElementType:i,dataElementType:o}=sT.datasets[s];Object.assign(t,{dataElementType:rA.getElement(o),datasetElementType:i&&rA.getElement(i)}),r.controller=new t(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){WS(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!i&&-1===r.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||WS(r,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(SA("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){WS(this.scales,(e=>{EC.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);rI(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t){NA(e,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),i=n(0);for(let r=1;r<t;r++)if(!rI(i,n(r)))return;return Array.from(i).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;EC.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],WS(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,iI(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(TE.has(this)?this.attached&&!TE.running(this)&&TE.start(this):(this.draw(),IA({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const r=t[i];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,r=function(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:DA(n,t,"left"),right:DA(n,t,"right"),top:DA(i,t,"top"),bottom:DA(i,t,"bottom")}:t}(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&fT(t,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),e.controller.draw(),i&&pT(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return dT(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=pC.modes[t];return"function"===typeof r?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter((e=>e&&e._dataset===t)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=DT(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),s=r.controller._resolveAnimations(void 0,i);nI(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(r,{visible:n}),this.update((t=>t.datasetIndex===e?i:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),TE.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),cT(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete CA[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};WS(this.options.events,(e=>n(e,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(n,i)=>{e[n]&&(t.removeEventListener(this,n,i),delete e[n])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():s()}unbindEvents(){WS(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},WS(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,s,o,a;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){s=e[o];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[n],index:n}}));!HS(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=r(t,e),o=n?e:r(e,t);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,s=t,o=this._getActiveElements(e,i,n,s),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,KS(r.onHover,[e,o,this],this),a&&KS(r.onClick,[e,o,this],this));const c=!HS(o,i);return(c||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function MA(){return WS(PA.instances,(e=>e._plugins.invalidate()))}function RA(e,t,n,i){const r=IT(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-t)/2,o=Math.min(s,i*t/2),a=e=>{const t=(n-Math.min(s,e))*i/2;return EI(e,0,Math.min(s,t))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:EI(r.innerStart,0,o),innerEnd:EI(r.innerEnd,0,o)}}function OA(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function LA(e,t,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const e=((u>0?u-i:0)+(h>0?h-i:0))/2;f=(p-(0!==e?p*e/(e+i):p))/2}const g=(p-Math.max(.001,p*h-n/sI)/h)/2,m=l+g+f,v=r-g-f,{outerStart:y,outerEnd:b,innerStart:w,innerEnd:x}=RA(t,d,h,v-m),_=h-y,k=h-b,S=m+y/_,I=v-b/k,T=d+w,E=d+x,C=m+w/T,A=v-x/E;if(e.beginPath(),s){const t=(S+I)/2;if(e.arc(o,a,h,S,t),e.arc(o,a,h,t,I),b>0){const t=OA(k,I,o,a);e.arc(t.x,t.y,b,I,v+uI)}const n=OA(E,v,o,a);if(e.lineTo(n.x,n.y),x>0){const t=OA(E,A,o,a);e.arc(t.x,t.y,x,v+uI,A+Math.PI)}const i=(v-x/d+(m+w/d))/2;if(e.arc(o,a,d,v-x/d,i,!0),e.arc(o,a,d,i,m+w/d,!0),w>0){const t=OA(T,C,o,a);e.arc(t.x,t.y,w,C+Math.PI,m-uI)}const r=OA(_,m,o,a);if(e.lineTo(r.x,r.y),y>0){const t=OA(_,S,o,a);e.arc(t.x,t.y,y,m-uI,S)}}else{e.moveTo(o,a);const t=Math.cos(S)*h+o,n=Math.sin(S)*h+a;e.lineTo(t,n);const i=Math.cos(I)*h+o,r=Math.sin(I)*h+a;e.lineTo(i,r)}e.closePath()}function FA(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(s){LA(e,t,n,i,p,r);for(let t=0;t<s;++t)e.stroke();isNaN(a)||(p=o+(a%oI||oI))}f&&function(e,t,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=r/a;e.beginPath(),e.arc(s,o,a,i-c,n+c),l>r?(c=r/l,e.arc(s,o,l,n+c,i-c,!0)):e.arc(s,o,r,n+uI,i-uI),e.closePath(),e.clip()}(e,t,p),s||(LA(e,t,n,i,p,r),e.stroke())}tS(PA,"defaults",sT),tS(PA,"instances",CA),tS(PA,"overrides",eT),tS(PA,"registry",rA),tS(PA,"version","4.4.3"),tS(PA,"getChart",AA);class jA extends WC{constructor(e){super(),tS(this,"circumference",void 0),tS(this,"endAngle",void 0),tS(this,"fullCircles",void 0),tS(this,"innerRadius",void 0),tS(this,"outerRadius",void 0),tS(this,"pixelMargin",void 0),tS(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=_I(i,{x:e,y:t}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=BS(u,a-o)>=oI||TI(r,o,a),f=CI(s,l+h,c+h);return d&&f}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,c=(i+r)/2,u=(s+o+l+a)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,r=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>oI?Math.floor(n/oI):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*i,Math.sin(o)*i);const a=i*(1-Math.sin(Math.min(sI,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){LA(e,t,n,i,l,r);for(let t=0;t<s;++t)e.fill();isNaN(a)||(l=o+(a%oI||oI))}LA(e,t,n,i,l,r),e.fill()}(e,this,a,r,s),FA(e,this,a,r,s),e.restore()}}function VA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=BS(n.borderCapStyle,t.borderCapStyle),e.setLineDash(BS(n.borderDash,t.borderDash)),e.lineDashOffset=BS(n.borderDashOffset,t.borderDashOffset),e.lineJoin=BS(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=BS(n.borderWidth,t.borderWidth),e.strokeStyle=BS(n.borderColor,t.borderColor)}function zA(e,t,n){e.lineTo(n.x,n.y)}function UA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=t,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function BA(e,t,n,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:c}=UA(r,n,i),u=function(e){return e.stepped?gT:e.tension||"monotone"===e.cubicInterpolationMode?mT:zA}(s);let h,d,f,{move:p=!0,reverse:g}=i||{};for(h=0;h<=c;++h)d=r[(a+(g?c-h:h))%o],d.skip||(p?(e.moveTo(d.x,d.y),p=!1):u(e,f,d,g,s.stepped),f=d);return l&&(d=r[(a+(g?c:0))%o],u(e,f,d,g,s.stepped)),!!l}function qA(e,t,n,i){const r=t.points,{count:s,start:o,ilen:a}=UA(r,n,i),{move:l=!0,reverse:c}=i||{};let u,h,d,f,p,g,m=0,v=0;const y=e=>(o+(c?a-e:e))%s,b=()=>{f!==p&&(e.lineTo(m,p),e.lineTo(m,f),e.lineTo(m,g))};for(l&&(h=r[y(0)],e.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=r[y(u)],h.skip)continue;const t=h.x,n=h.y,i=0|t;i===d?(n<f?f=n:n>p&&(p=n),m=(v*m+t)/++v):(b(),e.lineTo(t,n),d=i,v=0,f=p=n),g=n}b()}function KA(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?qA:BA}tS(jA,"id","arc"),tS(jA,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),tS(jA,"defaultRoutes",{backgroundColor:"backgroundColor"}),tS(jA,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const WA="function"===typeof Path2D;function HA(e,t,n,i){WA&&!t.options.segment?function(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),VA(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){const{segments:r,options:s}=t,o=KA(t);for(const a of r)VA(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}class GA extends WC{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;ZT(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=function(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}(n,r,s,i);return _E(e,!0===i?[{start:o,end:a,loop:s}]:function(e,t,n,i){const r=e.length,s=[];let o,a=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%r];n.skip||n.stop?l.skip||(i=!1,s.push({start:t%r,end:(o-1)%r,loop:i}),t=a=n.stop?o:null):(a=o,l.skip&&(t=o)),l=n}return null!==a&&s.push({start:t%r,end:a%r,loop:i}),s}(n,o,a<o?a+r:a,!!e._fullLoop&&0===o&&a===r-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,s=xE(this,{property:t,start:i,end:i});if(!s.length)return;const o=[],a=function(e){return e.stepped?fE:e.tension||"monotone"===e.cubicInterpolationMode?pE:dE}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=r[c],d=r[u];if(h===d){o.push(h);continue}const f=a(h,d,Math.abs((i-h[t])/(d[t]-h[t])),n.stepped);f[t]=e[t],o.push(f)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return KA(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=KA(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)s&=r(e,this,o,{start:t,end:t+n-1});return!!s}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),HA(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function XA(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}tS(GA,"id","line"),tS(GA,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),tS(GA,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),tS(GA,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class YA extends WC{constructor(e){super(),tS(this,"parsed",void 0),tS(this,"skip",void 0),tS(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return XA(this,e,"x",t)}inYRange(e,t){return XA(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!dT(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,uT(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function QA(e,t){const{x:n,y:i,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function JA(e,t,n,i){return e?0:EI(t,n,i)}function ZA(e){const t=QA(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,s=TT(i);return{t:JA(r.top,s.top,0,n),r:JA(r.right,s.right,0,t),b:JA(r.bottom,s.bottom,0,n),l:JA(r.left,s.left,0,t)}}(e,n/2,i/2),s=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=ET(r),o=Math.min(t,n),a=e.borderSkipped,l=i||VS(r);return{topLeft:JA(!l||a.top||a.left,s.topLeft,0,o),topRight:JA(!l||a.top||a.right,s.topRight,0,o),bottomLeft:JA(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:JA(!l||a.bottom||a.right,s.bottomRight,0,o)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function $A(e,t,n,i){const r=null===t,s=null===n,o=e&&!(r&&s)&&QA(e,i);return o&&(r||CI(t,o.left,o.right))&&(s||CI(n,o.top,o.bottom))}function eN(e,t){e.rect(t.x,t.y,t.w,t.h)}function tN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+s,h:e.h+o,radius:e.radius}}tS(YA,"id","point"),tS(YA,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),tS(YA,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class nN extends WC{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=ZA(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?wT:eN;var a;e.save(),s.w===r.w&&s.h===r.h||(e.beginPath(),o(e,tN(s,t,r)),e.clip(),o(e,tN(r,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,tN(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return $A(this,e,t,n)}inXRange(e,t){return $A(this,e,null,t)}inYRange(e,t){return $A(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}tS(nN,"id","bar"),tS(nN,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),tS(nN,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const iN=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class rN extends WC{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=KS(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=AT(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=iN(n,r);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,r,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,i,o,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=e;r.textAlign="left",r.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((e,f)=>{const p=n+t/2+r.measureText(e.text).width;(0===f||l[l.length-1]+p+2*o>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:i},l[l.length-1]+=p+o})),u}_fitCols(e,t,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let u=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((e,s)=>{const{itemWidth:g,itemHeight:m}=function(e,t,n,i,r){const s=function(e,t,n,i){let r=e.text;r&&"string"!==typeof r&&(r=r.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+i.measureText(r).width}(i,e,t,n),o=function(e,t,n){let i=e;"string"!==typeof t.text&&(i=sN(t,n));return i}(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}(n,t,r,e,i);s>0&&d+m+2*o>c&&(u+=h+o,l.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+o})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,s=gE(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=jI(n,this.left+i,this.right-this.lineWidths[r]);for(const a of t)r!==a.row&&(r=a.row,o=jI(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+e+i,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+i}else{let r=0,o=jI(n,this.top+e+i,this.bottom-this.columnSizes[r].height);for(const a of t)a.col!==r&&(r=a.col,o=jI(n,this.top+e+i,this.bottom-this.columnSizes[r].height)),a.top=o,a.left+=this.left+i,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;fT(e,this),this._draw(),pT(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:s}=e,o=sT.color,a=gE(e.rtl,this.left,this.width),l=AT(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=iN(s,u),m=this.isHorizontal(),v=this._computeTitleHeight();d=m?{x:jI(r,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:jI(r,this.top+v+c,this.bottom-t[0].height),line:0},mE(this.ctx,e.textDirection);const y=g+c;this.legendItems.forEach(((b,w)=>{i.strokeStyle=b.fontColor,i.fillStyle=b.fontColor;const x=i.measureText(b.text).width,_=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),k=f+h+x;let S=d.x,I=d.y;a.setWidth(this.width),m?w>0&&S+k+c>this.right&&(I=d.y+=y,d.line++,S=d.x=jI(r,this.left+c,this.right-n[d.line])):w>0&&I+y>this.bottom&&(S=d.x=S+t[d.line].width+c,d.line++,I=d.y=jI(r,this.top+v+c,this.bottom-t[d.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;i.save();const r=BS(n.lineWidth,1);if(i.fillStyle=BS(n.fillStyle,o),i.lineCap=BS(n.lineCap,"butt"),i.lineDashOffset=BS(n.lineDashOffset,0),i.lineJoin=BS(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=BS(n.strokeStyle,o),i.setLineDash(BS(n.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(e,f/2);hT(i,o,l,t+h,s.pointStyleWidth&&f)}else{const s=t+Math.max((u-p)/2,0),o=a.leftForLtr(e,f),l=ET(n.borderRadius);i.beginPath(),Object.values(l).some((e=>0!==e))?wT(i,{x:o,y:s,w:f,h:p,radius:l}):i.rect(o,s,f,p),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(S),I,b),S=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(_,S+f+h,m?S+k:this.right,e.rtl),function(e,t,n){bT(i,n.text,e,t+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(S),I,b),m)d.x+=k+c;else if("string"!==typeof b.text){const e=l.lineHeight;d.y+=sN(b,e)+c}else d.y+=y})),vE(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=AT(t.font),i=CT(t.padding);if(!t.display)return;const r=gE(e.rtl,this.left,this.width),s=this.ctx,o=t.position,a=n.size/2,l=i.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=jI(e.align,u,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+jI(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=jI(o,u,u+h);s.textAlign=r.textAlign(FI(o)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,bT(s,t.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,t=AT(e.font),n=CT(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(CI(e,this.left,this.right)&&CI(t,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],CI(e,i.left,i.left+i.width)&&CI(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,r=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(i,n);i&&!r&&KS(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&KS(t.onHover,[e,n,this],this)}else n&&KS(t.onClick,[e,n,this],this)}}function sN(e,t){return t*(e.text?e.text.length:0)}var oN={id:"legend",_element:rN,start(e,t,n){const i=e.legend=new rN({ctx:e.ctx,options:n,chart:e});EC.configure(e,i,n),EC.addBox(e,i)},stop(e){EC.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;EC.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=CT(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};new WeakMap;const aN={average(e){if(!e.length)return!1;let t,n,i=new Set,r=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i.add(e.x),r+=e.y,++s}}const o=[...i].reduce(((e,t)=>e+t))/i.size;return{x:o,y:r/s}},nearest(e,t){if(!e.length)return!1;let n,i,r,s=t.x,o=t.y,a=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=kI(t,i.getCenterPoint());e<a&&(a=e,r=i)}}if(r){const e=r.tooltipPosition();s=e.x,o=e.y}return{x:s,y:o}}};function lN(e,t){return t&&(jS(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function cN(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function uN(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function hN(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=AT(t.bodyFont),c=AT(t.titleFont),u=AT(t.footerFont),h=s.length,d=r.length,f=i.length,p=CT(t.padding);let g=p.height,m=0,v=i.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(v+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){g+=f*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*t.bodySpacing}d&&(g+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const b=function(e){m=Math.max(m,n.measureText(e).width+y)};return n.save(),n.font=c.string,WS(e.title,b),n.font=l.string,WS(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?o+2+t.boxPadding:0,WS(i,(e=>{WS(e.before,b),WS(e.lines,b),WS(e.after,b)})),y=0,n.font=u.string,WS(e.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function dN(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),function(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;return"left"===e&&r+s+o>t.width||"right"===e&&r-s-o<0||void 0}(c,e,t,n)&&(c="center"),c}function fN(e,t,n){const i=n.yAlign||t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||dN(e,t,n,i),yAlign:i}}function pN(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=ET(o);let p=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,a);const g=function(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+r:"right"===a&&(p+=Math.max(h,f)+r),{x:EI(p,0,i.width-t.width),y:EI(g,0,i.height-t.height)}}function gN(e,t,n){const i=CT(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function mN(e){return lN([],cN(e))}function vN(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const yN={beforeTitle:OS,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:OS,beforeBody:OS,beforeLabel:OS,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return FS(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:OS,afterBody:OS,beforeFooter:OS,footer:OS,afterFooter:OS};function bN(e,t,n,i){const r=e[t].call(n,i);return"undefined"===typeof r?yN[t].call(n,i):r}class wN extends WC{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new NE(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,DT(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,i=bN(n,"beforeTitle",this,e),r=bN(n,"title",this,e),s=bN(n,"afterTitle",this,e);let o=[];return o=lN(o,cN(i)),o=lN(o,cN(r)),o=lN(o,cN(s)),o}getBeforeBody(e,t){return mN(bN(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return WS(e,(e=>{const t={before:[],lines:[],after:[]},r=vN(n,e);lN(t.before,cN(bN(r,"beforeLabel",this,e))),lN(t.lines,bN(r,"label",this,e)),lN(t.after,cN(bN(r,"afterLabel",this,e))),i.push(t)})),i}getAfterBody(e,t){return mN(bN(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=bN(n,"beforeFooter",this,e),r=bN(n,"footer",this,e),s=bN(n,"afterFooter",this,e);let o=[];return o=lN(o,cN(i)),o=lN(o,cN(r)),o=lN(o,cN(s)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],s=[];let o,a,l=[];for(o=0,a=t.length;o<a;++o)l.push(uN(this.chart,t[o]));return e.filter&&(l=l.filter(((t,i,r)=>e.filter(t,i,r,n)))),e.itemSort&&(l=l.sort(((t,i)=>e.itemSort(t,i,n)))),WS(l,(t=>{const n=vN(e.callbacks,t);i.push(bN(n,"labelColor",this,t)),r.push(bN(n,"labelPointStyle",this,t)),s.push(bN(n,"labelTextColor",this,t))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const e=aN[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=hN(this,n),o=Object.assign({},e,t),a=fN(this.chart,n,o),l=pN(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=ET(o),{x:h,y:d}=e,{width:f,height:p}=t;let g,m,v,y,b,w;return"center"===r?(b=d+p/2,"left"===i?(g=h,m=g-s,y=b+s,w=b-s):(g=h+f,m=g+s,y=b-s,w=b+s),v=g):(m="left"===i?h+Math.max(a,c)+s:"right"===i?h+f-Math.max(l,u)-s:this.caretX,"top"===r?(y=d,b=y-s,g=m-s,v=m+s):(y=d+p,b=y+s,g=m+s,v=m-s),w=y),{x1:g,x2:m,x3:v,y1:y,y2:b,y3:w}}drawTitle(e,t,n){const i=this.title,r=i.length;let s,o,a;if(r){const l=gE(n.rtl,this.x,this.width);for(e.x=gN(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=AT(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,a=0;a<r;++a)t.fillText(i[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,a+1===r&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,r){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,c=AT(r.bodyFont),u=gN(this,"left",r),h=i.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=t.y+d;if(r.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=f+a/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,uT(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,uT(e,t,n,c)}else{e.lineWidth=VS(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=i.leftForLtr(h,l),n=i.leftForLtr(i.xPlus(h,1),l-2),o=ET(s.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,wT(e,{x:t,y:f,w:l,h:a,radius:o}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),wT(e,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,f,l,a),e.strokeRect(t,f,l,a),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=AT(n.bodyFont);let h=u.lineHeight,d=0;const f=gE(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+d),e.y+h/2),e.y+=h+r},g=f.textAlign(s);let m,v,y,b,w,x,_;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=gN(this,g,n),t.fillStyle=n.bodyColor,WS(this.beforeBody,p),d=o&&"right"!==g?"center"===s?l/2+c:l+2+c:0,b=0,x=i.length;b<x;++b){for(m=i[b],v=this.labelTextColors[b],t.fillStyle=v,WS(m.before,p),y=m.lines,o&&y.length&&(this._drawColorBox(t,e,b,f,n),h=Math.max(u.lineHeight,a)),w=0,_=y.length;w<_;++w)p(y[w]),h=u.lineHeight;WS(m.after,p)}d=0,h=u.lineHeight,WS(this.afterBody,p),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let s,o;if(r){const a=gE(n.rtl,this.x,this.width);for(e.x=gN(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",s=AT(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,o=0;o<r;++o)t.fillText(i[o],a.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=ET(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+u,a),"top"===s&&this.drawCaret(e,t,n,i),t.lineTo(o+l-h,a),t.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(o+l,a+c-f),t.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(e,t,n,i),t.lineTo(o+d,a+c),t.quadraticCurveTo(o,a+c,o,a+c-d),"center"===s&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(o,a+u),t.quadraticCurveTo(o,a,o+u,a),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=aN[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=hN(this,e),o=Object.assign({},n,this._size),a=fN(t,e,o),l=pN(e,o,a,t);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=CT(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),mE(e,t.textDirection),r.y+=s.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),vE(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map((e=>{let{datasetIndex:t,index:n}=e;const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[n],index:n}})),r=!HS(n,i),s=this._positionChanged(i,t);(r||s)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(e,r,t,n),o=this._positionChanged(s,e),a=t||!HS(s,r)||o;return a&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,i){const r=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const s=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,s=aN[r.position].call(this,e,t);return!1!==s&&(n!==s.x||i!==s.y)}}tS(wN,"positioners",aN);var xN={id:"tooltip",_element:wN,positioners:aN,afterInit(e,t,n){n&&(e.tooltip=new wN({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function _N(e,t,n,i){const r=e.indexOf(t);if(-1===r)return((e,t,n,i)=>("string"===typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,i);return r!==e.lastIndexOf(t)?n:r}function kN(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class SN extends tA{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:i}of t)e[n]===i&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(FS(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:EI(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:_N(n,e,BS(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)i.push({value:s});return i}getLabelForValue(e){return kN.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function IN(e,t){const n=[],{bounds:i,step:r,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=e,d=r||1,f=c-1,{min:p,max:g}=t,m=!FS(s),v=!FS(o),y=!FS(l),b=(g-p)/(u+1);let w,x,_,k,S=mI((g-p)/f/d)*d;if(S<1e-14&&!m&&!v)return[{value:p},{value:g}];k=Math.ceil(g/S)-Math.floor(p/S),k>f&&(S=mI(k*S/f/d)*d),FS(a)||(w=Math.pow(10,a),S=Math.ceil(S*w)/w),"ticks"===i?(x=Math.floor(p/S)*S,_=Math.ceil(g/S)*S):(x=p,_=g),m&&v&&r&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-s)/r,S/1e3)?(k=Math.round(Math.min((o-s)/S,c)),S=(o-s)/k,x=s,_=o):y?(x=m?s:x,_=v?o:_,k=l-1,S=(_-x)/k):(k=(_-x)/S,k=gI(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const I=Math.max(xI(S),xI(x));w=Math.pow(10,FS(a)?I:a),x=Math.round(x*w)/w,_=Math.round(_*w)/w;let T=0;for(m&&(h&&x!==s?(n.push({value:s}),x<s&&T++,gI(Math.round((x+T*S)*w)/w,s,TN(s,b,e))&&T++):x<s&&T++);T<k;++T){const e=Math.round((x+T*S)*w)/w;if(v&&e>o)break;n.push({value:e})}return v&&h&&_!==o?n.length&&gI(n[n.length-1].value,o,TN(o,b,e))?n[n.length-1].value=o:n.push({value:o}):v&&_!==o||n.push({value:_}),n}function TN(e,t,n){let{horizontal:i,minRotation:r}=n;const s=bI(r),o=(i?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}tS(SN,"id","category"),tS(SN,"defaults",{ticks:{callback:kN}});class EN extends tA{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return FS(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=e=>i=t?i:e,o=e=>r=n?r:e;if(e){const e=pI(i),t=pI(r);e<0&&t<0?o(0):e>0&&t>0&&s(0)}if(i===r){let t=0===r?1:Math.abs(.05*r);o(r+t),e||s(i-t)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=IN({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&yI(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return JI(e,this.chart.options.locale,this.options.ticks.format)}}class CN extends EN{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=zS(e)?e:0,this.max=zS(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=bI(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}tS(CN,"id","linear"),tS(CN,"defaults",{ticks:{callback:$I.formatters.numeric}});const AN=e=>Math.floor(fI(e)),NN=(e,t)=>Math.pow(10,AN(e)+t);function DN(e){return 1===e/Math.pow(10,AN(e))}function PN(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function MN(e,t){let{min:n,max:i}=t;n=US(e.min,n);const r=[],s=AN(n);let o=function(e,t){let n=AN(t-e);for(;PN(e,t,n)>10;)n++;for(;PN(e,t,n)<10;)n--;return Math.min(n,AN(e))}(n,i),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=s>o?Math.pow(10,s):0,u=Math.round((n-c)*a)/a,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,o)),f=US(e.min,Math.round((c+h+d*Math.pow(10,o))*a)/a);for(;f<i;)r.push({value:f,major:DN(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,a=o>=0?1:a),f=Math.round((c+h+d*Math.pow(10,o))*a)/a;const p=US(e.max,f);return r.push({value:p,major:DN(p),significand:d}),r}class RN extends tA{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=EN.prototype.parse.apply(this,[e,t]);if(0!==n)return zS(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=zS(e)?Math.max(0,e):null,this.max=zS(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!zS(this._userMin)&&(this.min=e===NN(this.min,0)?NN(this.min,-1):NN(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const r=t=>n=e?n:t,s=e=>i=t?i:e;n===i&&(n<=0?(r(1),s(10)):(r(NN(n,-1)),s(NN(i,1)))),n<=0&&r(NN(i,-1)),i<=0&&s(NN(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t=MN({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&yI(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":JI(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=fI(e),this._valueRange=fI(this.max)-fI(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(fI(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function ON(e){const t=e.ticks;if(t.display&&e.display){const e=CT(t.backdropPadding);return BS(t.font&&t.font.size,sT.font.size)+e.height}return 0}function LN(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function FN(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?sI/s:0;for(let h=0;h<s;h++){const s=o.setContext(e.getPointLabelContext(h));r[h]=s.padding;const d=e.getPointPosition(h,e.drawingArea+r[h],a),f=AT(s.font),p=(l=e.ctx,c=f,u=jS(u=e._pointLabels[h])?u:[u],{w:aT(l,c.string,u),h:u.length*c.lineHeight});i[h]=p;const g=II(e.getIndexAngle(h)+a),m=Math.round(wI(g));jN(n,t,g,LN(m,d.x,p.w,0,180),LN(m,d.y,p.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const i=[],r=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:ON(s)/2,additionalAngle:o?sI/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=t[u];const r=VN(e,u,l);i.push(r),"auto"===a&&(r.visible=zN(r,c),r.visible&&(c=r))}return i}(e,i,r)}function jN(e,t,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function VN(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,i+r+o,s),c=Math.round(wI(II(l.angle+uI))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,a.h,c),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function zN(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:s}=e;return!(dT({x:n,y:i},t)||dT({x:n,y:s},t)||dT({x:r,y:i},t)||dT({x:r,y:s},t))}function UN(e,t,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=t;if(!FS(a)){const n=ET(t.borderRadius),l=CT(t.backdropPadding);e.fillStyle=a;const c=i-l.left,u=r-l.top,h=s-i+l.width,d=o-r+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),wT(e,{x:c,y:u,w:h,h:d,radius:n}),e.fill()):e.fillRect(c,u,h,d)}}function BN(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,oI);else{let n=e.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let s=1;s<i;s++)n=e.getPointPosition(s,t),r.lineTo(n.x,n.y)}}tS(RN,"id","logarithmic"),tS(RN,"defaults",{ticks:{callback:$I.formatters.logarithmic,major:{enabled:!0}}});class qN extends EN{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=CT(ON(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=zS(e)&&!isNaN(e)?e:0,this.max=zS(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ON(this.options))}generateTickLabels(e){EN.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=KS(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?FN(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){return II(e*(oI/(this._pointLabels.length||1))+bI(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(FS(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(FS(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return DT(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(e)-uI+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),BN(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:r}=t,s=this._pointLabels.length;let o,a,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const t=e._pointLabelItems[r];if(!t.visible)continue;const s=i.setContext(e.getPointLabelContext(r));UN(n,s,t);const o=AT(s.font),{x:a,y:l,textAlign:c}=t;bT(n,e._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){a=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),o=i.setContext(n),l=r.setContext(n);!function(e,t,n,i,r){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),BN(e,n,o,i),s.closePath(),s.stroke(),s.restore())}(this,o,a,s,l)}})),n.display){for(e.save(),o=s-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:s}=i;s&&r&&(e.lineWidth=s,e.strokeStyle=r,e.setLineDash(i.borderDash),e.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((i,o)=>{if(0===o&&this.min>=0&&!t.reverse)return;const a=n.setContext(this.getContext(o)),l=AT(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){e.font=l.string,s=e.measureText(i.label).width,e.fillStyle=a.backdropColor;const t=CT(a.backdropPadding);e.fillRect(-s/2-t.left,-r-l.size/2-t.top,s+t.width,l.size+t.height)}bT(e,i.label,0,-r,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),e.restore()}drawTitle(){}}tS(qN,"id","radialLinear"),tS(qN,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:$I.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),tS(qN,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),tS(qN,"descriptors",{angleLines:{_fallback:"grid"}});const KN={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},WN=Object.keys(KN);function HN(e,t){return e-t}function GN(e,t){if(FS(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return"function"===typeof i&&(o=i(o)),zS(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!vI(s)&&!0!==s?n.startOf(o,r):n.startOf(o,"isoWeek",s)),+o)}function XN(e,t,n,i){const r=WN.length;for(let s=WN.indexOf(e);s<r-1;++s){const e=KN[WN[s]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=i)return WN[s]}return WN[r-1]}function YN(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=AI(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function QN(e,t,n){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?function(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}(e,i,r,n):i}class JN extends tA{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),i=this._adapter=new aC(e.adapters.date);i.init(t),JS(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:GN(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(e){s||isNaN(e.min)||(i=Math.min(i,e.min)),o||isNaN(e.max)||(r=Math.max(r,e.max))}s&&o||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),i=zS(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=zS(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=function(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(i,r,this.max);return this._unit=t.unit||(n.autoSkip?XN(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(let s=WN.length-1;s>=WN.indexOf(n);s--){const n=WN[s];if(KN[n].common&&e._adapter.diff(r,i,n)>=t-1)return n}return WN[n?WN.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=WN.indexOf(e)+1,n=WN.length;t<n;++t)if(KN[WN[t]].common)return WN[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&s.reverse(),QN(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),i=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),r=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;i=EI(i,0,s),r=EI(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||XN(r.minUnit,t,n,this._getLabelCapacity(t)),o=BS(i.ticks.stepSize,1),a="week"===s&&r.isoWeekday,l=vI(a)||!0===a,c={};let u,h,d=t;if(l&&(d=+e.startOf(d,"isoWeek",a)),d=+e.startOf(d,l?"day":s),e.diff(n,t,s)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+e.add(u,o,s),h++)YN(c,u,f);return u!==n&&"ticks"!==i.bounds&&1!==h||YN(c,u,f),Object.keys(c).sort(HN).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,i=this._unit,r=t||n[i];return this._adapter.format(e,r)}_tickFormatFunction(e,t,n,i){const r=this.options,s=r.ticks.callback;if(s)return KS(s,[e,t,n],this);const o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=n[t],d=l&&u&&h&&h.major;return this._adapter.format(e,i||(d?u:c))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=bI(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*s,h:n*s+o*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,QN(this,[e],this._majorUnit),i),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(GN(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return RI(e.sort(HN))}}function ZN(e,t,n){let i,r,s,o,a=0,l=e.length-1;n?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=NI(e,"pos",t)),({pos:i,time:s}=e[a]),({pos:r,time:o}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=NI(e,"time",t)),({time:i,pos:s}=e[a]),({time:r,pos:o}=e[l]));const c=r-i;return c?s+(o-s)*(t-i)/c:s}tS(JN,"id","time"),tS(JN,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class $N extends JN{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ZN(t,this.min),this._tableRange=ZN(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;++s)l=e[s],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,o=i.length;s<o;++s)c=i[s+1],a=i[s-1],l=i[s],Math.round((c+a)/2)!==l&&r.push({time:l,pos:s/(o-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(ZN(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return ZN(this._table,n*this._tableRange+this._minPos,!0)}}tS($N,"id","timeseries"),tS($N,"defaults",JN.defaults);PA.register($E,jA,xN,oN);const eD=e=>{let{percentage:t}=e;const n=(0,i.useRef)(null);let r=t;return r>100&&(r=100),(0,i.useEffect)((()=>{if(n.current){const e=n.current,i=null===e||void 0===e?void 0:e.getContext("2d");if(!i)return;const s=new PA(i,{type:"doughnut",data:{labels:["Completed","Remaining"],datasets:[{data:[t,100-r],backgroundColor:["#fe5f55","#27272b"],borderColor:["#fe5f55","#27272b"],borderWidth:1}]},options:{circumference:180,rotation:-90,cutout:"80%",plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){let t=e.label||"";return t&&(t+=": "),void 0!==e.parsed&&(t+=new Intl.NumberFormat("en-US",{style:"percent"}).format(e.parsed/100)),t}}}}}});return()=>{s.destroy()}}}),[t]),(0,Gk.jsxs)("div",{className:"chart-container",style:{position:"relative",maxWidth:"200px",maxHeight:"200px"},children:[(0,Gk.jsx)("canvas",{ref:n}),(0,Gk.jsxs)("div",{className:"percentage-text",style:{position:"absolute",top:"60%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"20px",color:"white"},children:[Math.round(t),"%"]})]})};const tD=n.p+"static/media/skull-svgrepo-com.b150f1727ed835326986c4ba96614d9b.svg";const nD=n.p+"static/media/spears-svgrepo-com.71e2774500b121172b1b24f06608ea82.svg",iD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAACFCAMAAACntswnAAADAFBMVEUAAADiyLvVv6DRtZvm1bSsh1SVa1SufzqVc0KAbVrl29bavbKHZC7h08iwcCttThqLOhuXSQmLamF4WSjCfF1nRBr00M3Jt6u1d1/NrUGMajifekqfallnUjfAqWjmwiqWXyO/mY6MXCDOl33Zs6LeyHZGWVDdsqSffplybE+ubEhqUi/Kk3B4UBJeTb5wW3N5fWrImY65iGKcrquihLquflfCxsGHj4DAf2m/cFyFlZ7+//8fCwTixJ7Qror+5sC8mnWNcFP827DWtI/du5YqDQW2lG9FJhbHpn7ux53Ann87IRGkgmCee1RpRiz/880yHRdeQyn+89v11q6FalDw0qbnrnpEMh/pyqg7JiIlGA+agGGUeV3+/O7wvIiXbDdTOR0xGwpeOSL9/Yb//eX/7cb+5bVuTjL93bznxJXguYtRLRLHqIfYp3aVc1GAY0jRpoJuVjvas4CliGvAl2N3Uzr+8ef76tH9/cH36eLIsoqxlnrJnnSidkL//djwyrSskmlUQDXz37jMm2e7jVZMNCw8EgSokHV1XEKAXj39/J7IjVJIHgr//variWOQZ0r6xZingUkNAwi+p4jVo22PXDx7Pxrdyqv7+2vul0/XZQX7/c/10bz80KaealT39fm3jWbUmVqHUT765KG2gEuHakJkSzaGVSJWKyLHWwvx3seqcWGbYSXosJumOAfvaAP9/q/lvaj46lvsxFn09+zSv5H43mresmj7zlOfYUb77IX2tXKyfl2qdU322zzjfxZgIQ7268X72Iz8yH2oSSmxUAm9p3rOsHj6qGB8Qzr68rRiS0bFZEJsNh7Gi3Kyg296W0utWDj53Nm1lFu3c0LaZjlqOjNVDQSOSjDnrUXEkzTKexnYp47ln2LFfz7akTAkFB1pMA2XKgf4v6q/qpr2kmuXg0T5qy/WTiftmyGBIw7jnouqmYr6rIjbe1fDQgnRk32WeXX6wjTl6OeGWVCtXh3dk3LwgVaFfVNFMJeslUUhDkugjO9zXeLTp9FROGPsr5xEAAAAO3RSTlMA/v7+/v0h/vo8/v7+/fv6/vz+/f7+/v1V/u/zdmD+/rx3hLbS/qib/v2rn93N/Pzt27Se/tbIrpqL3lHrYMcAACCzSURBVGje7JVfSFpRHMfvKbjiFYXGcPcOW/4pGuaMpI3kYi/bSz4uCh/25+G4sfY0YiwdLKPt6UZQL1OmTMQg5gyu3lIxaGBEo8HG7tO8lYILJNhDm/SgOLdTo82XvXnypc/b7+V8+X6/v3MOccYZ/4HWyIlmQPbV+ohm0F2r9hPNQFermolmoOmvmkmiCWgu/yzXb5fRgG/XaLpe+Lu53F4v7BqhCTwMzJ2vm/TnzOWeutnCwRCe6K1zzy/WjXIU9Ye6AKahb11D4MD0+G6l7mSyVi3/+ltrO/BDXwZP1qZ5WWXmn7JG3d/bS54MgOV9cBVP1JZ5mcSsG05cfRT3vp374502TLBODsIXBBbohZyUTfP3WwdokiS1w34+M6PVGy2m69NO56Sfg124rrUxlxfSnGvSGfE+HM9scVDIJkOjmbDrGA4yJCZleS6fghyPlF08nxYyCYkRZKpQCkIO4Yun56wEDoydu9sdcci7/MhdnJGE1DYjRBcP8z/iPghhfE0w4XFsHN1FFhMQqSYE1RVV9r3qUvLZ4suolE2lUuurISOBCb0KbZeQSAiMpG0n9DO7MmaFann7ZTGqUsm0epw/hlyvRRLaHjn6FW/JkpJkcwcCrXb7VTlxStDK4F40hIRFhwMAD2jVEacB3UkFg6WKJDEREXgcjpgC2PpoAjekQYlkqVKXIFQodyTgQXhbvDYD5rx1ilJwmaIobxwmKhTLzoqiOuABXu/KpgXjfqGUkawSAOV4PC1kQ6ZBJxsU1UjadsO2dGAl8EB2g+VgSQkUCgWYYhLZ4nahEF2ZZZ+IgQCKPBaL4am6G7hnS0oFArgVU1t8Yv/VxsZG4TNgWVGNXAeQ8lLjq9Ypby6Xjs2qlW7RHnalU8XiuyPlwkKEDR5XPWKLxXYGGlq1/NptNzKLbg4Y3KMuvN7kubWO/WIq35a7k2xrOwge5e0ZGvIg04+sDSzXPQFaUJJA3TJme2r/tHOPh+jxlITMWNgfTr4pHLay7MSD4RHUtMfz1UQ3KOXfrJY7qNNQGMexraK9VixIFV8oCi4uKj7wkIcnofQUy4GESJY4JSEpKkVKYmtJJQqKkio4FPuwF8ShVSuFioPKJcqt0kHR6+IDHe4qOFzc/epj9O1HO3T68f0f32mkV49EBtVFiVK87GpNn3r0xNgcn39om01vPLKvzM4mXybA6tb8PFwU1aqC1f+hQtFIJMIMqqlSb/WHROA1Pa/ZpK4jnfA8Sr0wFns322187D8toQ6kW63CWOK/Wr1k5+UoK4iDQapUqq9eHUcnqORSSg2O46jnSa6ka1710Jtuo9GfvYxQCTIGeqsxsfJP/3bXZ8vlsnDrVjUVLNy5U0LIGYcvXMngTHzNDA3q9lzAo+DSlZlGo5t8PgV6T9Dzl8gg+jet3pzasgRU3s2PLo/KwqD6IoiXfRR4NJQk1whlbOK2grnJ+KbR1HXpMCx9+2P/ZRyu6AQ8vyiuvfhTq5dtc7TBmiU7M+XRqFAQpuIB6kVLyKHj8+NAunZNUXBbxkQxMTbhq1wbS5r36E3jdqMLVg+R06vOA9gJnNa2JX/i62q0oLS3r9v4+PHGyqFbgxKKT005mgS+UurjS4fttmwrgDQxEUQFy7aNsdE0jxffN7rd/qRaTipVrfuShjqxP3irt6JhPfp2evHiYvFMpb7QQfXTvUBzXQA3/Tskn8/bILMBPzHJsDYxTFlWfNpsnjAPves2uv2XiyBlLZJXAKy7W3/X6n261is8WzxXnFs8zTMO6mSLVNc9NzQ4aqh1xiZE4b5sb8lAtIlpGDT0fYN6ATLfQ8hm+/fjSLfEKHRb04LS7+m9wdUd9cKD9KhyuiL0EIquvdgLdIgVBMmwOAgWli2DWj4jAhfboox9jvr1WBgaw45mPpnku5+sgNWJRaGEUAeSvvnX6GVTruWKF+Yes2ykp6H47pXTPU3TPeBOyJLLwZ6gs1w+lmMURuCFSb4xc4ejnB82da00fw/QH/s3V0/0tgALn2DqV3rvSpRiqirMFe8yiQ4a7kgmj0qBpkkhsAwsU+oaFiNzTC0tjGpZMZurZYjdxqRy3ATxzWuGo2n03swM6A1WAxSokwmcPT9deslCp1Uvn+JzpzaOENq6KbmCeLquSa4P/ppEMQwme0Q4wvOnWEVm+WzuoJBhM3n7eLHSJrJP2jhsNj2ufenwqxmo1iq4ok4w4WoBiv+s1HvhdYuNajeuHjjJb92d7L/mNF3SdcphX+JUkXBHDuQy7PUaxoSIfJoVscUW+EyBn85jRWYEC8vjMZUmaz+amVidHUK80NdZ+DF5VzwW+u3K/atXl87ZK/rdNyk01IYANh/6kiVDazNlkREy2CQkz9cESxYFsZC+HGF5G2odK9+xSdvi3OFw2HEuzXS/WR18J/9I7TWdIBbrtbK1xUuvn4XH7tOhINAhToaJiWxgSy2w2GIYQjiGFTK5g7BjRhB4kVEtRiAyVtMZsVBQoeNUgoN+D24ZoB8k0PfZ/8PL0enFWi12lF5+7qxwb8UKVQOlOQWEPQ4Q2c5jSxQIe3A6nc1mczlWFG3m1CnBBpkFESvTOUYtVAo2wViVOa59pXH79m3QO136Em3tM99119o0FMYBnDUVRZmiooLglV/A+5KzkyUck5hkZEtrIN0sYTN9yZK0WZQ1VWsntGGaTGYdvmzWlxYsiAjzQuwQEac3ykAvvHCKXvgFxHtPxctpIFeB/PKc/J/nJImfR7YueDTxcykev0ADcFVx4cRmamQcj/+p2tBwnk2qNAOYJM0yKjQOCIDh6NCCJINavACGgcmTw2Q1ZMEy85llkxwgcY//gW/efP197y5cLl682a1LPppI7KSXYgQJWw703ZmFkcnVydHRqWw26bDDSRMJrVAEJM0LGAA0I4QMYBGNvBCgyGJINrTCSinP5Uv5N3NOmVl+/vVx/8Ah+z6YOLN6i3u0NYxjMMjFyz4DVxg1xgvq5Orq6OjIUJJk2FKWqSJBFKBK8gh3FM1DITLHAIImogQI2xFbbberjtNqcQulyvR0S1scu//2xV/5+6nE7BJZen9sS3gJV5zLEnWerpD4Tfu1Pnz2ZS2Jt5/TWRSxEDJJ1YQQywC6ngcYKIa8W0c8CIVqoAc8C9BanqtUJiZ2BGZy+dUNLPfhvb/urC5M5Gd2bAkP4MDnskuL/mdOvTBME3hrwHCcwQ2UHCEliwO0agqCX6+7muvaskSlXStN2ZRggiqFqhal+bzVc/KlEje9Z38+N/3q1dc/8K/51Gwf/nB4S7gf++7y7diiwz0hc0xtFH9tnB2pmdUWi1NrRCoNeKutpYsNKUNpdqMjU1RRljoZyizbikkydoO3dfTZcUqcszKzkLo0t/z8Rd99P5LfOf5veKAfvQsX4jH6EUGXmCnsZrvdIRKFudMMzSPH4ZFbTSt2UU4Ti359n9KRlYZ8csN3vcB1fd/uKLKB8GueoQlnYeHu/CWS66/15tkE+ANf+jc8HlfjJG32W2doBG/98RhJ0uRpFfImEhFfXaynedPHbVyFcNFtUIt+o6FpaUPRBEoJ7LovWEEgIFT5nJt7cO1aPvXi4YtXk4lx+uDqf+ErgzF1AEAfMICcwrtvNwnWgTo2RodaWhEsS3AVl4cwtER8cyQiOhSgGNmNdD29T9nwBMjDwAis6rmPJWTNPX/+avPFjdqVxJ3z0/+HceafkoeQpfEAgNpQLb7ElE08GSAKqYYnWiIKGqYbUbioahhShiXYLt/2bIVybZvypHRVEKr4DNcuOWgmlUotc9zU5JnZ2dr84Hg/1f+C7wzG8lwMWvsgACyZVQnCLCfHVAYKlmJLugjEgqF5uuS120FgZHRDsgVK8hSbKhbTG8dlRRSFMBJZJPac0tz8fCk7iYsZ3NnNfTn4HzieuDMQK5ViEPmQZYFaIwmCJsdUHpl+YCiWCKuRkSnohqdQgSTp2PUoCj+RLMuZIr5SpCJLECIRoZ5Ymbj78WNpNIHhbpec271zfOI/8OwuhplZd0zCZPkyqcZiZRqPLdPFd1c0Uw3bodAuFhWNMgzD8zzcybiVFd1WMhnDKEpFO2g3o5UoWlkRK3Obm/PMOI7N6IhafrN955l/w7HuAIFn9Y9phqCBCSHNmItAZXgfw5Sm1fuxFrSGXNzQL+u4YAkXj2ldTmtF3VAowwu8ZvPeu3fN5lqv17u7ubk8mcCfibk3ueSHP/Dc1vA6ESPA0sCeu8vEU8CiEAKIaJKnPEOWjU6jblHI1dInT2QyhcuFQkGXdT1TMGSp0QhkXZZwnMUoirxv75q91lpz7dJ8ahj/YQzl3nCnMTw7kfoXHJoAYPjbdo4or8N1lmWRZYkiTmvm+MnOBoVTFXhG5uTFjqxndLzSsiRjOrB1SZIOSJ5nr6xEnnGv+ay39ulT89mD1DD+oxtjc1PDCzP/g7eBimPGBq7vTbEhQmZ5nYeCdMDW0tSGjBPb0AuFzHHMFvG07BgY+82ovX8leYcBAD8zPXmWU1Rcx+2c9VPn7H/oNS/1+jpfJSwTQaeAm7oI7xZ5m5S8Jb6bikCykiVk0pAOs4mCl5jSEgWUTRCX5qWZF4Zax2w/7mHbj9HZczzH2zl+/N6f7/u8GUXV8KmaFtNcDd0MX9pV1lW5qrVV5fGoVLJRaVvhl2ezT53LPnWh5f1LAEtD3w6n1NWlDARHRn63XFtzKm6gBg691LTSxNzczBvl1ZlFGJuNIwidx+bxNBoNdDZptttXYyIieo370/cwXokd5Tq3t0mGyE3LqJ5VKavy1IVdFV+dTui40PQPzH87/PEvdXW/DGTLI58uBwcH1QzEnYbc9WJJaWZmaVTULBfDMR5BkATJI0ly3uyP1VW7vDc/vYSmEXGQ0tsJbK7NQiEkLA0tg0ZrTq+68NlXfH4Wv+JUXtMH74ITIAAebVNfvl3TMVAzcBrOo7QbXIwhYmI4iqA8Wi9FbpVDrG5T/OExwvxtZaMoXZJx++wPuWbbjhGTsHCMDZOgve5JQvK1lqXh4YrBu364IhCcnJBQVRPX9OOXZ+JvdnQEZcMmnf1LTwaDgyAIxsM5HJwn7zPKPH19kRQ/bHE655pGrAT0P4KmNly+tDhv8VEBxnCcXRQdFpKQpuwLnxwaevjw93fDd6oAvnDp7M/FwUF+ufh2XE1OERsay+Kt0oRMOkqQVu1o/eFwJ2VtzUltaWkZoUFz4eeyvK74S1+bKc8duATBMCYjIqynZEZply8PvXo1ZBoM/h/wlZ9+vhocdyj14qGTMNBBlfdwDn2FK6/eF4qYKxLEnfabVNptWXtgW1+SNjWzGUw6Qnhaun1Jl547D7qUCAvBRSJ2RHSzUtsrf/rq1dixY52x770DDr1zp6np4lcVV85ePZedHZeQUJmbOhB3spWLiUQrGpndqOKCvILgJRV1RsoDi22H6pjJvCFi0jO01HBFW/E3Xx8Ud9EkLBYHYDataN+zGr61MTZ2bKwz9t+u/vit8Eff/gMfv3z56vnsuFOQreamNSanq9xct5COaVUeJ8UMMp2DN6vM2xaXzekxaqNEKML84IudZ8Ndl08U+75MQQFGOFyArSpP38J3j/o7xzoLoMXvgEP88IXBn+MLISNPqVOWJKc3t2qVVtW+kIlG7dl2bNvKKIQ5Lcqwmrdtb3acHrdbJJqmC3+6TV0aTrry/W1fV5EEARiFbZVmtXp+f/Xo8TIUpsSxN/2wNACc/m1TU8eFih+Ck85lwynRU3I9pzRR5tHO3BBhyL0fvT6fMTE4SjMtnJ42b+9MTroerG3P7x/9dGZvDr6DFh9RVaMIsCgq4vFi7mnkjzY2tpbHoBYXG3clKyAclh7ih6XvBZ2CnCv1l8b0zNlyrn2krJWNYSjnzmfF8TqZ1uuwaszQ00vjEyBvb8tVSiclfHJyoqv40nVEgqAslMNBmdwYmpBuvv9oYwjCYIo9/WtWVllgOKSppuLuoeALKSev18IhkcjGSKVOyyMxHPas07fOxPs2Lb2U7bW1Nde4fqrQZ1t78GBt7YGz+/j4+HhSsQpBYcmzOLDkeQAzzZanTx892traWnh68wrA/EAwyBcrmm7Gn05JLq092diYiKPknk5F4jihkfNq4OFpYZbttc22uft4SSC4daZr3bUJ4VJMmEzjeW0+LsIBGOWQBIplaJjEPCUy8vHu7u7jSMoRgANNrujQ9vaRssGmoJvJ6Rcv1taWJCZiqGbxR62GQEmVklv7xS2BQK8eH5503VeoBfBcK8nn2t3ddL2ZnBifGB72PSM4OMCwwfFQnI0R6PwqbG+PH7+em7McOZs1WCENBI+2t5dVNP1xM6UkLbU2kZbTgaHuHz/U5XIJa2WlpvXMLajgiicUoE0K4J+YmliH+fVgc1mhULx5s76zSuAkB0FJ3moMB8XI1b7fY7sViocGk3pKeuSSHw55O9yT3n4Y4KCrJ1MSKktzShJqAdbpZmpLudrKHOu8ozipDWbU5u7um7akQvXE8KRCMQzD/Drc5dp07XhgHkBbCZ5drsJQlNdtgE16qL8TVpNg0A/z+QHgsPR6gA/XdiSfPl17rzoxtwgnivaUXA2t1XsqWTU/bzx44x/U3TxBYZvPp4AYnupyWiyRlvubmzsqhJQrZdBceV8+F0FHDRtbxwxjECDHBvnhAC2OALi+TNqbk/sCLp+z1dyMDIxwz1hJlDuje+5TunGEtIDrWp8SiGFQ1ycVk+PiQYvNZrG8tji9sxL53N5ir7y3r68vBsErlrfGhgwGw9Cxh2p97NEr74Cj09vry67lH+pIb07LeTnLfjJQGU2bmSUJnlJL9XqVXETSu3P/vqKt7bxAPT4x4Ye7zWanzens66MuYpLWA35Wvlw2Ohceg7iXto71mwz9nfqkhwb9k39gfiA41A83HalJTQvteTkdUSAQqNszpwnCrlLRyve8SkxCO7C5htsWtY4uk8k0MbluI4hWB3XUI/c4RhDWzPMsabjcSKXeZaOjCijiG4b6+/WfHx/Tnzzyjq4GOKS+bvDaH7WnaksaX+KhYngJoo6mcStnlMYi0r63OCshqdQDn89rXL07YRoffnN/m7SPOKhG+7zdoURWFrv4LfUyquPAoeENLgx1dhoKPy/o1Js6Bf/C1z4OAIf54faXHXG1JSX38EaxSV14x76vu714R1uEEfbcWRQzGl9qjfJt6rVnz+acD7YpRqWVolJpSHK/Gl2ZaWuq7xvd2ztwMKOPLYwXdBY0nABYXaB/AhsIPyAc0RNSnzKY//JQR1QzXIc+gbdKpEar7sPniw6lECdJHpNZbnULsfn5+YOuLCpMZ4tRC5Nd7tZgmAbjrMyWwesKRq/3QIu+GIs1iWEdTZnEZ+MLxJ8EXc7iHywFgpvb21MGw3IPlUDaXM49rhcfv6PU6nSLdTPVDA6O4XSGEJI+VEa1OD1WFcAU+zxBbFPsPBzH4NfsdNmqWabz7qmIGkOsSS9QmwwmQYO+QP9JUDyff9AdCI5ub78o7b0elAaPFPZpT8SDITNaiL2Zag2djkMGBFkXgoa2tR14rRJ0/t/Ytlj67ByQGUJRUXPMP7DHfFkf2y8W6E1ivbigU/xFclAxny9tCQDHRNeHpEjDOmoaozKac2fDulvk7n2r2zrTSuB0FgeCTmdJeHlqdd7zX2esVvO8GVSn87FNhkGHiIRCRnWv2eN1OIyqsw0PH0JfF0yJO8f6G0403iyW8q89Cw0It6dK8zv+/Ku8KDEqqvfwgRVnaDCurPqeCKUzIL2loxJEzh8vTNJBueBX3cHOjstmC7/vGtFAhzCnp0Xl6Xa5Q0vdqxM0FE7CWjIYOvsNZ07cevEewFWHPwoAR+SPJkjr/+goZ/Y07kcZ5U4rnUXHSB4t6uXsNAPH6QBzVo1t6sJzcefP3+5qW99xvdl5vesyQj7LYAqnhTdSjB6tccSbAIXHQtizHo71mxpOnJjK/yAJ4PDQgHB91ZMXRxOimYmfJEZp+3rJlZUVJhPjtZZV3oO/DCOM4KuUYah5nWvL8/l863AsbW7anCQiEsLMzmDPer3UEaPWEZP6xS09LMerU4IGfx0u/INzfH7TXEBYVl9VEXL0eoSwJydR1r3QYpYgOFPE5GSW5WSwRXRI41i4efWZOun8V3l5eVlZ64pll8tlk6N0oR9msPd1z70jI3sjJPGbqROiwB/i8Za771/N4lMDjHFMTExY/W/HQ47+GdFTntHavXFsYjHsRTkODc08mSMUMVj+oPPMvXD9LIRWf5aXtbQ0uQ7nIYcxDWsZxxn7Op1Dpn2uJFEy/NXYfzH0e2T+latZdYHhCIDPV/3x519p5bz6ha1XE/F6Qbr/hpJ4qDJDxIQGwwfOM1+Lj58SCKCKXAhnxdKcBsVE+1bYQehYq44/wnUvaglY3orJjY2FhYWt5aevI/PPxJdVzY1mvhWuSukJe/FbkjTt+vU/M6MPL29sve5TN7Qi9BWkdOD6DSGdBbczJouDEbLi+CkIKObC6dhNQVjC6X2VmcdhiZLL6lpJQuMmifm/e7XWmCTDKFwKQYtuWHPdW7WWtS5btx9h8aUmEKgQ9YXfp0A3xQz6grIECiQCMzVu3S9agN1Xlt3NrCkVlS5bN1uXRTgXa2G1KGt1aP3MrtbZ+MPGHt7znvO+532e5/rzr/EOPi+7kZNnawpua2O+C7wszkWzkOPmHGqwBYTiB02NPXs2pk/PkD5hMNy1aroeKitVhIpSZ0o3HJ626NpKGbVk56Vzpd3uWlP1McVnbuybKSJKNFyJFE1YRxN327r1Ckwo4aHo3cuarORlqoJHzu8Di3k8XomqZAmFsszEp91vPlJz5aR9zwZ4DTJQyAEKc5wIdhqaSlq8cdG0WIO2ckm63bkJHi2EMH+X487MmcIS7TxUJJV+mD9/CzTxadjf06fPba1RLZhtKC0oaPg+UT5azOWSYaZXrX3gStxzZf+Rxq3zT21grJuHMlKCvnppAiMFBWR4HormVRpm7Kq8ef6Mw5G0LiFBGhPK79WrOBHFtFFJXpQhOTv/W0VvOVl+oeV+ReFCVhjYNOD7MlsZj2dp0FLWqjwfoq6C42B/4+VLDw7R8hOtT0ZEE3BKG40iEV8ieqJPegp34dUbd25cXJyY8iQBjQnxXr04eEeR35tG94pS/eu3wIPp6GoQcfYeH3Q8pzAzS7O2rQVDDKFxuTyqWGxRsWeVHjmyraq5qeVky6NNM62tI3wEwyoyE2YJnzCmou7ly/dcvQMUDPwTKDm3SecqOXwwidDzi3nEk4Q+88vLz54Dhu3c3muyA4XJbLvBsNZJHtem1DZYrkByi1xiqlO2Mv3RtuamqqaW5sZN66ytYwN6BsOrMAsV5vp6YwLqde/bhyaGD1HARYWYsvj84YPzUKM+389nJJZvOX2/sWZbc1Xj/eopaXlLVAa7Ya1WOLxDmzGKfkDQRekSi8W66sLZTVXb3lVVNW6SWt9P8KFWkdBszkBMQkIvTUgRASrcGeFKT3HTMUx+/mEdH5XwkwjUmrGlvKlnz6YLLS2yE2kH4jQqg6GAIo4a9UP/RTVwxwHH225UcsX27aAo7K96ewOAPwKwG1EifCBNzXpRKsBBwEEGV5axXqkW5jOX1rkl89x8NNXq2nJ6fw0wEMerp6xKtxs0doPz7SHzgJ/5egqnrOKUlYUXTUrLebx/2707YeCgVMoXZisycGBvoXygtcK4KUAswdeckFtRV8clkjLcKLAklvLmmuaWU6Q0AclnKIVyroTl/oJmPqwwLbC8p5jm4nFOFF563AOAx3z6LDUjumxFPWgwhBGFeYABsHAX8s24moOZQQPiygngN1MAuLS8seZ+3u4FeXEsDdNQ8KgbbXjnX7OfHCj0wZodjmJlxIkpEZus1k+fPnttOhYHw7k44paKRF9RYeQwI7jaJBdiJhzhImY+9FqrNfF4y+OKFVNy4qF3SzWq2+K+A37dR0XS5DscAO4v6li4UC6CFY+Irq1V0sPyjxmFFafoiRCO4yYTJkR4GKYU8jEmgiaiACy5fzwnbVrsUg3glhZYFKN+y/wylJtfVgb2Vsp5ZnVa3oj37ydEV3iQerXOxSfcwDDpcZMtN9eEYwiBk3lETMjMjcQh862trVjeipz0JXboXSDgqGBc/b3oTwsDH6Lw/Lrc6uQuI8b6NkfIcY4f0esJQuI2dYkGXEUGhrswExLFxfCgqTvqNTKMvgWCNfFz7IZSlYqlhjPjt6PTqCiaGEJrsRRNXbg9YPL5AtkzxGYYrGJCtojISDWGYEomjmMBOjJDDvqARP9Eb5qenMmOn7p0iaHAnhvo/4dOvcFyvPiQWKvVWsie1YKBFl90gM6P4nvHBjrGejxKhc4WqUbgVasIBhVUv8ToDsHmzmLHL5uarbGns8f/uZlsQF8xBABbKIZbq/M8DeqxepfbG4zuGOcZqFSDwIghQqzIJSTq6RmLuSTgY549O/wwm3VqzuZJnf/KwTbkGzJFe/ChIPkUpbubDooiUJzMulrQhUDFFZq4riiCTndoFkyTydjAcWex2TLb3zqQId+HwtCVFv/tl4eTtw/srTfbKjy5tmAwt1ahgP5FTPnm4Jvuqszk2XOfHY6rqAC3V/bkdnBnQr61VKrc76dc78XcnEaiWmQRtkhfQF2LKZRqJShC3jfnb6YvmhUfGx95LGx92jy5c3vZ2C1kubibxe+vrLyZt3rRqSVQ0qBdIkoOBysqcr0pkWVOj2OxciNI0zKnZ0Z3bkcn6sgG53VtKOR33r699Na02RoqjumYtdlqE86kUo9NnxXPYlVURFQng+I8vp0dzhPXWrRap9NJcdZFCqpVDRxfZKTNlBTVMANcmGENlEQi5azo2kYL/V2+nddvQ2NZnGTV5pWLsurqTAHkKSU9k+3xsKbGxm4+IFjVRgv9dX3TqFRqpZNCoThfzRWQavt9IMdNn501cGBWlid2Vs6Kjv/MxD9gNE0s11KcsNNOzQEBeKtmyVQNuhmeLFme4DVk+d/FkDJauKlhqy1FHNZSj6GBDLZCDXthThtZbsd8l9FocHFAmVXygNKHvD8qnbsjuo0st2++yxwOcTjh8OqgAG9ZkB4NB9X/iCGj4cKECoN7nlJG4+l+fFC1d5WRmSAWlZQIvT8Z5NofOjguhIViAPY/R6fh4Rjwx7//AinlJxBV+yNsAAAAAElFTkSuQmCC",rD=n.p+"static/media/Ramesses-II-1.118b2ac7a405fb0fe7b4.png",sD="label";function oD(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function aD(e,t){e.labels=t}function lD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sD;const i=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[n]===t[n]));return r&&t.data&&!i.includes(r)?(i.push(r),Object.assign(r,t),r):{...t}}))}function cD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sD;const n={labels:[],datasets:[]};return aD(n,e.labels),lD(n,e.datasets,t),n}function uD(e,t){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d,...f}=e,p=(0,i.useRef)(null),g=(0,i.useRef)(),m=()=>{p.current&&(g.current=new PA(p.current,{type:a,data:cD(l,o),options:c&&{...c},plugins:u}),oD(t,g.current))},v=()=>{oD(t,null),g.current&&(g.current.destroy(),g.current=null)};return(0,i.useEffect)((()=>{!s&&g.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(g.current,c)}),[s,c]),(0,i.useEffect)((()=>{!s&&g.current&&aD(g.current.config.data,l.labels)}),[s,l.labels]),(0,i.useEffect)((()=>{!s&&g.current&&l.datasets&&lD(g.current.config.data,l.datasets,o)}),[s,l.datasets]),(0,i.useEffect)((()=>{g.current&&(s?(v(),setTimeout(m)):g.current.update(d))}),[s,c,l.labels,l.datasets,d]),(0,i.useEffect)((()=>{g.current&&(v(),setTimeout(m))}),[a]),(0,i.useEffect)((()=>(m(),()=>v())),[]),i.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:r},f),h)}const hD=(0,i.forwardRef)(uD);function dD(e,t){return PA.register(t),(0,i.forwardRef)(((t,n)=>i.createElement(hD,Object.assign({},t,{ref:n,type:e}))))}const fD=dD("line",eC);PA.register(SN,CN,YA,GA);const pD=e=>{let{dataPoints:t,borderColor:n,backgroundColor:i}=e;const r=Math.max(...t),s={labels:["OCT 23","APR 24","JUN 24"],datasets:[{data:t,borderColor:n,backgroundColor:i}]},o={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:5e6*Math.ceil(1.1*r/5e6),ticks:{color:"#fe5f55",font:{size:14}},grid:{color:"rgba(0, 0, 0, .3)",lineWidth:1,drawTicks:!0,drawOnChartArea:!0,drawBorder:!0,tickMarkLength:10,offset:!1}},x:{ticks:{color:"#fe5f55",font:{size:14}},grid:{color:"rgba(0, 0, 0,  .3)",lineWidth:1,drawTicks:!0,drawOnChartArea:!0,drawBorder:!0,tickMarkLength:10,offset:!1}}},plugins:{legend:{display:!1}}};return(0,Gk.jsx)("div",{className:"chart-wrapper",children:(0,Gk.jsx)(fD,{data:s,options:o})})};PA.register(jA,xN,oN);gn.initializeApp({apiKey:"AIzaSyBYq-OcMmsJBx5CMYVASBBJNZE9bBrwqLA",authDomain:"kingdom1418-rok.firebaseapp.com",projectId:"kingdom1418-rok",storageBucket:"kingdom1418-rok.appspot.com",messagingSenderId:"52859370206",appId:"1:52859370206:web:95983696b1f350397fa04f",measurementId:"G-5QTEHKEFNL"});const gD=e=>{var t,n,r,s,o,a,l,c,u,h,d,f,p;const[g,m]=(0,i.useState)(e.playerData),[v,y]=(0,i.useState)(),[,b]=(0,i.useState)(!1),[w,x]=(0,i.useState)("currentKvk"),[_,k]=(0,i.useState)(!0),[S,I]=(0,i.useState)(iD);(0,i.useEffect)((()=>{const e=[iD,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAACFCAMAAACntswnAAADAFBMVEUAAACHXzF3VSW+nnCZgE3j0saLbT3cyrm8knGXcEKhim3av5fnz6LGsZv54qpwaFDCkIH235fTt52ogVOmiHLWrITl04ObcmKEkp5sShD67qBnVi+yl4N8XSDivIu2fXWFfG2jgWjr5cBKWU7z1ZT12qPFmluwgF/nxZ/gvnvLnYPVpZD09KJ2URrYvrGgrKmGj393fmqqv7/fumfwegHxhwLvfQHvdwHvgAH+/v7wdAHibALygwFYRDhSPTJBLiLnfA0+KRw2IhbrdANgSz6XQwFLOC1HMycvGQ7ehCvPXQHwbwH+/Iv9pjD+/Zj+/n3sfAfmcQTpaQMjEAa0j1yVajnTpndnVUe3dykXBADjYgXwx5vyvIbzp0RlRjH16Nr12rnvyrb+6mXAfCX/+nKofkj+/PL833PMnXGtjm2shVLxdwH77t/+5Lv+/KznsXnOmmTqrk+pdTasgjRAHwz89ui0fkT03Mz4166deUL6pof2nStQHwrcaQP97n7WfmnvkiDhuYywYg9YMA7TtY75zG7Kii+QZyS6UQPBpH3pr2DYrUhMKx7HXgT3s2LDk2LnkTCNWRepSgX856XRqoX62V5yX1B6WUHjoT2daijXXQbjva/4yk2hdiX97cv++L3bxKP74oq3l2bhk0TGiz9POCdMMxppRhVlJQfu6ef/+dbdnVjDilNzTTxXNCgtDQPFr4LhiHSJc2H9w1zQlFLPl0FyQipYQibrgxyATA78koHix2/Xpmn8t0ntrzT6uDOrbCjPgRzTZQSHMgQ9EQP7xqv6zobrv1nvv0biiCDl0Kvcr4O3izmITSz805nqloOki32JYUyib0WwWEdkNh+lZxru8vPhrGxzMgjs29fZloqhgmK9nE38uJ6CalmOQS/Xlytdh6nYrnbDeUt4LhyNut3DoJl1h4+6bUbnsplTb4bgmnKyblr77fSWtMjLdGCgWBpxa2mwfmF5o72TfnyeUD7SZTCSlcPpbURabczseHFJUVPCPRu72sY+QbjrTR/jD8t1AAAANHRSTlMA/v7+/v76+vfyHf4u+UM3+8H8702F/P388nhi/qRf/v50/qWcZNWmk9XQrO3Typut3cuWiFLcvwAAG1FJREFUaN68lsFr01AcxwMyBrUGA+sORQpCO1cdXjx587LDJLYXhXew6PKq8TCmSVC8mEMgmSwsrmqgXRtmbC+yYxZwxoyM4VKh7JbJxoSiF73tVIYU5i+d/gPy5ufQ0l4++X7f77086h9JMSODz3Hq/5FMZ6jcqe1XSYp+sWVnBv4c9R8Y80aTdEcapUEczdMURe978BQnTSb90XpAU2O1bBz14BIF4ifSN/BTVyZS1ImRevjK65xOUJk5Jv71IzfoQIyXOrfCn2BwBnUYZpumMpX9HJV4JMb6pPYlFmZWLA++EycjT0v7SXqLSY5V5sYyecN4mKaS+Y4ey3KtDuQfOT2RocgDk1VIp23v5q1azXIFQdA9ZsLmzSuQe6wVL/v4Ks9Q5Em+rah8qEtzliQhXC2V2qbMsoVCIZ2bmP8YR80q1qWTqDst6mbHmrMsqdNyqyXfLBeLIAZY1k5B36vfxxPJ/GiauDmntlsW9ByLS77PlYuQ+A+v0umV4CI83b5qJ0iLGT5siQOxu2I4znHRszGFYkHWNZyBugNEfJ2TMi+4SHwiBkEUITxVDVV74F0GcZFrt7tXEtkvj/IPGZrwGsuNLsatVbGytra5uTk5OalgV1ft2eXlQrHMNdrrzqgX0rRmTxBuOtQwiBF41yYPFOUl8Pz5wobrsTBesbhRlhkqiyXCZeclDKDooFI50JpGaXEDeLagKBhrocw7finkikzWVj2yVWdcrGka0qqtoBI1fcfx132H4xrdDXArmuA4hmFycqi5Nlkx7Woa1rDA60EUVH3H99smVywWy40NJQY3DRX+kMPgW5LwkYlaLeTyvCBGqOqAuMGVwVsuNzRlgGbIsLOZFHiJkrsptZAOewoFsdhpNOLA8TxXcXQAI64oAkxZliJOVpJALAsoQqGjmg2z/FesIYQiyBzpBZahyJO9J86zsbgjhLzZhsB/xVibdw8UHETeLCQmz/iLli3rFnI1V3Ug8LG43dU0QTWUCKFAstPUSZASXTmsoebUtfcDLwtic12vVh3V0UCMarCJyTNyefdRxQyt1an+Uk8YiFnYTm1ZF1RedSOEsXgqQVybvDS08+n7mq5Laq//YblrsuCNT2merzq8ybsBxoGYJ+5N1d9dHer3UbXbMQ4Pf20di1kQl+BSwHEqzDyKXpBumr68e3Vnd6//oVfa0EB8tNSVYy/U3V24LsgczJwoinmadMvTj++/Gxre6xlNATfV5tHRki/LbGzurt5emGfLniSdukj60BofngFtvV4/2+81BeSqzffvbzgmG8NN3X56uD3Lj+bBSpbM0MzOu+E6MHzuZc9dsWrNqUW/1OZZuOZx5iL0/nSWf1p/fSFBtOXLj2cgbMzQ7u4TvLI/V8Mbn/2G7sVis7G41D+0WfZuvf5z7zwxbWJ85s7wmzdgnR7avTN8xtONjiW1uiV4M8lw8eDbfmmpZ8hle3q6Pj399eIIoS30mxU7j0kyjOMAPjCkcqxGZW21dfxRW7WukfhqWoZ0aCsFyaCCcAZWdCnkIrQDCjw6NIXuyMowI80KKrsWlGViUlZYph0WmWmHmbWO9XteJFtTO3/jX/z4/f2e93neB+qgYr0X/EUSSSAhUTinS68s37171oaH5zOjp6EX6sSr5+dumbteLL5y77JQWCycd3lYt/+wUQ2l6vVeejysjKSPuDm/shLeBk5uS7maCUcxwDDjXXPnLheLxaXPhK6aV/uvo+46JJ+qUoFLqsi5IyteuyyWo1ZDWrhDQJ+jAQZ3RtSuc1dTMsWbcisE8cBCv4u9Yv5p1AOTKPn5qtpaYXwOJiJ7w7v8djV+h3i47QKC0e0FLa6r56KiosT73wsxEaIvz549eyf170fds4dHErgqcEWY7FlEdGbRAdiYVhw4AXeITPzyAjBcIRLF8B4SfXz/MVuZBBMh+cHlnRUywd+NutuQ/HyPpIwMlb6iHpNROacLo6OLZsXC9WV7bNyRAyeLMhMBddW06Kio6OO575kGEwXDJPHCy0IySYbJhL26/vlwF3oAHHO9dqcEw3LeOiyz4GYUdzFWTSAewitt9+4DKd5b4QqxBB/z1eOndmjSLQY7CegKklA/77AIqxcO/MPhLshauDAra3OMPucOJsiyWdI1+/eVqLfHcoh8s9kcYDbziUS4TKTtLjnr7Vpf21KS5yaEAO1YUAH/qnD2WqEIuyPbM6LnHwx3cExWVlZERISHHuJSbI50zcaEZLiNx670jPzkqsjIYKMR2afVcZVilHgbvPmweCEapsPRHdo8r5YK2UUikWBY198dbpYHVEyMhyoew/QEhyV946UE/7uc2Li4lQVvXuD1RvsGVZUnASVXl6QUFS3fdFwsDk+4tFHDtNio0GYSKf4whkoAo/6N4Xb28EhKmgmLCtZyTm8LdBnYcEayOq4krtMAJ2IfOXW23n36OJ3OdwOqtDpkwy8im2AnW+/vD3S6xdKFBOC8xfW4LCIP/OVwO4Oan/94qRfpDibqZwB2I+4ytsTdnhXXyfkI2EeP3t363NSnsbGxuRn4NziddjFFDO9f28JBvoRGPVSAYfUA4yUZ0XHoIRkzY2aqYK8qjsdEFJOBCV2+5A8u1PLdt2ct6AMquNW3Przv39DY2IDLQBuJ6rS0k4kzogsZoSwUeh3TQaTI3LJIhFV09FCPUmXMvK5SUb2KMYxMMFg00OUEUP3odDrj1N3Ym85G5DqNNZamD6ubnz5tgGpsRKkjCSBXJk4rDPMLDUWhN8Ii6wKjlolaQue0L4/M8VKtXUulkA/LKuyuLoezQv38/BbR6fA5dbbgE6jOPgPszy9WN7189hRk+EBuGECk5/btaSnTxLRFi/xYeOh0psHRg4xhbvlLe93ueQebp9fryQJMssDgYGpCElBcYGk0WhgNyjejoKCgU6eFJ5KL1ouveOu/AIuq+ePXj49eAKxWF66H5viFQmh/Hr6fmGDU7hrTDox2OzLa6ijlDma6Zod/eDg+XJqPq8au31dYgk5iOBJhc56+ZO+gL18aAP/49evHRqfn7e2xaSVzaWHQHkSzWAnoyTLYYdSo4Bnp23ZgCVr3ZJmsQIE/QixWKINBp4eF+bQUuurHocMppQjdmfADYsnwLw2NHyHxU6fnRYDnr/IJ86HDdEBG/dZAv1NH5yBYdljSp014GAYwKV5UpWDiOwYLvutHp9Hc7hr47a6SQCSgE7myMHEafkTAqTi8uBnBAzixsJEv8/Wh+dDoLjgcZAjtsA6A5S3bM7u2bZiKwzK9Aabrz2O53EUu2NfXx3fNEm/PQ+V8Pt9ulh4iqjtVeqMDAl1flj5rbm7opOaoCZWrfHzCaHR6a+YENGklBRPo9dc3D2gTJuNwfX+LZscOFnL94CmitcJn7+sOmsGN1GabdWYiUUlcGeGNTuNdy5O9SGUEDmfhiTU+UDS3C2PmwSck3VGGSWbPWZvVpQO4AsE8PC7A4Lp7vX/85MiDgcHBwZHj8/h2u51v8oQDkhAxZ58Y3q8TCytz96+BNoPrhqHg7/B4PI2lX70M4AjPNmESggUV3Zkbd6C4UO68ENh3TRU3IIA9cXxQaqpVmmrsrUs12u0EwqFyoroyedOuzBnrp069FoZcKICR3BKaF8Is6wjGE0sADsED49tGiwvlEcgNCmSz86xSJeGmQnFUIS3XGeFostvLFadLxNFRiclTp54Kg8w/wTDmEOaCX8GyQa1wa2JfaHTw+InsiXlK283ny+R1TQYr4aZVoTQpy+/rjDqlUr1vmrhwqkuGgtXlghmhDBec0zEsIpFxGLkuuCXwqTL25CBuHuG6/IZcLq+rO5FbeoWjsCoUSh3UIVho3pAYCprthqEY4VAJPDe8uV0Y1nw8nhj/FoOOVFTjtkRy2VOypeV1D+TyM0CXll65UjqHY7Uqy3V2oPnZRG8cngDd+Q4zcNj/N2CSVytMh8I3LXDH5WrZbC6fn6d49QDBD+RPXp+2HSl9i9ptNFYFS7Ozk/Yj+JTvD4mh0eD+BlxPVnm1wqhoLZm3FUxhcwOe3TfVHEPNflVjMBgchtd1NValiW+G97+8oHcrwEW9dj9RaMA/wHM6gAU7cXgHD51JuOtu9pZ3gWxu8DOjydS0evWNWzU11dW2508u5h6BOWebp0wumDgxsKAlsi8uuyKDjI4pgCXtw9R4ErUF9me0JsblI5MCJ3MDq+BhOnpr9erq6mqDw2Z7AsvMZrVKs/MCqrTB7MilrTDavSA0Ha0vFssNL2sbTqJQqRl4qwFucdEDheQDk6ZMzjsYVBbMZVfLIbHBqjCV17ysq3tiUljzpAHBWu3k8UkIvoYaBDJ8jU6D85EOMGq1YM7S9uAF+RkqgDv/CLe4vie1U7gTeweWabnSlw/kx5qsvSnWVFNNnbzupgHg1PFBAdogbS4eedw4ZCOehmQGnviOBOCYtvfqHhkzM/JVbrjVRcvaI3AKN5BSJU2V8u/Jz9xYrdAJe9u/UWZnr00EcRzA0YromyAoglDxbzAq6MxkxnFmUZDKatZFSQUJxKp4okaqFQOeEU9S9EHwSFQ0iSleaB/ECzxKovEiagWVoljwQF988jvbrInVVP1p0760n35/v5nZ3fTRt1svsc5a42usnCW7KQv9hKfixcsNePZPOFQHDkWjO85VYOP6LA7qr4K7tKf4IPOgsXDlSuFl/lRr16lXt25t2ICBX8yabjtSnvXgANSAF9vAS/4BbmgAXJO44qICUYVW94xoHFEuA97w8mWht7fNuFfypdK3rvjNmwlKxoL14AAKtA9PMYsL8L068JAGVC3sDxi//Adpu+7Ynt7GcjkPGPKtW+hz4UO+7V3p1au3rTlBSPc9Awcq7H/AeGQ6ZuDrHuwf1FNRe8cx13U7ekaPHpH/DrgtvwFVyLehDPzq0U2LK9VxHqv6j/Cc5gHg4Xgs3XNuoQd7d3kmLVzUTula7WnZ09jowS/zpXwhn4f7EfCr0sfejOtyotQXdNp3zZSriZf+C4wj0ywupPXly8cuvZjTmigWi2W4iFwqIS5cwG/e4SXsCq6VLh5Hp72qwk3e4jo9IIwn4h2AvbMarp8Yi6Xz/qhta3K4ne+DP5beteXBgiyV3uS/9+ZckbBtXTyDwFV54mR/VRefDAAPhevDZsR+YvyQzXs6r8ZzbpJmDNz26tTbUluhDZUvtX7auaDtkevaWcqo0xCohf0Z/w1umbOnBp4E1+/1nc7bLTnXcni28fuV/NtcOtv10Qy5UH6Uu3b06OCcbVsWY1Iv/gl7Z4ifGDNuHgAeUkm8GzM2iavy1gU7T7ouczT/hm17Kn4pc/Gbcd9/ya25P+uq7VrCtoSwaKgKB7xT01/VR5qX14UHDWnxWz0bsD9jU+dXrIrbLpHMan17o9R1MRt+1JUvFBD4ZvzCrBdY0sJ1cxYbuxdktdtVePGRdcufhkJD6sEtNbB/bplZdW7bF3dth4pcrvXtq7fhbOJRV7lQeNnbmojvAmxbtpUTXJ4P1JbJ7LUat7en1y1f/jo0si7cArhyVkP24QlPD+1b46akFgKR357KZhPZTLlQ/nIxAXhTzPY2k5Tq2K+wN2QPHvsE8L068OBYJPIluh5w9eSCa+CVcwe3Wk5Yc0t1934sIfGl9oMjHjzCF/FFu2IWYKaJQ8dt7hd5otnHU2bgItG8/Onrzjrw0EgkEl1Yhf3Ak4PRIYMTaSeluas7GsuN8LLtHZlMOKwSJ+ddiKXRacG5IsXfYCSuwk/rw6uj48f+CuPADZ7IdDhrUo5mwrV4tj27JpwiuMV7kJEGPt9OqIGZ+nom0K+q8NIB4VgV9kdsbiOOJ6kUxOHcsoXgiVwuTIlzKeWECU08m3cmTJPMJO5eEOg/YzykT/trq8cMGhKLRStndeUpAi5g3GMSnZSMW1ohmW1RImWWp8Ka8lPzzqcFkYJJKnf2c/HNTU1BbKe/whHA3gEyEzBkjwXc7SSIo7UlCFGECcGyktBUSlIuTm05wy2iLZ1M0oZ+8ARTQbzXt39geHCspRau1LQJk5qeE7Q2LSyNIpKgr4QiNb6y4tcWXNJEMa6Sz4//FhjVNGXKFMCYcaguPLQltmI9YO/q5MuT8O+Mk5RpjuOYg3SkxTklgJGfpx+MvqSp1EzL6G+BfXg7EgNeUQ8e1BLbc+CYgc27WxXW1PGvhDLsGfxnCgPlihFCqFIklVI6xQnmLtLHLv+6lyZMrMKn/wY3VC4SeCqvgUM9TAmXOcglKFFCKIbIVKHvKSbSituC6VTH3v6d9uHHHc3L7oU+nKkDnxwUiRh4xmFvO9XU8bHMdlkyKaWJCtcWmipKqSOJzgkqBCPyUrIGnoy3AqvwlnDzwteAhwwArx+2f8aMjdPgGtrj8XKW2opAURin4tRxXU2UmTKGLSxGtNBEd2wOTPbj9rnmNWjgTPP6zlDn+eF1YCzrPniKv7T8z+eTRCqlmFJUWcyhNrME40xxISUXSlJuCSeEoH5goE394RUn6sIPI8fudn+aMWO2wTx4Wt9vvtghGhCjVKPNSlDp3XNwi0qpLZs7DSueV66JTcDNuRMMVuFrDwy8Z/XQevDcyJy7GZO4Fkbsy0UJF5M0DeZorUOF1oxqZGWMCZZc8XO4wWBw8gQUbAPj4oTF1QfPG14Xfjhn/kUzY39FV57cjheJLSBz4JpxbC2zoDFyfHBOpE7u8JvcBBgeOm3kPnjjvvbm9a9DZweGw9O9xAb13ctFR1LFIKOUEhgwoUo6hGrA6DaTgKuJMd6moL+opwHuam9euDx09s2fYfz1bBDgTNduzNiTTZn1vUI5jqM01UJQhcjoOCUELNUd3dyRijudtTBo2JUCvPsi4HvRN2/qJh4Um7O+vQp7Ewb8nH5GOorQXDNEtgXB5mJaphJji5wSJr4enzzZ30hw/dTwTau3ZzNHlh3cszbS/Ue4YcdQwMsyF3fPuD4bXF9cQz8f5wjuUEaZ6TKlrq0oSkqZHdEjbG7JnjvBpmrg2pqC+tG72ca2EMdxPGdnHhoh3pCMeEq8Ew+ReEhoimwllhBrkWvnRFq3ZseV7nrNiFVbtOiDa5jgamPF7cgyy0xMzVPRUQwhisiWyBZesIjXvleWeLF6bPxe3Kstn3x//9//9//f776NlCyTBEbhuw4PCu70FhIWW+e4C6iuG7juqezvrXqyfo22BF26WAdw8aJFeE3SNixatvb8+Zd95esdF5qjQGTJqwYBH4xrm6XOkNLDfxoUfNRCkniXMB65fHCFil44dyBsOPSKcSLqtKgwvRYNq0GnA7j8wriXD22Xtz3pX64y5mfBbW0/cleD69G+2ZDiuJbTZbMHBc8wZDK4Wb/iiENZ8vcFXjqv8RNE6opLdOjXJTikSnAgaBvil8rj5cOjnUZFCUXb77WFw+HqcG1gazLpswcCtTUD3But2lFW1sg1tigVRYOCR0dIvEu4tr8Kffi4D2Q07Gy6V1UcXlyMTqVdVrxGV6LX4WhcvKwhjjgfpShBEEWBlgRTIGBPXEvYxVi6zl5rBtucBa940Oy00m5GURQIHjyK9mYypMvgsnDUVlX0jZ2rs4tMqp0Cl/aSYiR8SbFev3hx+aV43HHJz7IxMenz+erEWIwy3bl77dpVc0AUW/ZcTYRPmZLB8PLdZ4ZZJcrIoLRsk3N+aptIHm5uyhTW19vcKWbfvn3fRIcrluGTgB7NGU+tmvTFBy5c8Hg8pMCybNJemkjcTcZkOVZ3HNxqaBb3vy0tLTUHk6Z2r7NKMIa4dq6sq3AaELnIzc7KYxW4X7sqplZ9uAny6jD36E25rqFBt0SPTYTugWvPBceBp2fOGCgW5KD9GnT6IFn07U8k4AdhJXkltCNq261Wp5cJcZyyzUCAmzumSJgdPyI6Ogw2rzT0w77lp0c8fvT4EooYYL2+ZHGDXu9weHbseBHpOJ00BYJBsxniriahXbzzNnHNbL+iivcBm2iUF2wwtTOMkeOffTxc9CtfD77E+R9EjhoK61OyZttlg38CqjceP4AjwuE4gJeXp089Z7ue24EMh2tqqksRWFgo3nwXiu/UiQK11Z5I7KetcmoUh1B4w5CJI3/DDGi1vhsSOUoUkv4NG3s7LI8xjkaqHcA6HE/LW1ufvtiG/RJG1FRnuYk7vrSIAhPr6jC4TwbNyHK3Vaa9TEEB19LTQUwb/XveranWURHCQBCFmbGVG3szRyAW3FsYx2Mg3+rZcfn0ut2briPutbXV1NxL+NKsGpIksUI6HcR+bq9c4PQauZYWJsQbZhT9vo+K9hME8eCBwVV2rCra6tA7DkDtjh3qsBij+Q5Q3yLuqXF9U236NoKi1OdrKm1fvkeQWU2U4RobTymWI9P+zNOUIYhIZO8JS3/B1A1lZzxIdBw1RXR9hMkV8zt1dbNRG7hiui2kseK1jSba6Uybl5uqJFM3w3AQrLgmjv5TfxEBvwEcJyRZ0USnCM+O8iOtD8YxoXWb1BTfA/dbWSVjsRgrXq0uRRkn5aoqqlGWN2q62zkuFPJPmA3sn8bIiUP2GhCYE9iidPRDf//waNSowMiuggfKajM2jyxexO6Be35L1YZhtERTbvwhpzDe8X9prRo9kRxnOGrocrlctm6pU3nfhxMBir8JBhbgOhXsqwYYbXpqSqpi4bXpjMIlZKJm/r2ZrGgEJIOMUUHIuZFx97mfZwWD+w18NyDKshSsLjXX2qlRTpm9/fp1X2dT0/OtJ+f8i3MP+c6Suyz8tv6ok02bWvb8wIVi35aYxGLnBrr9Y2XaTVEabxRPatS/ehWR771d6kKTZO+uvqlb96CiBxYYYRZjarNMuzMZVkqlXvep3hX69rtZeXBnIt8uiCZJvren4CTbuByCscJZdLW5TkwLgjszDgeGRqMZe5Ki0uywWTlq+c/zbbGNMKyDaMuH4SnhVLgN4AHJZrPJu7aCFbxNTU2aqSwt0LkMXH9noyvr+eIiSbKnlzc6ha1BM1R/01xTw4+hBbe/CV5GFj1z6Mz8em+LppfZXC5ejUleWXp+Ck0rC940QmDdRn80hZAqh2IL5Tsmunp6e7ssNgtvqz8pCxRKuTS8boRfoIzgUidTzsrKwbdQHurbVeiy8fe38z0cJVGB00ePeAXKXVDgdkc1tCo378yBfM8g0E2282owuFkKFOXGh4z6bjdFV57LkeU85RuOGwPyzfOW/jF+o5Epw0283khJG3JkOY/5juwlgOZ5mw3XcAXa73MpOocnL8/5vgzV23igyxTVl3raNCpHo8o/Ggm3WHilBT9tI8iKnzeqfFeZraBewSvem7W/uMjlH/15cnOm+TCw/zlGT1Oj6K///yuTe1TkJiIJZAAAAABJRU5ErkJggg==",rD,"data:image/png;base64,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","data:image/png;base64,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"],t=e[Math.floor(Math.random()*e.length)];I(t)}),[]);const T=e=>{x(e),"currentKvk"===e&&(b(!1),k(!_))},E=(0,i.useCallback)((async()=>{try{const t=gn.firestore(),n=t.collection("SEP_2024_KVK").doc(e.userID),i=t.collection("AllTime").doc(e.userID),r=await n.get(),s=await i.get();if(r.exists&&s.exists){const e=r.data(),t=s.data();b(!0),m(e),y(t),console.log(t)}}catch(t){}}),[e.userID]);(0,i.useEffect)((()=>{null!==g&&""===g.Id?E():b(!1)}),[g,E]);const C=Math.floor(null!==(t=null===g||void 0===g?void 0:g.KillReq)&&void 0!==t?t:0),A=Number(null!==(n=null===g||void 0===g?void 0:g.Pass4_Deaths)&&void 0!==n?n:0)+Number(null!==(r=null===g||void 0===g?void 0:g.Pass5_Deaths)&&void 0!==r?r:0)+Number(null!==(s=null===g||void 0===g?void 0:g.Pass7_Deaths)&&void 0!==s?s:0)+Number(null!==(o=null===g||void 0===g?void 0:g.KL_Deaths)&&void 0!==o?o:0),N=Math.floor((null!==(a=null===g||void 0===g?void 0:g.Pass4_T4_Kills)&&void 0!==a?a:0)+(null!==(l=null===g||void 0===g?void 0:g.Pass4_T5_Kills)&&void 0!==l?l:0)+(null!==(c=null===g||void 0===g?void 0:g.Pass5_T4_Kills)&&void 0!==c?c:0)+(null!==(u=null===g||void 0===g?void 0:g.Pass5_T5_Kills)&&void 0!==u?u:0)+(null!==(h=null===g||void 0===g?void 0:g.Pass7_T4_Kills)&&void 0!==h?h:0)+(null!==(d=null===g||void 0===g?void 0:g.Pass7_T5_Kills)&&void 0!==d?d:0)+(null!==(f=null===g||void 0===g?void 0:g.KL_T4_Kills)&&void 0!==f?f:0)+(null!==(p=null===g||void 0===g?void 0:g.KL_T5_Kills)&&void 0!==p?p:0));let D=0;void 0!==(null===g||void 0===g?void 0:g.DeathReq)&&(D=A/(null===g||void 0===g?void 0:g.DeathReq)*100);let P=0;void 0!==(null===g||void 0===g?void 0:g.KillReq)&&(P=N/(null===g||void 0===g?void 0:g.KillReq)*100);return(0,Gk.jsxs)("div",{children:[(0,Gk.jsx)("main",{className:"main-main",children:(0,Gk.jsxs)("section",{style:{gridArea:"yourStats"},children:[(0,Gk.jsxs)("div",{className:"section-container",style:{display:"flex",alignItems:"center"},children:[(0,Gk.jsxs)("h2",{className:"section-name",style:{margin:0,marginRight:"10px"},children:[null===g||void 0===g?void 0:g.name,"'s Stats"]}),(0,Gk.jsx)("button",{onClick:async()=>{try{await gn.auth().signOut()}catch(e){}},title:"Sign out",style:{cursor:"pointer",display:"flex",alignItems:"center",background:"none",border:"none",padding:0},children:(0,Gk.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"30",height:"30",viewBox:"0 0 80 80",fill:"red",children:(0,Gk.jsx)("path",{d:"M 40 7 C 21.785156 7 7 21.785156 7 40 C 7 48.746094 10.480469 56.644531 16.039063 62.546875 L 10.585938 68 L 30 68 L 30 48.585938 L 24.515625 54.070313 C 21.121094 50.339844 19 45.441406 19 40 C 19 28.390625 28.390625 19 40 19 L 41 19 L 41 7 Z M 39 9.101563 L 39 17.101563 C 26.78125 17.636719 17 27.652344 17 40 C 17 46.34375 19.578125 52.097656 23.738281 56.261719 L 24.449219 56.96875 L 28 53.414063 L 28 66 L 15.414063 66 L 18.796875 62.613281 L 18.09375 61.90625 C 12.476563 56.296875 9 48.566406 9 40 C 9 23.210938 22.34375 9.640625 39 9.101563 Z M 50 12 L 50 31.414063 L 55.484375 25.929688 C 58.878906 29.660156 61 34.558594 61 40 C 61 51.609375 51.609375 61 40 61 L 39 61 L 39 73 L 40 73 C 58.214844 73 73 58.214844 73 40 C 73 31.253906 69.523438 23.351563 63.964844 17.449219 L 69.414063 12 Z M 34.738281 12.519531 C 34.671875 12.519531 34.605469 12.523438 34.539063 12.535156 C 33.996094 12.644531 33.644531 13.171875 33.753906 13.714844 C 33.804688 13.972656 33.957031 14.203125 34.179688 14.351563 C 34.398438 14.496094 34.667969 14.550781 34.929688 14.5 C 35.472656 14.390625 35.824219 13.867188 35.714844 13.324219 C 35.621094 12.859375 35.214844 12.523438 34.738281 12.519531 Z M 52 14 L 64.585938 14 L 61.203125 17.378906 L 61.910156 18.089844 C 67.523438 23.699219 71 31.433594 71 40 C 71 56.789063 57.65625 70.359375 41 70.898438 L 41 62.898438 C 53.21875 62.363281 63 52.347656 63 40 C 63 33.65625 60.421875 27.902344 56.261719 23.738281 L 55.550781 23.03125 L 52 26.585938 Z M 29.675781 14.054688 C 29.542969 14.054688 29.410156 14.078125 29.285156 14.128906 C 28.773438 14.34375 28.53125 14.925781 28.746094 15.4375 C 28.957031 15.949219 29.539063 16.191406 30.050781 15.980469 C 30.5625 15.765625 30.804688 15.183594 30.59375 14.671875 C 30.4375 14.300781 30.078125 14.058594 29.675781 14.054688 Z M 25.011719 16.546875 C 24.808594 16.546875 24.609375 16.605469 24.441406 16.71875 C 23.984375 17.023438 23.859375 17.644531 24.167969 18.105469 C 24.472656 18.5625 25.09375 18.6875 25.554688 18.378906 C 26.015625 18.074219 26.136719 17.453125 25.832031 16.996094 C 25.648438 16.71875 25.339844 16.550781 25.011719 16.546875 Z M 20.921875 19.90625 C 20.652344 19.90625 20.390625 20.011719 20.203125 20.203125 C 19.8125 20.589844 19.8125 21.226563 20.203125 21.613281 C 20.589844 22.003906 21.226563 22.003906 21.613281 21.613281 C 22.003906 21.226563 22.003906 20.589844 21.613281 20.203125 C 21.429688 20.015625 21.183594 19.910156 20.921875 19.90625 Z M 59.105469 19.90625 C 58.835938 19.90625 58.574219 20.011719 58.386719 20.203125 C 57.996094 20.589844 57.996094 21.226563 58.386719 21.613281 C 58.773438 22.003906 59.410156 22.003906 59.796875 21.613281 C 60.1875 21.226563 60.1875 20.589844 59.796875 20.203125 C 59.613281 20.015625 59.367188 19.910156 59.105469 19.90625 Z M 62.460938 24 C 62.257813 23.996094 62.0625 24.054688 61.894531 24.167969 C 61.4375 24.472656 61.3125 25.09375 61.621094 25.550781 C 61.925781 26.011719 62.546875 26.136719 63.003906 25.828125 C 63.464844 25.519531 63.589844 24.902344 63.28125 24.441406 C 63.097656 24.167969 62.789063 24 62.460938 24 Z M 17.566406 24 C 17.226563 23.992188 16.90625 24.160156 16.71875 24.441406 C 16.414063 24.902344 16.535156 25.523438 16.996094 25.828125 C 17.457031 26.136719 18.074219 26.011719 18.382813 25.554688 C 18.6875 25.09375 18.566406 24.472656 18.105469 24.167969 C 17.945313 24.0625 17.761719 24.003906 17.566406 24 Z M 64.953125 28.667969 C 64.820313 28.664063 64.6875 28.691406 64.5625 28.742188 C 64.050781 28.953125 63.808594 29.539063 64.019531 30.046875 C 64.234375 30.558594 64.816406 30.800781 65.328125 30.589844 C 65.839844 30.378906 66.082031 29.792969 65.871094 29.28125 C 65.714844 28.914063 65.355469 28.667969 64.953125 28.667969 Z M 15.078125 28.667969 C 14.664063 28.660156 14.289063 28.902344 14.132813 29.285156 C 13.921875 29.796875 14.164063 30.378906 14.671875 30.59375 C 15.183594 30.804688 15.769531 30.5625 15.980469 30.050781 C 16.191406 29.539063 15.949219 28.957031 15.4375 28.746094 C 15.324219 28.695313 15.203125 28.671875 15.078125 28.667969 Z M 66.484375 33.734375 C 66.417969 33.730469 66.351563 33.738281 66.285156 33.75 C 65.746094 33.859375 65.394531 34.386719 65.5 34.925781 C 65.609375 35.46875 66.136719 35.820313 66.675781 35.714844 C 67.21875 35.605469 67.570313 35.078125 67.464844 34.535156 C 67.371094 34.070313 66.960938 33.734375 66.484375 33.734375 Z M 13.546875 33.734375 C 13.058594 33.722656 12.636719 34.058594 12.539063 34.535156 C 12.488281 34.796875 12.539063 35.070313 12.6875 35.289063 C 12.835938 35.511719 13.066406 35.664063 13.328125 35.714844 C 13.585938 35.765625 13.855469 35.710938 14.078125 35.566406 C 14.296875 35.417969 14.449219 35.1875 14.5 34.925781 C 14.609375 34.386719 14.257813 33.859375 13.71875 33.75 C 13.660156 33.742188 13.605469 33.734375 13.546875 33.734375 Z M 13 39 C 12.449219 39 12 39.449219 12 40 C 12 40.550781 12.449219 41 13 41 C 13.550781 41 14 40.550781 14 40 C 14 39.449219 13.550781 39 13 39 Z M 67 39 C 66.449219 39 66 39.449219 66 40 C 66 40.550781 66.449219 41 67 41 C 67.550781 41 68 40.550781 68 40 C 68 39.449219 67.550781 39 67 39 Z M 13.523438 44.265625 C 13.457031 44.265625 13.390625 44.273438 13.324219 44.285156 C 12.78125 44.394531 12.429688 44.921875 12.539063 45.464844 C 12.648438 46.003906 13.171875 46.355469 13.714844 46.25 C 14.257813 46.140625 14.609375 45.613281 14.5 45.074219 C 14.40625 44.605469 14 44.269531 13.523438 44.265625 Z M 66.507813 44.265625 C 66.019531 44.253906 65.597656 44.59375 65.5 45.074219 C 65.394531 45.613281 65.746094 46.140625 66.285156 46.25 C 66.828125 46.355469 67.355469 46.003906 67.464844 45.464844 C 67.570313 44.921875 67.21875 44.394531 66.675781 44.285156 C 66.621094 44.277344 66.566406 44.269531 66.507813 44.265625 Z M 64.96875 49.328125 C 64.554688 49.320313 64.179688 49.566406 64.019531 49.949219 C 63.808594 50.457031 64.050781 51.042969 64.5625 51.253906 C 65.074219 51.464844 65.65625 51.222656 65.871094 50.714844 C 66.082031 50.203125 65.839844 49.617188 65.328125 49.40625 C 65.214844 49.359375 65.089844 49.332031 64.96875 49.328125 Z M 15.0625 49.332031 C 14.929688 49.332031 14.796875 49.355469 14.671875 49.40625 C 14.429688 49.507813 14.234375 49.703125 14.132813 49.949219 C 14.03125 50.195313 14.03125 50.46875 14.128906 50.714844 C 14.34375 51.226563 14.925781 51.46875 15.4375 51.253906 C 15.683594 51.15625 15.878906 50.960938 15.980469 50.714844 C 16.082031 50.46875 16.082031 50.195313 15.980469 49.949219 C 15.828125 49.578125 15.464844 49.335938 15.0625 49.332031 Z M 62.46875 54 C 62.128906 53.992188 61.808594 54.160156 61.621094 54.441406 C 61.3125 54.902344 61.4375 55.519531 61.894531 55.828125 C 62.113281 55.976563 62.386719 56.03125 62.644531 55.976563 C 62.90625 55.925781 63.136719 55.773438 63.28125 55.550781 C 63.589844 55.09375 63.464844 54.472656 63.003906 54.167969 C 62.847656 54.058594 62.660156 54 62.46875 54 Z M 17.5625 54 C 17.359375 53.996094 17.164063 54.054688 16.996094 54.167969 C 16.539063 54.476563 16.414063 55.09375 16.71875 55.554688 C 17.027344 56.011719 17.648438 56.136719 18.109375 55.828125 C 18.566406 55.523438 18.691406 54.902344 18.382813 54.441406 C 18.199219 54.167969 17.890625 54.003906 17.5625 54 Z M 20.921875 58.09375 C 20.652344 58.089844 20.390625 58.195313 20.203125 58.386719 C 19.8125 58.773438 19.8125 59.410156 20.203125 59.796875 C 20.589844 60.1875 21.226563 60.1875 21.613281 59.796875 C 22.003906 59.410156 22.003906 58.773438 21.613281 58.386719 C 21.429688 58.199219 21.183594 58.09375 20.921875 58.09375 Z M 59.105469 58.09375 C 58.835938 58.089844 58.574219 58.195313 58.386719 58.386719 C 57.996094 58.773438 57.996094 59.410156 58.386719 59.796875 C 58.773438 60.1875 59.410156 60.1875 59.796875 59.796875 C 60.1875 59.410156 60.1875 58.773438 59.796875 58.386719 C 59.613281 58.199219 59.367188 58.09375 59.105469 58.09375 Z M 55.011719 61.449219 C 54.808594 61.445313 54.613281 61.503906 54.445313 61.613281 C 54.222656 61.761719 54.070313 61.992188 54.019531 62.253906 C 53.96875 62.511719 54.023438 62.785156 54.171875 63.003906 C 54.476563 63.460938 55.097656 63.585938 55.558594 63.28125 C 56.015625 62.972656 56.140625 62.351563 55.832031 61.890625 C 55.652344 61.617188 55.34375 61.449219 55.011719 61.449219 Z M 50.339844 63.941406 C 50.207031 63.941406 50.074219 63.96875 49.953125 64.019531 C 49.707031 64.121094 49.511719 64.316406 49.410156 64.558594 C 49.308594 64.804688 49.308594 65.082031 49.40625 65.328125 C 49.621094 65.835938 50.203125 66.078125 50.714844 65.867188 C 50.960938 65.765625 51.15625 65.570313 51.257813 65.328125 C 51.359375 65.082031 51.359375 64.804688 51.257813 64.5625 C 51.105469 64.1875 50.742188 63.945313 50.339844 63.941406 Z M 45.269531 65.484375 C 45.203125 65.480469 45.136719 65.488281 45.074219 65.5 C 44.53125 65.609375 44.179688 66.132813 44.285156 66.675781 C 44.339844 66.9375 44.492188 67.164063 44.710938 67.3125 C 44.933594 67.460938 45.203125 67.515625 45.464844 67.464844 C 45.722656 67.410156 45.953125 67.257813 46.101563 67.039063 C 46.246094 66.816406 46.300781 66.546875 46.25 66.285156 C 46.15625 65.820313 45.746094 65.484375 45.269531 65.484375 Z"})})})]}),(0,Gk.jsxs)("div",{className:"stats2-options",children:[(0,Gk.jsx)("button",{className:"stats2-option-button ".concat("currentKvk"===w?"active":""),onClick:e=>{e.preventDefault(),T("currentKvk")},children:"Current"}),(0,Gk.jsx)("button",{className:"stats2-option-button ".concat("allTime"===w?"active":""),onClick:e=>{e.preventDefault(),T("allTime")},children:"All"})]}),(0,Gk.jsx)("div",{className:"underline"}),(0,Gk.jsx)("div",{className:"stats2-content",children:(()=>{var e,t,n,i,r,s,o,a,l,c,u,h,d,f,p,m,y,b,x,_,k,I,T,E,M,R,O,L,F,j,V,z,U,B,q,K,W,H,G,X,Y,Q;switch(w){case"currentKvk":const w=(null!==(e=Number(null===g||void 0===g?void 0:g.T5_Kills))&&void 0!==e?e:0)+(null!==(t=Number(null===g||void 0===g?void 0:g.T5_Kills))&&void 0!==t?t:0);return(0,Gk.jsxs)(Gk.Fragment,{children:[(0,Gk.jsx)("h1",{children:"Current Stats"}),(0,Gk.jsx)("div",{className:"main-stats-top",children:(0,Gk.jsxs)("div",{className:"main-stats-top-content",children:[(0,Gk.jsx)("div",{className:"image-container",children:(0,Gk.jsx)("img",{src:S,alt:"Profile"})}),(0,Gk.jsxs)("div",{className:"info-container",children:[(0,Gk.jsxs)("p",{children:[(0,Gk.jsx)("span",{className:"label",children:"Start KP:"})," ",(0,Gk.jsx)("span",{className:"value",children:null===g||void 0===g?void 0:g.Total_Kills.toLocaleString()})]}),(0,Gk.jsxs)("p",{children:[(0,Gk.jsx)("span",{className:"label",children:"Start Power:"})," ",(0,Gk.jsx)("span",{className:"value",children:null===g||void 0===g?void 0:g.Power.toLocaleString()})]}),(0,Gk.jsxs)("p",{children:[(0,Gk.jsx)("span",{className:"label",children:"Start T5/T4 Kills:"})," ",(0,Gk.jsx)("span",{className:"value",children:(null!==w&&void 0!==w?w:0).toLocaleString()})]}),(0,Gk.jsxs)("p",{children:[(0,Gk.jsx)("span",{className:"label",children:"Kingdom:"})," ",(0,Gk.jsx)("span",{className:"value",children:null===g||void 0===g?void 0:g.Kingdom})]})]})]})}),(0,Gk.jsxs)("div",{className:"stats-content-group",children:[(0,Gk.jsxs)("div",{className:"main-stats-container",children:[(0,Gk.jsx)("p",{className:"topTitle1",children:"KvK - 06/12/24 to 08/04/24"}),(0,Gk.jsxs)("div",{className:"stat-container-group",children:[(0,Gk.jsxs)("div",{className:"main-stats",children:[(0,Gk.jsx)("h2",{className:"main-stats-title",children:" Pass 4 "}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Deaths:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(n=g.Pass4_Deaths)||void 0===n?void 0:n.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"T4 Kills:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(i=g.Pass4_T4_Kills)||void 0===i?void 0:i.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"T5 Kills:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(r=g.Pass4_T5_Kills)||void 0===r?void 0:r.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Kill Point:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(s=g.Pass4_Total_kills)||void 0===s?void 0:s.toLocaleString()})]})]}),(0,Gk.jsxs)("div",{className:"main-stats",children:[(0,Gk.jsx)("h2",{className:"main-stats-title",children:"Pass 7"}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Deaths:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(o=Number(null===g||void 0===g?void 0:g.Pass5_Deaths))||void 0===o?void 0:o.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"T4 Kills:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(a=g.Pass5_T4_Kills)||void 0===a?void 0:a.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"T5 Kills:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(l=g.Pass5_T5_Kills)||void 0===l?void 0:l.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Kill Point:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(c=g.Pass5_Total_kills)||void 0===c?void 0:c.toLocaleString()})]})]})]}),(0,Gk.jsxs)("div",{className:"stat-container-group",children:[(0,Gk.jsxs)("div",{className:"main-stats",children:[(0,Gk.jsx)("h2",{className:"main-stats-title",children:"Pass 8 and Kingsland"}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Deaths:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(u=Number(null===g||void 0===g?void 0:g.Pass7_Deaths))||void 0===u?void 0:u.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"T4 Kills:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(h=g.Pass7_T4_Kills)||void 0===h?void 0:h.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"T5 Kills:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(d=g.Pass7_T5_Kills)||void 0===d?void 0:d.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Kill Point:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(f=g.Pass7_Total_kills)||void 0===f?void 0:f.toLocaleString()})]})]}),(0,Gk.jsxs)("div",{className:"main-stats",children:[(0,Gk.jsx)("h2",{className:"main-stats-title",children:"Final Fights"}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Deaths:"}),(0,Gk.jsx)("p",{className:"main-stat",children:0})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"T4 Kills:"}),(0,Gk.jsx)("p",{className:"main-stat",children:0})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"T5 Kills:"}),(0,Gk.jsx)("p",{className:"main-stat",children:0})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Kill Point:"}),(0,Gk.jsx)("p",{className:"main-stat",children:0})]})]})]})]}),(0,Gk.jsxs)("div",{className:"canvas-group",children:[(0,Gk.jsx)("p",{className:"topTitle2",children:"Targets"}),(0,Gk.jsxs)("div",{className:"main-stats2",children:[(0,Gk.jsx)("div",{className:"canvas-and-text",children:(0,Gk.jsx)(eD,{percentage:D})}),(0,Gk.jsxs)("p",{className:"textF",children:[(0,Gk.jsx)("span",{className:"textF_Title",children:"Total Deaths: "}),A.toLocaleString()," / ",null===g||void 0===g||null===(p=g.DeathReq)||void 0===p?void 0:p.toLocaleString()]})]}),(0,Gk.jsxs)("div",{className:"main-stats2",children:[(0,Gk.jsx)("div",{className:"canvas-and-text",children:(0,Gk.jsx)(eD,{percentage:P})}),(0,Gk.jsxs)("p",{className:"textF",children:[(0,Gk.jsx)("span",{className:"textF_Title",children:"Total Kills: "}),N.toLocaleString()," / ",C.toLocaleString()]})]})]}),(0,Gk.jsx)("b",{}),(0,Gk.jsx)("b",{}),(0,Gk.jsx)("b",{}),(0,Gk.jsx)("b",{})]})]});case"allTime":return void 0===v||null===v?(0,Gk.jsx)("p",{children:"No All Time stat Found"}):(0,Gk.jsxs)(Gk.Fragment,{children:[(0,Gk.jsx)("h1",{children:"All Time Stats"}),(0,Gk.jsx)("h5",{children:"left hand side only starts from APR24 Currently"}),(0,Gk.jsxs)("div",{className:"AlttimeGroup",children:[(0,Gk.jsxs)("div",{className:"Alltime-stats-container",children:[(0,Gk.jsxs)("div",{className:"All-stats",children:[(0,Gk.jsx)("h2",{className:"main-stats-title",children:" Pass 4 Fights"}),(0,Gk.jsx)("br",{}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Deaths:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(m=v.TD_4)||void 0===m?void 0:m.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Kill Point:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(y=v.TKP_4)||void 0===y?void 0:y.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Total Kills:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(b=v.TK_4)||void 0===b?void 0:b.toLocaleString()})]})]}),(0,Gk.jsxs)("div",{className:"All-stats",children:[(0,Gk.jsx)("h2",{className:"main-stats-title",children:" Altar Fights"}),(0,Gk.jsx)("br",{}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Deaths:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(x=v.TD_5)||void 0===x?void 0:x.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Kill Point:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(_=v.TKP_5)||void 0===_?void 0:_.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Total Kills:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(k=v.TK_5)||void 0===k?void 0:k.toLocaleString()})]})]}),(0,Gk.jsxs)("div",{className:"All-stats",children:[(0,Gk.jsx)("h2",{className:"main-stats-title",children:" Pass 7 and KL Fights"}),(0,Gk.jsx)("br",{}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Deaths:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(I=v.TD_7)||void 0===I?void 0:I.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Kill Point:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(T=v.TKP_7)||void 0===T?void 0:T.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Total Kills:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(E=v.TK_7)||void 0===E?void 0:E.toLocaleString()})]})]}),(0,Gk.jsxs)("div",{className:"All-stats",children:[(0,Gk.jsx)("h2",{className:"main-stats-title",children:"OverAll"}),(0,Gk.jsx)("br",{}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Deaths:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(M=v.TD)||void 0===M?void 0:M.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Kill Point:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(R=v.TKP)||void 0===R?void 0:R.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Total Kills:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===(O=v.TK)||void 0===O?void 0:O.toLocaleString()})]})]}),(0,Gk.jsxs)("div",{className:"All-stats",children:[(0,Gk.jsx)("h2",{className:"main-stats-title",children:"Misc"}),(0,Gk.jsx)("br",{}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Rss Assisted:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(L=g.Pass4_Deaths)||void 0===L?void 0:L.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Helps:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(F=g.Pass4_T4_Kills)||void 0===F?void 0:F.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"Gathered:"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(j=g.Pass4_Total_kills)||void 0===j?void 0:j.toLocaleString()})]})]}),(0,Gk.jsxs)("div",{className:"All-stats",children:[(0,Gk.jsx)("h2",{className:"main-stats-title",children:"Low Tier Kills"}),(0,Gk.jsx)("br",{}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"T1"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(V=g.Pass4_Deaths)||void 0===V?void 0:V.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"T2"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(z=g.Pass4_T4_Kills)||void 0===z?void 0:z.toLocaleString()})]}),(0,Gk.jsxs)("div",{className:"main-stat-wrapper",children:[(0,Gk.jsx)("span",{className:"main-stat-label",children:"T3"}),(0,Gk.jsx)("p",{className:"main-stat",children:null===g||void 0===g||null===(U=g.Pass4_Total_kills)||void 0===U?void 0:U.toLocaleString()})]})]})]}),(0,Gk.jsxs)("div",{className:"canvas-group",children:[(0,Gk.jsxs)("div",{className:"All-stats3",children:[(0,Gk.jsxs)("h3",{className:"graph-title",children:[(0,Gk.jsx)("img",{src:tD,alt:"Total Deaths Icon",width:"24",height:"24",className:"graph-icon"}),"Total Deaths"]}),(0,Gk.jsx)(pD,{dataPoints:[null!==(B=null===v||void 0===v?void 0:v.TD_OCT_23)&&void 0!==B?B:0,null!==(q=null===v||void 0===v?void 0:v.TD_APR_24)&&void 0!==q?q:0,null!==(K=null===v||void 0===v?void 0:v.TD_JUN_24)&&void 0!==K?K:0],borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"})]}),(0,Gk.jsxs)("div",{className:"All-stats2",children:[(0,Gk.jsxs)("h3",{className:"graph-title",children:[(0,Gk.jsx)("img",{src:nD,alt:"Total Deaths Icon",width:"24",height:"24",className:"graph-icon"}),"Total KillPoint"]}),(0,Gk.jsx)(pD,{dataPoints:[null!==(W=null===v||void 0===v?void 0:v.KP_OCT_23)&&void 0!==W?W:0,null!==(H=null===v||void 0===v?void 0:v.KP_APR_24)&&void 0!==H?H:0,null!==(G=null===v||void 0===v?void 0:v.KP_JUN_24)&&void 0!==G?G:0],borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.5)"})]}),(0,Gk.jsxs)("div",{className:"All-stats2",children:[(0,Gk.jsxs)("h3",{className:"graph-title",children:[(0,Gk.jsx)("img",{src:nD,alt:"Total Deaths Icon",width:"24",height:"24",className:"graph-icon"}),"Total Kills (T4/T5)"]}),(0,Gk.jsx)(pD,{dataPoints:[null!==(X=null===v||void 0===v?void 0:v.TK_OCT_23)&&void 0!==X?X:0,null!==(Y=null===v||void 0===v?void 0:v.TK_APR_24)&&void 0!==Y?Y:0,null!==(Q=null===v||void 0===v?void 0:v.TK_JUN_24)&&void 0!==Q?Q:0],borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.5)"})]})]})]})]});default:return null}})()})]})}),(0,Gk.jsx)("footer",{className:"home-footer",children:(0,Gk.jsx)("span",{className:"home-text15",children:"\xa9 2024 All Rights Reserved."})})]})};gn.initializeApp({apiKey:"AIzaSyBYq-OcMmsJBx5CMYVASBBJNZE9bBrwqLA",authDomain:"kingdom1418-rok.firebaseapp.com",projectId:"kingdom1418-rok",storageBucket:"kingdom1418-rok.appspot.com",messagingSenderId:"52859370206",appId:"1:52859370206:web:95983696b1f350397fa04f",measurementId:"G-5QTEHKEFNL"});class mD extends i.Component{constructor(e){super(e),this.onBack=e=>{null!==e&&this.setState({page:"Home",playerData:e,userID:""})},this.onBack2=()=>{this.setState({page:"Calculator"})},this.changePage=e=>{this.setState({page:e})},this.handleInputChangeU=e=>{this.setState({userID:e})},this.handleInputChangeP=e=>{this.setState({password:e})},this.handleInputChangecP=e=>{this.setState({cpassword:e})},this.handleSignIn=async()=>{const{userID:e}=this.state;let t="";try{t=e+"@newK1418Rok.com",await gn.auth().setPersistence(gn.auth.Auth.Persistence.LOCAL),await gn.auth().signInWithEmailAndPassword(t,"test12345"),this.setState({accPage:"Main"})}catch(n){alert("Password or user ID is wrong")}},this.handleCreate=async()=>{const{userID:e}=this.state;let t="";try{t=e+"@newK1418Rok.com";const n=gn.firestore().collection("JUN_2024_KVK").doc(e);if((await n.get()).exists){await gn.auth().createUserWithEmailAndPassword(t,"test12345");this.setState({accPage:"Main"})}else alert("No user Found - check ID or contact KUKI")}catch(n){alert("Account already exists")}},this.handleChangePageAccountS=()=>{this.setState({accPage:"Create"})},this.handleChangePageAccountC=()=>{console.log("here"),this.setState({accPage:"Sign"})},this.toggleMenu=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.render=()=>"Sign"===this.state.accPage?(0,Gk.jsxs)("div",{className:"home-container",children:[(0,Gk.jsxs)("header",{"data-thq":"thq-navbar",className:"home-navbar-interactive",children:[(0,Gk.jsx)("span",{className:"home-text",children:"Kingdom 1418"}),(0,Gk.jsx)("div",{className:"home-container1",children:(0,Gk.jsx)("div",{"data-thq":"thq-navbar-nav",className:"home-desktop-menu",children:(0,Gk.jsx)(Yk,{rootClassName:"rootClassName17"})})}),(0,Gk.jsx)("div",{"data-thq":"thq-burger-menu",className:"home-burger-menu",onClick:this.toggleMenu,children:(0,Gk.jsx)("svg",{viewBox:"0 0 1024 1024",className:"home-icon",style:{fill:"white"},children:(0,Gk.jsx)("path",{d:"M128 554.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 298.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 810.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667z"})})}),(0,Gk.jsx)("div",{"data-thq":"thq-mobile-menu",className:"home-mobile-menu ".concat(this.state.isMenuOpen?"open":""),children:(0,Gk.jsxs)("div",{className:"home-nav",children:[(0,Gk.jsxs)("div",{className:"home-top",children:[(0,Gk.jsx)("span",{className:"home-text01",children:"Kingdom 1418"}),(0,Gk.jsx)("div",{"data-thq":"thq-close-menu",className:"home-close-menu",onClick:this.toggleMenu,children:(0,Gk.jsx)("svg",{viewBox:"0 0 1024 1024",className:"home-icon02",style:{fill:"white"},children:(0,Gk.jsx)("path",{d:"M810 274l-238 238 238 238-60 60-238-238-238 238-60-60 238-238-238-238 60-60 238 238 238-238z"})})})]}),(0,Gk.jsx)("nav",{className:"home-links",children:(0,Gk.jsx)(Yk,{rootClassName:"rootClassName14"})})]})})]}),(0,Gk.jsxs)("div",{className:"form-container",children:[(0,Gk.jsx)("h1",{className:"form-title",children:"Sign In"}),(0,Gk.jsxs)("form",{className:"form",children:[(0,Gk.jsx)("label",{className:"label",children:"User ID"}),(0,Gk.jsx)("input",{className:"input",type:"number",placeholder:"Your in-game ID",inputMode:"numeric",value:this.state.userID,onChange:e=>this.handleInputChangeU(e.target.value)})]}),(0,Gk.jsx)("button",{className:"create-account",onClick:this.handleChangePageAccountS,children:"Need an account?"}),(0,Gk.jsx)("button",{className:"button",onClick:this.handleSignIn,children:"Sign In"})]})]}):"Create"===this.state.accPage?(0,Gk.jsxs)("div",{className:"home-container",children:[(0,Gk.jsxs)("header",{"data-thq":"thq-navbar",className:"home-navbar-interactive",children:[(0,Gk.jsx)("span",{className:"home-text",children:"Kingdom 1418"}),(0,Gk.jsx)("div",{className:"home-container1",children:(0,Gk.jsx)("div",{"data-thq":"thq-navbar-nav",className:"home-desktop-menu",children:(0,Gk.jsx)(Yk,{rootClassName:"rootClassName17"})})}),(0,Gk.jsx)("div",{"data-thq":"thq-burger-menu",className:"home-burger-menu",onClick:this.toggleMenu,children:(0,Gk.jsx)("svg",{viewBox:"0 0 1024 1024",className:"home-icon",style:{fill:"white"},children:(0,Gk.jsx)("path",{d:"M128 554.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 298.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 810.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667z"})})}),(0,Gk.jsx)("div",{"data-thq":"thq-mobile-menu",className:"home-mobile-menu ".concat(this.state.isMenuOpen?"open":""),children:(0,Gk.jsxs)("div",{className:"home-nav",children:[(0,Gk.jsxs)("div",{className:"home-top",children:[(0,Gk.jsx)("span",{className:"home-text01",children:"Kingdom 1418"}),(0,Gk.jsx)("div",{"data-thq":"thq-close-menu",className:"home-close-menu",onClick:this.toggleMenu,children:(0,Gk.jsx)("svg",{viewBox:"0 0 1024 1024",className:"home-icon02",style:{fill:"white"},children:(0,Gk.jsx)("path",{d:"M810 274l-238 238 238 238-60 60-238-238-238 238-60-60 238-238-238-238 60-60 238 238 238-238z"})})})]}),(0,Gk.jsx)("nav",{className:"home-links",children:(0,Gk.jsx)(Yk,{rootClassName:"rootClassName14"})})]})})]}),(0,Gk.jsxs)("div",{className:"form-container",children:[(0,Gk.jsx)("h1",{className:"form-title",children:"Create an Account"}),(0,Gk.jsxs)("form",{className:"form",children:[(0,Gk.jsx)("label",{className:"label",children:"User ID"}),(0,Gk.jsx)("input",{className:"input",type:"number",placeholder:"Your in-game ID",inputMode:"numeric",value:this.state.userID,onChange:e=>this.handleInputChangeU(e.target.value)})]}),(0,Gk.jsx)("button",{className:"create-account",onClick:this.handleChangePageAccountC,children:"Have an Account?"}),(0,Gk.jsx)("button",{className:"button",onClick:this.handleCreate,children:"Create"})]})]}):(0,Gk.jsxs)("div",{className:"home-container",children:[(0,Gk.jsxs)("header",{"data-thq":"thq-navbar",className:"home-navbar-interactive",children:[(0,Gk.jsx)("span",{className:"home-text",children:"Kingdom 1418"}),(0,Gk.jsx)("div",{className:"home-container1",children:(0,Gk.jsx)("div",{"data-thq":"thq-navbar-nav",className:"home-desktop-menu",children:(0,Gk.jsx)(Yk,{rootClassName:"rootClassName17"})})}),(0,Gk.jsx)("div",{"data-thq":"thq-burger-menu",className:"home-burger-menu",onClick:this.toggleMenu,children:(0,Gk.jsx)("svg",{viewBox:"0 0 1024 1024",className:"home-icon",style:{fill:"white"},children:(0,Gk.jsx)("path",{d:"M128 554.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 298.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 810.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667z"})})}),(0,Gk.jsx)("div",{"data-thq":"thq-mobile-menu",className:"home-mobile-menu ".concat(this.state.isMenuOpen?"open":""),children:(0,Gk.jsxs)("div",{className:"home-nav",children:[(0,Gk.jsxs)("div",{className:"home-top",children:[(0,Gk.jsx)("span",{className:"home-text01",children:"Kingdom 1418"}),(0,Gk.jsx)("div",{"data-thq":"thq-close-menu",className:"home-close-menu",onClick:this.toggleMenu,children:(0,Gk.jsx)("svg",{viewBox:"0 0 1024 1024",className:"home-icon02",style:{fill:"white"},children:(0,Gk.jsx)("path",{d:"M810 274l-238 238 238 238-60 60-238-238-238 238-60-60 238-238-238-238 60-60 238 238 238-238z"})})})]}),(0,Gk.jsx)("nav",{className:"home-links",children:(0,Gk.jsx)(Yk,{rootClassName:"rootClassName14"})})]})})]}),(0,Gk.jsx)(gD,{userID:this.state.userID,playerData:this.state.playerData,onBack:e=>this.onBack(e),onBack2:this.onBack2})]}),this.state={page:"Home",userID:"",password:"",accPage:"Sign",cpassword:"",isMenuOpen:!1,playerData:{Id:"",name:"",DeathReq:0,KillReq:0,Pass4_Deaths:0,Pass4_T4_Kills:0,Pass4_T5_Kills:0,Pass4_Total_kills:0,Pass5_Deaths:0,Pass5_T4_Kills:0,Pass5_T5_Kills:0,Pass5_Total_kills:0,Pass7_Deaths:0,Pass7_T4_Kills:0,Pass7_T5_Kills:0,Pass7_Total_kills:0,KL_Deaths:0,KL_T4_Kills:0,KL_T5_Kills:0,KL_Total_kills:0,Power:0,Total_Kills:0,T4_Kills:0,T5_Kills:0,Kingdom:1418}}}componentDidMount(){gn.auth().onAuthStateChanged((e=>{if(e){const e=gn.auth().currentUser,t=null===e||void 0===e?void 0:e.email,n=null===t||void 0===t?void 0:t.split("@")[0];if(void 0===n)return;this.setState({accPage:"Main",userID:n})}else this.setState({accPage:"Sign",playerData:{Id:"",name:"",DeathReq:0,KillReq:0,Pass4_Deaths:0,Pass4_T4_Kills:0,Pass4_T5_Kills:0,Pass4_Total_kills:0,Pass5_Deaths:0,Pass5_T4_Kills:0,Pass5_T5_Kills:0,Pass5_Total_kills:0,Pass7_Deaths:0,Pass7_T4_Kills:0,Pass7_T5_Kills:0,Pass7_Total_kills:0,KL_Deaths:0,KL_T4_Kills:0,KL_T5_Kills:0,KL_Total_kills:0,Power:0,Total_Kills:0,T4_Kills:0,T5_Kills:0,Kingdom:0}})}))}}const vD=mD;PA.register(jA,xN,oN);gn.initializeApp({apiKey:"AIzaSyBYq-OcMmsJBx5CMYVASBBJNZE9bBrwqLA",authDomain:"kingdom1418-rok.firebaseapp.com",projectId:"kingdom1418-rok",storageBucket:"kingdom1418-rok.appspot.com",messagingSenderId:"52859370206",appId:"1:52859370206:web:95983696b1f350397fa04f",measurementId:"G-5QTEHKEFNL"});var yD=function(e){return e.Kills="Kills",e.Deaths="Deaths",e}(yD||{});const bD=e=>{let{currentPage:t,totalPages:n,onPageChange:i}=e;return(0,Gk.jsxs)("div",{className:"pagination",children:[(0,Gk.jsx)("button",{onClick:()=>i(Math.max(t-1,1)),disabled:1===t,children:"< Prev"}),(0,Gk.jsxs)("span",{children:["Page ",t," of ",n]}),(0,Gk.jsx)("button",{onClick:()=>i(Math.min(t+1,n)),disabled:t===n,children:"Next >"})]})};class wD extends i.Component{constructor(e){super(e),this.fetchAllPlayerData=async()=>{try{const e=gn.firestore().collection("SEP_2024_KVK"),t=await e.get(),n=[];return t.forEach((e=>{if(e.exists){const t=e.data();n.push(t)}})),n}catch(e){return[]}},this.rankPlayers=(e,t,n)=>e.sort(((e,i)=>{let r,s;var o,a;if("pass4"===n){if(t===yD.Kills)r=null!==(o=e.web_total)&&void 0!==o?o:0,s=null!==(a=i.web_total)&&void 0!==a?a:0;else if(t===yD.Deaths){var l,c;r=null!==(l=e.Pass4_Deaths)&&void 0!==l?l:0,s=null!==(c=i.Pass4_Deaths)&&void 0!==c?c:0}}else if("Altar"===n){var u,h;if(t===yD.Kills)r=null!==(u=e.Pass5_T4_Kills+e.Pass5_T5_Kills)&&void 0!==u?u:0,s=null!==(h=i.Pass5_T4_Kills+i.Pass5_T5_Kills)&&void 0!==h?h:0;else if(t===yD.Deaths){var d,f;r=null!==(d=e.Pass5_Deaths)&&void 0!==d?d:0,s=null!==(f=i.Pass5_Deaths)&&void 0!==f?f:0}}else if("pass7"===n){var p,g;if(t===yD.Kills)r=null!==(p=e.Pass7_T4_Kills+e.Pass7_T5_Kills)&&void 0!==p?p:0,s=null!==(g=i.Pass7_T4_Kills+i.Pass7_T5_Kills)&&void 0!==g?g:0;else if(t===yD.Deaths){var m,v;r=null!==(m=e.Pass7_Deaths)&&void 0!==m?m:0,s=null!==(v=i.Pass7_Deaths)&&void 0!==v?v:0}}else{var y,b,w,x,_,k;if(t===yD.Kills)r=(null!==(y=e.web_total)&&void 0!==y?y:0)+(null!==(b=e.Pass5_T4_Kills+e.Pass5_T5_Kills)&&void 0!==b?b:0)+(null!==(w=e.Pass7_T4_Kills+e.Pass7_T5_Kills)&&void 0!==w?w:0),s=(null!==(x=i.web_total)&&void 0!==x?x:0)+(null!==(_=i.Pass5_T4_Kills+i.Pass5_T5_Kills)&&void 0!==_?_:0)+(null!==(k=i.Pass7_T4_Kills+i.Pass7_T5_Kills)&&void 0!==k?k:0);else if(t===yD.Deaths){var S,I,T,E,C,A;r=(null!==(S=e.Pass4_Deaths)&&void 0!==S?S:0)+(null!==(I=e.Pass5_Deaths)&&void 0!==I?I:0)+(null!==(T=e.Pass7_Deaths)&&void 0!==T?T:0),s=(null!==(E=i.Pass4_Deaths)&&void 0!==E?E:0)+(null!==(C=i.Pass5_Deaths)&&void 0!==C?C:0)+(null!==(A=i.Pass7_Deaths)&&void 0!==A?A:0)}}return void 0===s||void 0===r?0:s-r})),this.toggleMenu=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.handleRankingTypeChange=e=>{this.rankPlayers(this.state.playerList,e.target.value,this.state.pass),this.setState({rankingType:e.target.value})},this.handlePassChange=e=>{this.rankPlayers(this.state.playerList,this.state.rankingType,e.target.value),this.setState({pass:e.target.value})},this.render=()=>{const{playerList:e,currentPage:t,rowsPerPage:n,rankingType:i}=this.state,r=e.length,s=Math.ceil(r/n),o=e.slice((t-1)*n,t*n);return(0,Gk.jsxs)("div",{className:"home-container",children:[(0,Gk.jsxs)("header",{"data-thq":"thq-navbar",className:"home-navbar-interactive",children:[(0,Gk.jsx)("span",{className:"home-text",children:"Kingdom 1418"}),(0,Gk.jsx)("div",{className:"home-container1",children:(0,Gk.jsx)("div",{"data-thq":"thq-navbar-nav",className:"home-desktop-menu",children:(0,Gk.jsx)(Yk,{rootClassName:"rootClassName17"})})}),(0,Gk.jsx)("div",{"data-thq":"thq-burger-menu",className:"home-burger-menu",onClick:this.toggleMenu,children:(0,Gk.jsx)("svg",{viewBox:"0 0 1024 1024",className:"home-icon",style:{fill:"white"},children:(0,Gk.jsx)("path",{d:"M128 554.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 298.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 810.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667z"})})}),(0,Gk.jsx)("div",{"data-thq":"thq-mobile-menu",className:"home-mobile-menu ".concat(this.state.isMenuOpen?"open":""),children:(0,Gk.jsxs)("div",{className:"home-nav",children:[(0,Gk.jsxs)("div",{className:"home-top",children:[(0,Gk.jsx)("span",{className:"home-text01",children:"Kingdom 1418"}),(0,Gk.jsx)("div",{"data-thq":"thq-close-menu",className:"home-close-menu",onClick:this.toggleMenu,children:(0,Gk.jsx)("svg",{viewBox:"0 0 1024 1024",className:"home-icon02",style:{fill:"white"},children:(0,Gk.jsx)("path",{d:"M810 274l-238 238 238 238-60 60-238-238-238 238-60-60 238-238-238-238 60-60 238 238 238-238z"})})})]}),(0,Gk.jsx)("nav",{className:"home-links",children:(0,Gk.jsx)(Yk,{rootClassName:"rootClassName14"})})]})})]}),(0,Gk.jsxs)("div",{className:"ranking-container",children:[(0,Gk.jsx)("h1",{className:"ranking-title",children:"Player Rankings"}),(0,Gk.jsx)("p",{className:"ranking-instructions",children:"Use the dropdown menus to filter rankings by Kills/Deaths and by Pass. Navigate through the table pages with the Prev and Next buttons."}),(0,Gk.jsxs)("div",{className:"ranking-controls",children:[(0,Gk.jsxs)("select",{value:i,onChange:this.handleRankingTypeChange,className:"ranking-dropdown",children:[(0,Gk.jsx)("option",{value:yD.Kills,children:"Kills"}),(0,Gk.jsx)("option",{value:yD.Deaths,children:"Deaths"})]}),(0,Gk.jsxs)("select",{value:this.state.pass,onChange:this.handlePassChange,className:"ranking-dropdown",children:[(0,Gk.jsx)("option",{value:"pass4",children:"Pass 4"}),(0,Gk.jsx)("option",{value:"Altar",children:"Pass 7"}),(0,Gk.jsx)("option",{value:"pass7",children:"Pass 8"}),(0,Gk.jsx)("option",{value:"pass9",children:"total"})]})]}),(0,Gk.jsx)(bD,{currentPage:t,totalPages:s,onPageChange:e=>this.setState({currentPage:e})}),(0,Gk.jsxs)("table",{className:"ranking-table",children:[(0,Gk.jsx)("thead",{children:(0,Gk.jsxs)("tr",{children:[(0,Gk.jsx)("th",{children:"Rank"}),(0,Gk.jsx)("th",{children:"Name"}),(0,Gk.jsx)("th",{children:"Total Kills/Deaths"})]})}),(0,Gk.jsx)("tbody",{children:this.state.load&&o.map(((e,i)=>(0,Gk.jsxs)("tr",{children:[(0,Gk.jsx)("td",{children:(t-1)*n+i+1}),(0,Gk.jsx)("td",{children:e.name}),(0,Gk.jsx)("td",{children:this.state.rankingType===yD.Kills?"pass4"===this.state.pass?(e.web_total||0).toLocaleString():"Altar"===this.state.pass?(e.Pass5_T4_Kills+e.Pass5_T5_Kills).toLocaleString():"pass7"===this.state.pass?(e.Pass7_T4_Kills+e.Pass7_T5_Kills).toLocaleString():"pass9"===this.state.pass?((e.web_total||0)+e.Pass5_T4_Kills+e.Pass5_T5_Kills+e.Pass7_T4_Kills+e.Pass7_T5_Kills).toLocaleString():(e.KL_T4_Kills+e.KL_T5_Kills).toLocaleString():"pass4"===this.state.pass?e.Pass4_Deaths.toLocaleString():"Altar"===this.state.pass?e.Pass5_Deaths.toLocaleString():"pass7"===this.state.pass?e.Pass7_Deaths.toLocaleString():"pass9"===this.state.pass?(e.Pass4_Deaths+e.Pass5_Deaths+e.Pass7_Deaths).toLocaleString():e.KL_Deaths.toLocaleString()})]},e.Id)))})]})]}),(0,Gk.jsx)("footer",{className:"home-footer",children:(0,Gk.jsx)("span",{className:"home-text15",children:"\xa9 2024 All Rights Reserved."})})]})},this.state={load:!1,currentPage:1,rowsPerPage:50,page:"Home",password:"",accPage:"Sign",rankingType:yD.Kills,pass:"pass4",playerList:[],isMenuOpen:!1,playerData:{Id:"",name:"",DeathReq:0,KillReq:0,Pass4_Deaths:0,Pass4_T4_Kills:0,Pass4_T5_Kills:0,Pass4_Total_kills:0,Pass5_Deaths:0,Pass5_T4_Kills:0,Pass5_T5_Kills:0,Pass5_Total_kills:0,Pass7_Deaths:0,Pass7_T4_Kills:0,Pass7_T5_Kills:0,Pass7_Total_kills:0,KL_Deaths:0,KL_T4_Kills:0,KL_T5_Kills:0,KL_Total_kills:0,Power:0,Total_Kills:0,T4_Kills:0,T5_Kills:0,web_total:0}}}async componentDidMount(){const e=await this.fetchAllPlayerData(),t=this.rankPlayers(e,this.state.rankingType,this.state.pass);this.setState({playerList:t,load:!0})}}const xD=()=>(0,Gk.jsx)(be,{children:(0,Gk.jsxs)(de,{children:[(0,Gk.jsx)(ue,{Component:Zk,path:"/"}),(0,Gk.jsx)(ue,{Component:vD,path:"/account"}),(0,Gk.jsx)(ue,{Component:wD,path:"/Ranking"}),(0,Gk.jsx)(ue,{Component:Zk,path:"**"})]})}),_D=e=>{e&&e instanceof Function&&n.e(27).then(n.bind(n,27)).then((t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:s,getTTFB:o}=t;n(e),i(e),r(e),s(e),o(e)}))};s.createRoot(document.getElementById("root")).render((0,Gk.jsx)(i.StrictMode,{children:(0,Gk.jsx)(xD,{})})),_D()})()})();